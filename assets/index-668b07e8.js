(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ta(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const wg="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Sg=ta(wg);function Ir(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Me(r)?Ag(r):Ir(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Me(t))return t;if(Pe(t))return t}}const Eg=/;(?![^(]*\))/g,Cg=/:([^]+)/,Tg=/\/\*.*?\*\//gs;function Ag(t){const e={};return t.replace(Tg,"").split(Eg).forEach(n=>{if(n){const r=n.split(Cg);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Or(t){let e="";if(Me(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const r=Or(t[n]);r&&(e+=r+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Pg(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Me(e)&&(t.class=Or(e)),n&&(t.style=Ir(n)),t}const Rg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xg=ta(Rg);function Uu(t){return!!t||t===""}function kg(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=dn(t[r],e[r]);return n}function dn(t,e){if(t===e)return!0;let n=Ec(t),r=Ec(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=bi(t),r=bi(e),n||r)return t===e;if(n=ne(t),r=ne(e),n||r)return n&&r?kg(t,e):!1;if(n=Pe(t),r=Pe(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!dn(t[a],e[a]))return!1}}return String(t)===String(e)}function na(t,e){return t.findIndex(n=>dn(n,e))}const ir=t=>Me(t)?t:t==null?"":ne(t)||Pe(t)&&(t.toString===Gu||!le(t.toString))?JSON.stringify(t,$u,2):String(t),$u=(t,e)=>e&&e.__v_isRef?$u(t,e.value):hr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Vn(e)?{[`Set(${e.size})`]:[...e.values()]}:Pe(e)&&!ne(e)&&!Hu(e)?String(e):e,Ae={},cr=[],gt=()=>{},Ig=()=>!1,Og=/^on[^a-z]/,Di=t=>Og.test(t),pl=t=>t.startsWith("onUpdate:"),Ne=Object.assign,gl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Mg=Object.prototype.hasOwnProperty,ve=(t,e)=>Mg.call(t,e),ne=Array.isArray,hr=t=>Ni(t)==="[object Map]",Vn=t=>Ni(t)==="[object Set]",Ec=t=>Ni(t)==="[object Date]",le=t=>typeof t=="function",Me=t=>typeof t=="string",bi=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",ml=t=>Pe(t)&&le(t.then)&&le(t.catch),Gu=Object.prototype.toString,Ni=t=>Gu.call(t),Lg=t=>Ni(t).slice(8,-1),Hu=t=>Ni(t)==="[object Object]",_l=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ii=ta(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ra=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Dg=/-(\w)/g,Qe=ra(t=>t.replace(Dg,(e,n)=>n?n.toUpperCase():"")),Ng=/\B([A-Z])/g,ct=ra(t=>t.replace(Ng,"-$1").toLowerCase()),Fi=ra(t=>t.charAt(0).toUpperCase()+t.slice(1)),si=ra(t=>t?`on${Fi(t)}`:""),br=(t,e)=>!Object.is(t,e),ur=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ns=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$t=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Cc;const Fg=()=>Cc||(Cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let tt;class vl{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=tt,!e&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=tt;try{return tt=this,e()}finally{tt=n}}}on(){tt=this}off(){tt=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function Bg(t){return new vl(t)}function ju(t,e=tt){e&&e.active&&e.effects.push(t)}function Ug(){return tt}function $g(t){tt&&tt.cleanups.push(t)}const yl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Wu=t=>(t.w&fn)>0,zu=t=>(t.n&fn)>0,Gg=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=fn},Hg=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Wu(i)&&!zu(i)?i.delete(t):e[n++]=i,i.w&=~fn,i.n&=~fn}e.length=n}},wo=new WeakMap;let Xr=0,fn=1;const So=30;let pt;const Ln=Symbol(""),Eo=Symbol("");class Bi{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ju(this,r)}run(){if(!this.active)return this.fn();let e=pt,n=ln;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=pt,pt=this,ln=!0,fn=1<<++Xr,Xr<=So?Gg(this):Tc(this),this.fn()}finally{Xr<=So&&Hg(this),fn=1<<--Xr,pt=this.parent,ln=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pt===this?this.deferStop=!0:this.active&&(Tc(this),this.onStop&&this.onStop(),this.active=!1)}}function Tc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function jg(t,e){t.effect&&(t=t.effect.fn);const n=new Bi(t);e&&(Ne(n,e),e.scope&&ju(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function Wg(t){t.effect.stop()}let ln=!0;const Vu=[];function Mr(){Vu.push(ln),ln=!1}function Lr(){const t=Vu.pop();ln=t===void 0?!0:t}function ot(t,e,n){if(ln&&pt){let r=wo.get(t);r||wo.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=yl()),Ku(i)}}function Ku(t,e){let n=!1;Xr<=So?zu(t)||(t.n|=fn,n=!Wu(t)):n=!t.has(pt),n&&(t.add(pt),pt.deps.push(t))}function Gt(t,e,n,r,i,s){const a=wo.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&ne(t)){const l=$t(r);a.forEach((c,h)=>{(h==="length"||h>=l)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":ne(t)?_l(n)&&o.push(a.get("length")):(o.push(a.get(Ln)),hr(t)&&o.push(a.get(Eo)));break;case"delete":ne(t)||(o.push(a.get(Ln)),hr(t)&&o.push(a.get(Eo)));break;case"set":hr(t)&&o.push(a.get(Ln));break}if(o.length===1)o[0]&&Co(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);Co(yl(l))}}function Co(t,e){const n=ne(t)?t:[...t];for(const r of n)r.computed&&Ac(r);for(const r of n)r.computed||Ac(r)}function Ac(t,e){(t!==pt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const zg=ta("__proto__,__v_isRef,__isVue"),qu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bi)),Vg=ia(),Kg=ia(!1,!0),qg=ia(!0),Yg=ia(!0,!0),Pc=Xg();function Xg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ye(this);for(let s=0,a=this.length;s<a;s++)ot(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ye)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Mr();const r=ye(this)[e].apply(this,n);return Lr(),r}}),t}function ia(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?td:ed:e?Qu:Zu).get(r))return r;const a=ne(r);if(!t&&a&&ve(Pc,i))return Reflect.get(Pc,i,s);const o=Reflect.get(r,i,s);return(bi(i)?qu.has(i):zg(i))||(t||ot(r,"get",i),e)?o:We(o)?a&&_l(i)?o:o.value:Pe(o)?t?wl(o):Dr(o):o}}const Jg=Yu(),Zg=Yu(!0);function Yu(t=!1){return function(n,r,i,s){let a=n[r];if($n(a)&&We(a)&&!We(i))return!1;if(!t&&(!wi(i)&&!$n(i)&&(a=ye(a),i=ye(i)),!ne(n)&&We(a)&&!We(i)))return a.value=i,!0;const o=ne(n)&&_l(r)?Number(r)<n.length:ve(n,r),l=Reflect.set(n,r,i,s);return n===ye(s)&&(o?br(i,a)&&Gt(n,"set",r,i):Gt(n,"add",r,i)),l}}function Qg(t,e){const n=ve(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Gt(t,"delete",e,void 0),r}function em(t,e){const n=Reflect.has(t,e);return(!bi(e)||!qu.has(e))&&ot(t,"has",e),n}function tm(t){return ot(t,"iterate",ne(t)?"length":Ln),Reflect.ownKeys(t)}const Xu={get:Vg,set:Jg,deleteProperty:Qg,has:em,ownKeys:tm},Ju={get:qg,set(t,e){return!0},deleteProperty(t,e){return!0}},nm=Ne({},Xu,{get:Kg,set:Zg}),rm=Ne({},Ju,{get:Yg}),bl=t=>t,sa=t=>Reflect.getPrototypeOf(t);function Qi(t,e,n=!1,r=!1){t=t.__v_raw;const i=ye(t),s=ye(e);n||(e!==s&&ot(i,"get",e),ot(i,"get",s));const{has:a}=sa(i),o=r?bl:n?Cl:Si;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function es(t,e=!1){const n=this.__v_raw,r=ye(n),i=ye(t);return e||(t!==i&&ot(r,"has",t),ot(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ts(t,e=!1){return t=t.__v_raw,!e&&ot(ye(t),"iterate",Ln),Reflect.get(t,"size",t)}function Rc(t){t=ye(t);const e=ye(this);return sa(e).has.call(e,t)||(e.add(t),Gt(e,"add",t,t)),this}function xc(t,e){e=ye(e);const n=ye(this),{has:r,get:i}=sa(n);let s=r.call(n,t);s||(t=ye(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?br(e,a)&&Gt(n,"set",t,e):Gt(n,"add",t,e),this}function kc(t){const e=ye(this),{has:n,get:r}=sa(e);let i=n.call(e,t);i||(t=ye(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Gt(e,"delete",t,void 0),s}function Ic(){const t=ye(this),e=t.size!==0,n=t.clear();return e&&Gt(t,"clear",void 0,void 0),n}function ns(t,e){return function(r,i){const s=this,a=s.__v_raw,o=ye(a),l=e?bl:t?Cl:Si;return!t&&ot(o,"iterate",Ln),a.forEach((c,h)=>r.call(i,l(c),l(h),s))}}function rs(t,e,n){return function(...r){const i=this.__v_raw,s=ye(i),a=hr(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),h=n?bl:e?Cl:Si;return!e&&ot(s,"iterate",l?Eo:Ln),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:o?[h(u[0]),h(u[1])]:h(u),done:d}},[Symbol.iterator](){return this}}}}function Kt(t){return function(...e){return t==="delete"?!1:this}}function im(){const t={get(s){return Qi(this,s)},get size(){return ts(this)},has:es,add:Rc,set:xc,delete:kc,clear:Ic,forEach:ns(!1,!1)},e={get(s){return Qi(this,s,!1,!0)},get size(){return ts(this)},has:es,add:Rc,set:xc,delete:kc,clear:Ic,forEach:ns(!1,!0)},n={get(s){return Qi(this,s,!0)},get size(){return ts(this,!0)},has(s){return es.call(this,s,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:ns(!0,!1)},r={get(s){return Qi(this,s,!0,!0)},get size(){return ts(this,!0)},has(s){return es.call(this,s,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:ns(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=rs(s,!1,!1),n[s]=rs(s,!0,!1),e[s]=rs(s,!1,!0),r[s]=rs(s,!0,!0)}),[t,n,e,r]}const[sm,am,om,lm]=im();function aa(t,e){const n=e?t?lm:om:t?am:sm;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ve(n,i)&&i in r?n:r,i,s)}const cm={get:aa(!1,!1)},hm={get:aa(!1,!0)},um={get:aa(!0,!1)},dm={get:aa(!0,!0)},Zu=new WeakMap,Qu=new WeakMap,ed=new WeakMap,td=new WeakMap;function fm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pm(t){return t.__v_skip||!Object.isExtensible(t)?0:fm(Lg(t))}function Dr(t){return $n(t)?t:oa(t,!1,Xu,cm,Zu)}function nd(t){return oa(t,!1,nm,hm,Qu)}function wl(t){return oa(t,!0,Ju,um,ed)}function gm(t){return oa(t,!0,rm,dm,td)}function oa(t,e,n,r,i){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=pm(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function Dn(t){return $n(t)?Dn(t.__v_raw):!!(t&&t.__v_isReactive)}function $n(t){return!!(t&&t.__v_isReadonly)}function wi(t){return!!(t&&t.__v_isShallow)}function Sl(t){return Dn(t)||$n(t)}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function El(t){return Ns(t,"__v_skip",!0),t}const Si=t=>Pe(t)?Dr(t):t,Cl=t=>Pe(t)?wl(t):t;function Tl(t){ln&&pt&&(t=ye(t),Ku(t.dep||(t.dep=yl())))}function la(t,e){t=ye(t),t.dep&&Co(t.dep)}function We(t){return!!(t&&t.__v_isRef===!0)}function ai(t){return id(t,!1)}function rd(t){return id(t,!0)}function id(t,e){return We(t)?t:new mm(t,e)}class mm{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ye(e),this._value=n?e:Si(e)}get value(){return Tl(this),this._value}set value(e){const n=this.__v_isShallow||wi(e)||$n(e);e=n?e:ye(e),br(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Si(e),la(this))}}function _m(t){la(t)}function Nn(t){return We(t)?t.value:t}const vm={get:(t,e,n)=>Nn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return We(i)&&!We(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Al(t){return Dn(t)?t:new Proxy(t,vm)}class ym{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Tl(this),()=>la(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function bm(t){return new ym(t)}function wm(t){const e=ne(t)?new Array(t.length):{};for(const n in t)e[n]=sd(t,n);return e}class Sm{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function sd(t,e,n){const r=t[e];return We(r)?r:new Sm(t,e,n)}var ad;class Em{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ad]=!1,this._dirty=!0,this.effect=new Bi(e,()=>{this._dirty||(this._dirty=!0,la(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ye(this);return Tl(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}ad="__v_isReadonly";function Cm(t,e,n=!1){let r,i;const s=le(t);return s?(r=t,i=gt):(r=t.get,i=t.set),new Em(r,i,s||!i,n)}function Tm(t,...e){}function Bt(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Kn(s,e,n)}return i}function st(t,e,n,r){if(le(t)){const s=Bt(t,e,n,r);return s&&ml(s)&&s.catch(a=>{Kn(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(st(t[s],e,n,r));return i}function Kn(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Bt(l,null,10,[t,a,o]);return}}Am(t,n,i,r)}function Am(t,e,n,r=!0){console.error(t)}let Ei=!1,To=!1;const Ke=[];let St=0;const dr=[];let Lt=null,In=0;const od=Promise.resolve();let Pl=null;function ca(t){const e=Pl||od;return t?e.then(this?t.bind(this):t):e}function Pm(t){let e=St+1,n=Ke.length;for(;e<n;){const r=e+n>>>1;Ci(Ke[r])<t?e=r+1:n=r}return e}function ha(t){(!Ke.length||!Ke.includes(t,Ei&&t.allowRecurse?St+1:St))&&(t.id==null?Ke.push(t):Ke.splice(Pm(t.id),0,t),ld())}function ld(){!Ei&&!To&&(To=!0,Pl=od.then(cd))}function Rm(t){const e=Ke.indexOf(t);e>St&&Ke.splice(e,1)}function Rl(t){ne(t)?dr.push(...t):(!Lt||!Lt.includes(t,t.allowRecurse?In+1:In))&&dr.push(t),ld()}function Oc(t,e=Ei?St+1:0){for(;e<Ke.length;e++){const n=Ke[e];n&&n.pre&&(Ke.splice(e,1),e--,n())}}function Fs(t){if(dr.length){const e=[...new Set(dr)];if(dr.length=0,Lt){Lt.push(...e);return}for(Lt=e,Lt.sort((n,r)=>Ci(n)-Ci(r)),In=0;In<Lt.length;In++)Lt[In]();Lt=null,In=0}}const Ci=t=>t.id==null?1/0:t.id,xm=(t,e)=>{const n=Ci(t)-Ci(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cd(t){To=!1,Ei=!0,Ke.sort(xm);const e=gt;try{for(St=0;St<Ke.length;St++){const n=Ke[St];n&&n.active!==!1&&Bt(n,null,14)}}finally{St=0,Ke.length=0,Fs(),Ei=!1,Pl=null,(Ke.length||dr.length)&&cd()}}let sr,is=[];function hd(t,e){var n,r;sr=t,sr?(sr.enabled=!0,is.forEach(({event:i,args:s})=>sr.emit(i,...s)),is=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{hd(s,e)}),setTimeout(()=>{sr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,is=[])},3e3)):is=[]}function km(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ae;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:d}=r[h]||Ae;d&&(i=n.map(p=>Me(p)?p.trim():p)),u&&(i=n.map($t))}let o,l=r[o=si(e)]||r[o=si(Qe(e))];!l&&s&&(l=r[o=si(ct(e))]),l&&st(l,t,6,i);const c=r[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,st(c,t,6,i)}}function ud(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!le(t)){const l=c=>{const h=ud(c,e,!0);h&&(o=!0,Ne(a,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Pe(t)&&r.set(t,null),null):(ne(s)?s.forEach(l=>a[l]=null):Ne(a,s),Pe(t)&&r.set(t,a),a)}function ua(t,e){return!t||!Di(e)?!1:(e=e.slice(2).replace(/Once$/,""),ve(t,e[0].toLowerCase()+e.slice(1))||ve(t,ct(e))||ve(t,e))}let Ve=null,da=null;function Ti(t){const e=Ve;return Ve=t,da=t&&t.type.__scopeId||null,e}function Im(t){da=t}function Om(){da=null}const Mm=t=>xl;function xl(t,e=Ve,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Oo(-1);const s=Ti(e);let a;try{a=t(...i)}finally{Ti(s),r._d&&Oo(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ss(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:h,renderCache:u,data:d,setupState:p,ctx:f,inheritAttrs:m}=t;let _,y;const g=Ti(t);try{if(n.shapeFlag&4){const S=i||r;_=nt(h.call(S,S,u,s,p,d,f)),y=l}else{const S=e;_=nt(S.length>1?S(s,{attrs:l,slots:o,emit:c}):S(s,null)),y=e.props?l:Dm(l)}}catch(S){hi.length=0,Kn(S,t,1),_=Ie(qe)}let b=_;if(y&&m!==!1){const S=Object.keys(y),{shapeFlag:P}=b;S.length&&P&7&&(a&&S.some(pl)&&(y=Nm(y,a)),b=Rt(b,y))}return n.dirs&&(b=Rt(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),_=b,Ti(g),_}function Lm(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(pn(r)){if(r.type!==qe||r.children==="v-if"){if(e)return;e=r}}else return}return e}const Dm=t=>{let e;for(const n in t)(n==="class"||n==="style"||Di(n))&&((e||(e={}))[n]=t[n]);return e},Nm=(t,e)=>{const n={};for(const r in t)(!pl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Fm(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Mc(r,a,c):!!a;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const d=h[u];if(a[d]!==r[d]&&!ua(c,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Mc(r,a,c):!0:!!a;return!1}function Mc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!ua(n,s))return!0}return!1}function kl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const dd=t=>t.__isSuspense,Bm={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,a,o,l,c){t==null?$m(e,n,r,i,s,a,o,l,c):Gm(t,e,n,r,i,a,o,l,c)},hydrate:Hm,create:Il,normalize:jm},Um=Bm;function Ai(t,e){const n=t.props&&t.props[e];le(n)&&n()}function $m(t,e,n,r,i,s,a,o,l){const{p:c,o:{createElement:h}}=l,u=h("div"),d=t.suspense=Il(t,i,r,e,u,n,s,a,o,l);c(null,d.pendingBranch=t.ssContent,u,null,r,d,s,a),d.deps>0?(Ai(t,"onPending"),Ai(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,a),fr(d,t.ssFallback)):d.resolve()}function Gm(t,e,n,r,i,s,a,o,{p:l,um:c,o:{createElement:h}}){const u=e.suspense=t.suspense;u.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:_,isHydrating:y}=u;if(m)u.pendingBranch=d,Et(d,m)?(l(m,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0?u.resolve():_&&(l(f,p,n,r,i,null,s,a,o),fr(u,p))):(u.pendingId++,y?(u.isHydrating=!1,u.activeBranch=m):c(m,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=h("div"),_?(l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0?u.resolve():(l(f,p,n,r,i,null,s,a,o),fr(u,p))):f&&Et(d,f)?(l(f,d,n,r,i,u,s,a,o),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0&&u.resolve()));else if(f&&Et(d,f))l(f,d,n,r,i,u,s,a,o),fr(u,d);else if(Ai(e,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0)u.resolve();else{const{timeout:g,pendingId:b}=u;g>0?setTimeout(()=>{u.pendingId===b&&u.fallback(p)},g):g===0&&u.fallback(p)}}function Il(t,e,n,r,i,s,a,o,l,c,h=!1){const{p:u,m:d,um:p,n:f,o:{parentNode:m,remove:_}}=c,y=$t(t.props&&t.props.timeout),g={vnode:t,parent:e,parentComponent:n,isSVG:a,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(b=!1){const{vnode:S,activeBranch:P,pendingBranch:A,pendingId:I,effects:T,parentComponent:L,container:M}=g;if(g.isHydrating)g.isHydrating=!1;else if(!b){const x=P&&A.transition&&A.transition.mode==="out-in";x&&(P.transition.afterLeave=()=>{I===g.pendingId&&d(A,M,R,0)});let{anchor:R}=g;P&&(R=f(P),p(P,L,g,!0)),x||d(A,M,R,0)}fr(g,A),g.pendingBranch=null,g.isInFallback=!1;let F=g.parent,B=!1;for(;F;){if(F.pendingBranch){F.effects.push(...T),B=!0;break}F=F.parent}B||Rl(T),g.effects=[],Ai(S,"onResolve")},fallback(b){if(!g.pendingBranch)return;const{vnode:S,activeBranch:P,parentComponent:A,container:I,isSVG:T}=g;Ai(S,"onFallback");const L=f(P),M=()=>{g.isInFallback&&(u(null,b,I,L,A,null,T,o,l),fr(g,b))},F=b.transition&&b.transition.mode==="out-in";F&&(P.transition.afterLeave=M),g.isInFallback=!0,p(P,A,null,!0),F||M()},move(b,S,P){g.activeBranch&&d(g.activeBranch,b,S,P),g.container=b},next(){return g.activeBranch&&f(g.activeBranch)},registerDep(b,S){const P=!!g.pendingBranch;P&&g.deps++;const A=b.vnode.el;b.asyncDep.catch(I=>{Kn(I,b,0)}).then(I=>{if(b.isUnmounted||g.isUnmounted||g.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:T}=b;Mo(b,I,!1),A&&(T.el=A);const L=!A&&b.subTree.el;S(b,T,m(A||b.subTree.el),A?null:f(b.subTree),g,a,l),L&&_(L),kl(b,T.el),P&&--g.deps===0&&g.resolve()})},unmount(b,S){g.isUnmounted=!0,g.activeBranch&&p(g.activeBranch,n,b,S),g.pendingBranch&&p(g.pendingBranch,n,b,S)}};return g}function Hm(t,e,n,r,i,s,a,o,l){const c=e.suspense=Il(e,r,n,t.parentNode,document.createElement("div"),null,i,s,a,o,!0),h=l(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(),h}function jm(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Lc(r?n.default:n),t.ssFallback=r?Lc(n.fallback):Ie(qe)}function Lc(t){let e;if(le(t)){const n=jn&&t._c;n&&(t._d=!1,vt()),t=t(),n&&(t._d=!0,e=Ze,Gd())}return ne(t)&&(t=Lm(t)),t=nt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function fd(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Rl(t)}function fr(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,kl(r,i))}function oi(t,e){if(Ge){let n=Ge.provides;const r=Ge.parent&&Ge.parent.provides;r===n&&(n=Ge.provides=Object.create(r)),n[t]=e}}function Tt(t,e,n=!1){const r=Ge||Ve;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&le(e)?e.call(r.proxy):e}}function Wm(t,e){return Ui(t,null,e)}function pd(t,e){return Ui(t,null,{flush:"post"})}function zm(t,e){return Ui(t,null,{flush:"sync"})}const ss={};function pr(t,e,n){return Ui(t,e,n)}function Ui(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=Ae){const o=Ge;let l,c=!1,h=!1;if(We(t)?(l=()=>t.value,c=wi(t)):Dn(t)?(l=()=>t,r=!0):ne(t)?(h=!0,c=t.some(b=>Dn(b)||wi(b)),l=()=>t.map(b=>{if(We(b))return b.value;if(Dn(b))return Mn(b);if(le(b))return Bt(b,o,2)})):le(t)?e?l=()=>Bt(t,o,2):l=()=>{if(!(o&&o.isUnmounted))return u&&u(),st(t,o,3,[d])}:l=gt,e&&r){const b=l;l=()=>Mn(b())}let u,d=b=>{u=y.onStop=()=>{Bt(b,o,4)}},p;if(Er)if(d=gt,e?n&&st(e,o,3,[l(),h?[]:void 0,d]):l(),i==="sync"){const b=Zd();p=b.__watcherHandles||(b.__watcherHandles=[])}else return gt;let f=h?new Array(t.length).fill(ss):ss;const m=()=>{if(y.active)if(e){const b=y.run();(r||c||(h?b.some((S,P)=>br(S,f[P])):br(b,f)))&&(u&&u(),st(e,o,3,[b,f===ss?void 0:h&&f[0]===ss?[]:f,d]),f=b)}else y.run()};m.allowRecurse=!!e;let _;i==="sync"?_=m:i==="post"?_=()=>ze(m,o&&o.suspense):(m.pre=!0,o&&(m.id=o.uid),_=()=>ha(m));const y=new Bi(l,_);e?n?m():f=y.run():i==="post"?ze(y.run.bind(y),o&&o.suspense):y.run();const g=()=>{y.stop(),o&&o.scope&&gl(o.scope.effects,y)};return p&&p.push(g),g}function Vm(t,e,n){const r=this.proxy,i=Me(t)?t.includes(".")?gd(r,t):()=>r[t]:t.bind(r,r);let s;le(e)?s=e:(s=e.handler,n=e);const a=Ge;gn(this);const o=Ui(i,s.bind(r),n);return a?gn(a):cn(),o}function gd(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Mn(t,e){if(!Pe(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),We(t))Mn(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)Mn(t[n],e);else if(Vn(t)||hr(t))t.forEach(n=>{Mn(n,e)});else if(Hu(t))for(const n in t)Mn(t[n],e);return t}function Ol(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hi(()=>{t.isMounted=!0}),ma(()=>{t.isUnmounting=!0}),t}const lt=[Function,Array],Km={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:lt,onEnter:lt,onAfterEnter:lt,onEnterCancelled:lt,onBeforeLeave:lt,onLeave:lt,onAfterLeave:lt,onLeaveCancelled:lt,onBeforeAppear:lt,onAppear:lt,onAfterAppear:lt,onAppearCancelled:lt},setup(t,{slots:e}){const n=vn(),r=Ol();let i;return()=>{const s=e.default&&fa(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const m of s)if(m.type!==qe){a=m;break}}const o=ye(t),{mode:l}=o;if(r.isLeaving)return Ba(a);const c=Dc(a);if(!c)return Ba(a);const h=wr(c,o,r,n);Gn(c,h);const u=n.subTree,d=u&&Dc(u);let p=!1;const{getTransitionKey:f}=c.type;if(f){const m=f();i===void 0?i=m:m!==i&&(i=m,p=!0)}if(d&&d.type!==qe&&(!Et(c,d)||p)){const m=wr(d,o,r,n);if(Gn(d,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Ba(a);l==="in-out"&&c.type!==qe&&(m.delayLeave=(_,y,g)=>{const b=md(r,d);b[String(d.key)]=d,_._leaveCb=()=>{y(),_._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=g})}return a}}},Ml=Km;function md(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function wr(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:u,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:_,onAfterAppear:y,onAppearCancelled:g}=e,b=String(t.key),S=md(n,t),P=(T,L)=>{T&&st(T,r,9,L)},A=(T,L)=>{const M=L[1];P(T,L),ne(T)?T.every(F=>F.length<=1)&&M():T.length<=1&&M()},I={mode:s,persisted:a,beforeEnter(T){let L=o;if(!n.isMounted)if(i)L=m||o;else return;T._leaveCb&&T._leaveCb(!0);const M=S[b];M&&Et(t,M)&&M.el._leaveCb&&M.el._leaveCb(),P(L,[T])},enter(T){let L=l,M=c,F=h;if(!n.isMounted)if(i)L=_||l,M=y||c,F=g||h;else return;let B=!1;const x=T._enterCb=R=>{B||(B=!0,R?P(F,[T]):P(M,[T]),I.delayedLeave&&I.delayedLeave(),T._enterCb=void 0)};L?A(L,[T,x]):x()},leave(T,L){const M=String(t.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return L();P(u,[T]);let F=!1;const B=T._leaveCb=x=>{F||(F=!0,L(),x?P(f,[T]):P(p,[T]),T._leaveCb=void 0,S[M]===t&&delete S[M])};S[M]=t,d?A(d,[T,B]):B()},clone(T){return wr(T,e,n,r)}};return I}function Ba(t){if(Gi(t))return t=Rt(t),t.children=null,t}function Dc(t){return Gi(t)?t.children?t.children[0]:void 0:t}function Gn(t,e){t.shapeFlag&6&&t.component?Gn(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fa(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===je?(a.patchFlag&128&&i++,r=r.concat(fa(a.children,e,o))):(e||a.type!==qe)&&r.push(o!=null?Rt(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function $i(t){return le(t)?{setup:t,name:t.name}:t}const Fn=t=>!!t.type.__asyncLoader;function qm(t){le(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:a=!0,onError:o}=t;let l=null,c,h=0;const u=()=>(h++,l=null,d()),d=()=>{let p;return l||(p=l=e().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),o)return new Promise((m,_)=>{o(f,()=>m(u()),()=>_(f),h+1)});throw f}).then(f=>p!==l&&l?l:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),c=f,f)))};return $i({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const p=Ge;if(c)return()=>Ua(c,p);const f=g=>{l=null,Kn(g,p,13,!r)};if(a&&p.suspense||Er)return d().then(g=>()=>Ua(g,p)).catch(g=>(f(g),()=>r?Ie(r,{error:g}):null));const m=ai(!1),_=ai(),y=ai(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!_.value){const g=new Error(`Async component timed out after ${s}ms.`);f(g),_.value=g}},s),d().then(()=>{m.value=!0,p.parent&&Gi(p.parent.vnode)&&ha(p.parent.update)}).catch(g=>{f(g),_.value=g}),()=>{if(m.value&&c)return Ua(c,p);if(_.value&&r)return Ie(r,{error:_.value});if(n&&!y.value)return Ie(n)}}})}function Ua(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,a=Ie(t,r,i);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const Gi=t=>t.type.__isKeepAlive,Ym={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=vn(),r=n.ctx;if(!r.renderer)return()=>{const g=e.default&&e.default();return g&&g.length===1?g[0]:g};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:c,um:h,o:{createElement:u}}}=r,d=u("div");r.activate=(g,b,S,P,A)=>{const I=g.component;c(g,b,S,0,o),l(I.vnode,g,b,S,I,o,P,g.slotScopeIds,A),ze(()=>{I.isDeactivated=!1,I.a&&ur(I.a);const T=g.props&&g.props.onVnodeMounted;T&&Je(T,I.parent,g)},o)},r.deactivate=g=>{const b=g.component;c(g,d,null,1,o),ze(()=>{b.da&&ur(b.da);const S=g.props&&g.props.onVnodeUnmounted;S&&Je(S,b.parent,g),b.isDeactivated=!0},o)};function p(g){$a(g),h(g,n,o,!0)}function f(g){i.forEach((b,S)=>{const P=Do(b.type);P&&(!g||!g(P))&&m(S)})}function m(g){const b=i.get(g);!a||b.type!==a.type?p(b):a&&$a(a),i.delete(g),s.delete(g)}pr(()=>[t.include,t.exclude],([g,b])=>{g&&f(S=>Jr(g,S)),b&&f(S=>!Jr(b,S))},{flush:"post",deep:!0});let _=null;const y=()=>{_!=null&&i.set(_,Ga(n.subTree))};return Hi(y),ga(y),ma(()=>{i.forEach(g=>{const{subTree:b,suspense:S}=n,P=Ga(b);if(g.type===P.type){$a(P);const A=P.component.da;A&&ze(A,S);return}p(g)})}),()=>{if(_=null,!e.default)return null;const g=e.default(),b=g[0];if(g.length>1)return a=null,g;if(!pn(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return a=null,b;let S=Ga(b);const P=S.type,A=Do(Fn(S)?S.type.__asyncResolved||{}:P),{include:I,exclude:T,max:L}=t;if(I&&(!A||!Jr(I,A))||T&&A&&Jr(T,A))return a=S,b;const M=S.key==null?P:S.key,F=i.get(M);return S.el&&(S=Rt(S),b.shapeFlag&128&&(b.ssContent=S)),_=M,F?(S.el=F.el,S.component=F.component,S.transition&&Gn(S,S.transition),S.shapeFlag|=512,s.delete(M),s.add(M)):(s.add(M),L&&s.size>parseInt(L,10)&&m(s.values().next().value)),S.shapeFlag|=256,a=S,dd(b.type)?b:S}}},Xm=Ym;function Jr(t,e){return ne(t)?t.some(n=>Jr(n,e)):Me(t)?t.split(",").includes(e):t.test?t.test(e):!1}function _d(t,e){yd(t,"a",e)}function vd(t,e){yd(t,"da",e)}function yd(t,e,n=Ge){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(pa(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Gi(i.parent.vnode)&&Jm(r,e,n,i),i=i.parent}}function Jm(t,e,n,r){const i=pa(e,t,r,!0);_a(()=>{gl(r[e],i)},n)}function $a(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ga(t){return t.shapeFlag&128?t.ssContent:t}function pa(t,e,n=Ge,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Mr(),gn(n);const o=st(e,n,t,a);return cn(),Lr(),o});return r?i.unshift(s):i.push(s),s}}const jt=t=>(e,n=Ge)=>(!Er||t==="sp")&&pa(t,(...r)=>e(...r),n),bd=jt("bm"),Hi=jt("m"),wd=jt("bu"),ga=jt("u"),ma=jt("bum"),_a=jt("um"),Sd=jt("sp"),Ed=jt("rtg"),Cd=jt("rtc");function Td(t,e=Ge){pa("ec",t,e)}function Zm(t,e){const n=Ve;if(n===null)return t;const r=ya(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,c=Ae]=e[s];a&&(le(a)&&(a={mounted:a,updated:a}),a.deep&&Mn(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function wt(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Mr(),st(l,n,8,[t.el,o,t,e]),Lr())}}const Ll="components",Qm="directives";function Ad(t,e){return Dl(Ll,t,!0,e)||t}const Pd=Symbol();function e_(t){return Me(t)?Dl(Ll,t,!1)||t:t||Pd}function t_(t){return Dl(Qm,t)}function Dl(t,e,n=!0,r=!1){const i=Ve||Ge;if(i){const s=i.type;if(t===Ll){const o=Do(s,!1);if(o&&(o===e||o===Qe(e)||o===Fi(Qe(e))))return s}const a=Nc(i[t]||s[t],e)||Nc(i.appContext[t],e);return!a&&r?s:a}}function Nc(t,e){return t&&(t[e]||t[Qe(e)]||t[Fi(Qe(e))])}function n_(t,e,n,r){let i;const s=n&&n[r];if(ne(t)||Me(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Pe(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const c=a[o];i[o]=e(t[c],c,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function r_(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ne(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Sr(t,e,n={},r,i){if(Ve.isCE||Ve.parent&&Fn(Ve.parent)&&Ve.parent.isCE)return e!=="default"&&(n.name=e),Ie("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),vt();const a=s&&Rd(s(n)),o=Ul(je,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Rd(t){return t.some(e=>pn(e)?!(e.type===qe||e.type===je&&!Rd(e.children)):!0)?t:null}function xd(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:si(r)]=t[r];return n}const Ao=t=>t?Vd(t)?ya(t)||t.proxy:Ao(t.parent):null,li=Ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ao(t.parent),$root:t=>Ao(t.root),$emit:t=>t.emit,$options:t=>Nl(t),$forceUpdate:t=>t.f||(t.f=()=>ha(t.update)),$nextTick:t=>t.n||(t.n=ca.bind(t.proxy)),$watch:t=>Vm.bind(t)}),Ha=(t,e)=>t!==Ae&&!t.__isScriptSetup&&ve(t,e),Po={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Ha(r,e))return a[e]=1,r[e];if(i!==Ae&&ve(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&ve(c,e))return a[e]=3,s[e];if(n!==Ae&&ve(n,e))return a[e]=4,n[e];Ro&&(a[e]=0)}}const h=li[e];let u,d;if(h)return e==="$attrs"&&ot(t,"get",e),h(t);if((u=o.__cssModules)&&(u=u[e]))return u;if(n!==Ae&&ve(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,ve(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Ha(i,e)?(i[e]=n,!0):r!==Ae&&ve(r,e)?(r[e]=n,!0):ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ae&&ve(t,a)||Ha(e,a)||(o=s[0])&&ve(o,a)||ve(r,a)||ve(li,a)||ve(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},i_=Ne({},Po,{get(t,e){if(e!==Symbol.unscopables)return Po.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Sg(e)}});let Ro=!0;function s_(t){const e=Nl(t),n=t.proxy,r=t.ctx;Ro=!1,e.beforeCreate&&Fc(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:c,created:h,beforeMount:u,mounted:d,beforeUpdate:p,updated:f,activated:m,deactivated:_,beforeDestroy:y,beforeUnmount:g,destroyed:b,unmounted:S,render:P,renderTracked:A,renderTriggered:I,errorCaptured:T,serverPrefetch:L,expose:M,inheritAttrs:F,components:B,directives:x,filters:R}=e;if(c&&a_(c,r,null,t.appContext.config.unwrapInjectedRef),a)for(const Q in a){const ie=a[Q];le(ie)&&(r[Q]=ie.bind(n))}if(i){const Q=i.call(n,n);Pe(Q)&&(t.data=Dr(Q))}if(Ro=!0,s)for(const Q in s){const ie=s[Q],de=le(ie)?ie.bind(n,n):le(ie.get)?ie.get.bind(n,n):gt,te=!le(ie)&&le(ie.set)?ie.set.bind(n):gt,he=rt({get:de,set:te});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>he.value,set:fe=>he.value=fe})}if(o)for(const Q in o)kd(o[Q],r,n,Q);if(l){const Q=le(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(ie=>{oi(ie,Q[ie])})}h&&Fc(h,t,"c");function G(Q,ie){ne(ie)?ie.forEach(de=>Q(de.bind(n))):ie&&Q(ie.bind(n))}if(G(bd,u),G(Hi,d),G(wd,p),G(ga,f),G(_d,m),G(vd,_),G(Td,T),G(Cd,A),G(Ed,I),G(ma,g),G(_a,S),G(Sd,L),ne(M))if(M.length){const Q=t.exposed||(t.exposed={});M.forEach(ie=>{Object.defineProperty(Q,ie,{get:()=>n[ie],set:de=>n[ie]=de})})}else t.exposed||(t.exposed={});P&&t.render===gt&&(t.render=P),F!=null&&(t.inheritAttrs=F),B&&(t.components=B),x&&(t.directives=x)}function a_(t,e,n=gt,r=!1){ne(t)&&(t=xo(t));for(const i in t){const s=t[i];let a;Pe(s)?"default"in s?a=Tt(s.from||i,s.default,!0):a=Tt(s.from||i):a=Tt(s),We(a)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[i]=a}}function Fc(t,e,n){st(ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function kd(t,e,n,r){const i=r.includes(".")?gd(n,r):()=>n[r];if(Me(t)){const s=e[t];le(s)&&pr(i,s)}else if(le(t))pr(i,t.bind(n));else if(Pe(t))if(ne(t))t.forEach(s=>kd(s,e,n,r));else{const s=le(t.handler)?t.handler.bind(n):e[t.handler];le(s)&&pr(i,s,t)}}function Nl(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Bs(l,c,a,!0)),Bs(l,e,a)),Pe(e)&&s.set(e,l),l}function Bs(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Bs(t,s,n,!0),i&&i.forEach(a=>Bs(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=o_[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const o_={data:Bc,props:xn,emits:xn,methods:xn,computed:xn,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:xn,directives:xn,watch:c_,provide:Bc,inject:l_};function Bc(t,e){return e?t?function(){return Ne(le(t)?t.call(this,this):t,le(e)?e.call(this,this):e)}:e:t}function l_(t,e){return xn(xo(t),xo(e))}function xo(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xe(t,e){return t?[...new Set([].concat(t,e))]:e}function xn(t,e){return t?Ne(Ne(Object.create(null),t),e):e}function c_(t,e){if(!t)return e;if(!e)return t;const n=Ne(Object.create(null),t);for(const r in e)n[r]=Xe(t[r],e[r]);return n}function h_(t,e,n,r=!1){const i={},s={};Ns(s,va,1),t.propsDefaults=Object.create(null),Id(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:nd(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function u_(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=ye(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let u=0;u<h.length;u++){let d=h[u];if(ua(t.emitsOptions,d))continue;const p=e[d];if(l)if(ve(s,d))p!==s[d]&&(s[d]=p,c=!0);else{const f=Qe(d);i[f]=ko(l,o,f,p,t,!1)}else p!==s[d]&&(s[d]=p,c=!0)}}}else{Id(t,e,i,s)&&(c=!0);let h;for(const u in o)(!e||!ve(e,u)&&((h=ct(u))===u||!ve(e,h)))&&(l?n&&(n[u]!==void 0||n[h]!==void 0)&&(i[u]=ko(l,o,u,void 0,t,!0)):delete i[u]);if(s!==o)for(const u in s)(!e||!ve(e,u))&&(delete s[u],c=!0)}c&&Gt(t,"set","$attrs")}function Id(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(ii(l))continue;const c=e[l];let h;i&&ve(i,h=Qe(l))?!s||!s.includes(h)?n[h]=c:(o||(o={}))[h]=c:ua(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=ye(n),c=o||Ae;for(let h=0;h<s.length;h++){const u=s[h];n[u]=ko(i,l,u,c[u],t,!ve(c,u))}}return a}function ko(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=ve(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&le(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(gn(i),r=c[n]=l.call(null,e),cn())}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===ct(n))&&(r=!0))}return r}function Od(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!le(t)){const h=u=>{l=!0;const[d,p]=Od(u,e,!0);Ne(a,d),p&&o.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Pe(t)&&r.set(t,cr),cr;if(ne(s))for(let h=0;h<s.length;h++){const u=Qe(s[h]);Uc(u)&&(a[u]=Ae)}else if(s)for(const h in s){const u=Qe(h);if(Uc(u)){const d=s[h],p=a[u]=ne(d)||le(d)?{type:d}:Object.assign({},d);if(p){const f=Hc(Boolean,p.type),m=Hc(String,p.type);p[0]=f>-1,p[1]=m<0||f<m,(f>-1||ve(p,"default"))&&o.push(u)}}}const c=[a,o];return Pe(t)&&r.set(t,c),c}function Uc(t){return t[0]!=="$"}function $c(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Gc(t,e){return $c(t)===$c(e)}function Hc(t,e){return ne(e)?e.findIndex(n=>Gc(n,t)):le(e)&&Gc(e,t)?0:-1}const Md=t=>t[0]==="_"||t==="$stable",Fl=t=>ne(t)?t.map(nt):[nt(t)],d_=(t,e,n)=>{if(e._n)return e;const r=xl((...i)=>Fl(e(...i)),n);return r._c=!1,r},Ld=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Md(i))continue;const s=t[i];if(le(s))e[i]=d_(i,s,r);else if(s!=null){const a=Fl(s);e[i]=()=>a}}},Dd=(t,e)=>{const n=Fl(e);t.slots.default=()=>n},f_=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ye(e),Ns(e,"_",n)):Ld(e,t.slots={})}else t.slots={},e&&Dd(t,e);Ns(t.slots,va,1)},p_=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ae;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Ne(i,e),!n&&o===1&&delete i._):(s=!e.$stable,Ld(e,i)),a=e}else e&&(Dd(t,e),a={default:1});if(s)for(const o in i)!Md(o)&&!(o in a)&&delete i[o]};function Nd(){return{app:null,config:{isNativeTag:Ig,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g_=0;function m_(t,e){return function(r,i=null){le(r)||(r=Object.assign({},r)),i!=null&&!Pe(i)&&(i=null);const s=Nd(),a=new Set;let o=!1;const l=s.app={_uid:g_++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ef,get config(){return s.config},set config(c){},use(c,...h){return a.has(c)||(c&&le(c.install)?(a.add(c),c.install(l,...h)):le(c)&&(a.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,u){if(!o){const d=Ie(r,i);return d.appContext=s,h&&e?e(d,c):t(d,c,u),o=!0,l._container=c,c.__vue_app__=l,ya(d.component)||d.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l}};return l}}function Us(t,e,n,r,i=!1){if(ne(t)){t.forEach((d,p)=>Us(d,e&&(ne(e)?e[p]:e),n,r,i));return}if(Fn(r)&&!i)return;const s=r.shapeFlag&4?ya(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t,c=e&&e.r,h=o.refs===Ae?o.refs={}:o.refs,u=o.setupState;if(c!=null&&c!==l&&(Me(c)?(h[c]=null,ve(u,c)&&(u[c]=null)):We(c)&&(c.value=null)),le(l))Bt(l,o,12,[a,h]);else{const d=Me(l),p=We(l);if(d||p){const f=()=>{if(t.f){const m=d?ve(u,l)?u[l]:h[l]:l.value;i?ne(m)&&gl(m,s):ne(m)?m.includes(s)||m.push(s):d?(h[l]=[s],ve(u,l)&&(u[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else d?(h[l]=a,ve(u,l)&&(u[l]=a)):p&&(l.value=a,t.k&&(h[t.k]=a))};a?(f.id=-1,ze(f,n)):f()}}}let qt=!1;const as=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",os=t=>t.nodeType===8;function __(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=t,h=(y,g)=>{if(!g.hasChildNodes()){n(null,y,g),Fs(),g._vnode=y;return}qt=!1,u(g.firstChild,y,null,null,null),Fs(),g._vnode=y,qt&&console.error("Hydration completed but contains mismatches.")},u=(y,g,b,S,P,A=!1)=>{const I=os(y)&&y.data==="[",T=()=>m(y,g,b,S,P,I),{type:L,ref:M,shapeFlag:F,patchFlag:B}=g;let x=y.nodeType;g.el=y,B===-2&&(A=!1,g.dynamicChildren=null);let R=null;switch(L){case Hn:x!==3?g.children===""?(l(g.el=i(""),a(y),y),R=y):R=T():(y.data!==g.children&&(qt=!0,y.data=g.children),R=s(y));break;case qe:x!==8||I?R=T():R=s(y);break;case Bn:if(I&&(y=s(y),x=y.nodeType),x===1||x===3){R=y;const X=!g.children.length;for(let G=0;G<g.staticCount;G++)X&&(g.children+=R.nodeType===1?R.outerHTML:R.data),G===g.staticCount-1&&(g.anchor=R),R=s(R);return I?s(R):R}else T();break;case je:I?R=f(y,g,b,S,P,A):R=T();break;default:if(F&1)x!==1||g.type.toLowerCase()!==y.tagName.toLowerCase()?R=T():R=d(y,g,b,S,P,A);else if(F&6){g.slotScopeIds=P;const X=a(y);if(e(g,X,null,b,S,as(X),A),R=I?_(y):s(y),R&&os(R)&&R.data==="teleport end"&&(R=s(R)),Fn(g)){let G;I?(G=Ie(je),G.anchor=R?R.previousSibling:X.lastChild):G=y.nodeType===3?$l(""):Ie("div"),G.el=y,g.component.subTree=G}}else F&64?x!==8?R=T():R=g.type.hydrate(y,g,b,S,P,A,t,p):F&128&&(R=g.type.hydrate(y,g,b,S,as(a(y)),P,A,t,u))}return M!=null&&Us(M,null,S,g),R},d=(y,g,b,S,P,A)=>{A=A||!!g.dynamicChildren;const{type:I,props:T,patchFlag:L,shapeFlag:M,dirs:F}=g,B=I==="input"&&F||I==="option";if(B||L!==-1){if(F&&wt(g,null,b,"created"),T)if(B||!A||L&48)for(const R in T)(B&&R.endsWith("value")||Di(R)&&!ii(R))&&r(y,R,null,T[R],!1,void 0,b);else T.onClick&&r(y,"onClick",null,T.onClick,!1,void 0,b);let x;if((x=T&&T.onVnodeBeforeMount)&&Je(x,b,g),F&&wt(g,null,b,"beforeMount"),((x=T&&T.onVnodeMounted)||F)&&fd(()=>{x&&Je(x,b,g),F&&wt(g,null,b,"mounted")},S),M&16&&!(T&&(T.innerHTML||T.textContent))){let R=p(y.firstChild,g,y,b,S,P,A);for(;R;){qt=!0;const X=R;R=R.nextSibling,o(X)}}else M&8&&y.textContent!==g.children&&(qt=!0,y.textContent=g.children)}return y.nextSibling},p=(y,g,b,S,P,A,I)=>{I=I||!!g.dynamicChildren;const T=g.children,L=T.length;for(let M=0;M<L;M++){const F=I?T[M]:T[M]=nt(T[M]);if(y)y=u(y,F,S,P,A,I);else{if(F.type===Hn&&!F.children)continue;qt=!0,n(null,F,b,null,S,P,as(b),A)}}return y},f=(y,g,b,S,P,A)=>{const{slotScopeIds:I}=g;I&&(P=P?P.concat(I):I);const T=a(y),L=p(s(y),g,T,b,S,P,A);return L&&os(L)&&L.data==="]"?s(g.anchor=L):(qt=!0,l(g.anchor=c("]"),T,L),L)},m=(y,g,b,S,P,A)=>{if(qt=!0,g.el=null,A){const L=_(y);for(;;){const M=s(y);if(M&&M!==L)o(M);else break}}const I=s(y),T=a(y);return o(y),n(null,g,T,I,b,S,as(T),P),I},_=y=>{let g=0;for(;y;)if(y=s(y),y&&os(y)&&(y.data==="["&&g++,y.data==="]")){if(g===0)return s(y);g--}return y};return[h,u]}const ze=fd;function Fd(t){return Ud(t)}function Bd(t){return Ud(t,__)}function Ud(t,e){const n=Fg();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:d,setScopeId:p=gt,insertStaticContent:f}=t,m=(v,E,k,D=null,U=null,V=null,Z=!1,z=null,Y=!!E.dynamicChildren)=>{if(v===E)return;v&&!Et(v,E)&&(D=q(v),fe(v,U,V,!0),v=null),E.patchFlag===-2&&(Y=!1,E.dynamicChildren=null);const{type:H,ref:se,shapeFlag:re}=E;switch(H){case Hn:_(v,E,k,D);break;case qe:y(v,E,k,D);break;case Bn:v==null&&g(E,k,D,Z);break;case je:B(v,E,k,D,U,V,Z,z,Y);break;default:re&1?P(v,E,k,D,U,V,Z,z,Y):re&6?x(v,E,k,D,U,V,Z,z,Y):(re&64||re&128)&&H.process(v,E,k,D,U,V,Z,z,Y,pe)}se!=null&&U&&Us(se,v&&v.ref,V,E||v,!E)},_=(v,E,k,D)=>{if(v==null)r(E.el=o(E.children),k,D);else{const U=E.el=v.el;E.children!==v.children&&c(U,E.children)}},y=(v,E,k,D)=>{v==null?r(E.el=l(E.children||""),k,D):E.el=v.el},g=(v,E,k,D)=>{[v.el,v.anchor]=f(v.children,E,k,D,v.el,v.anchor)},b=({el:v,anchor:E},k,D)=>{let U;for(;v&&v!==E;)U=d(v),r(v,k,D),v=U;r(E,k,D)},S=({el:v,anchor:E})=>{let k;for(;v&&v!==E;)k=d(v),i(v),v=k;i(E)},P=(v,E,k,D,U,V,Z,z,Y)=>{Z=Z||E.type==="svg",v==null?A(E,k,D,U,V,Z,z,Y):L(v,E,U,V,Z,z,Y)},A=(v,E,k,D,U,V,Z,z)=>{let Y,H;const{type:se,props:re,shapeFlag:ae,transition:ce,dirs:ge}=v;if(Y=v.el=a(v.type,V,re&&re.is,re),ae&8?h(Y,v.children):ae&16&&T(v.children,Y,null,D,U,V&&se!=="foreignObject",Z,z),ge&&wt(v,null,D,"created"),re){for(const Ce in re)Ce!=="value"&&!ii(Ce)&&s(Y,Ce,null,re[Ce],V,v.children,D,U,K);"value"in re&&s(Y,"value",null,re.value),(H=re.onVnodeBeforeMount)&&Je(H,D,v)}I(Y,v,v.scopeId,Z,D),ge&&wt(v,null,D,"beforeMount");const xe=(!U||U&&!U.pendingBranch)&&ce&&!ce.persisted;xe&&ce.beforeEnter(Y),r(Y,E,k),((H=re&&re.onVnodeMounted)||xe||ge)&&ze(()=>{H&&Je(H,D,v),xe&&ce.enter(Y),ge&&wt(v,null,D,"mounted")},U)},I=(v,E,k,D,U)=>{if(k&&p(v,k),D)for(let V=0;V<D.length;V++)p(v,D[V]);if(U){let V=U.subTree;if(E===V){const Z=U.vnode;I(v,Z,Z.scopeId,Z.slotScopeIds,U.parent)}}},T=(v,E,k,D,U,V,Z,z,Y=0)=>{for(let H=Y;H<v.length;H++){const se=v[H]=z?tn(v[H]):nt(v[H]);m(null,se,E,k,D,U,V,Z,z)}},L=(v,E,k,D,U,V,Z)=>{const z=E.el=v.el;let{patchFlag:Y,dynamicChildren:H,dirs:se}=E;Y|=v.patchFlag&16;const re=v.props||Ae,ae=E.props||Ae;let ce;k&&Tn(k,!1),(ce=ae.onVnodeBeforeUpdate)&&Je(ce,k,E,v),se&&wt(E,v,k,"beforeUpdate"),k&&Tn(k,!0);const ge=U&&E.type!=="foreignObject";if(H?M(v.dynamicChildren,H,z,k,D,ge,V):Z||ie(v,E,z,null,k,D,ge,V,!1),Y>0){if(Y&16)F(z,E,re,ae,k,D,U);else if(Y&2&&re.class!==ae.class&&s(z,"class",null,ae.class,U),Y&4&&s(z,"style",re.style,ae.style,U),Y&8){const xe=E.dynamicProps;for(let Ce=0;Ce<xe.length;Ce++){const Be=xe[Ce],ft=re[Be],er=ae[Be];(er!==ft||Be==="value")&&s(z,Be,ft,er,U,v.children,k,D,K)}}Y&1&&v.children!==E.children&&h(z,E.children)}else!Z&&H==null&&F(z,E,re,ae,k,D,U);((ce=ae.onVnodeUpdated)||se)&&ze(()=>{ce&&Je(ce,k,E,v),se&&wt(E,v,k,"updated")},D)},M=(v,E,k,D,U,V,Z)=>{for(let z=0;z<E.length;z++){const Y=v[z],H=E[z],se=Y.el&&(Y.type===je||!Et(Y,H)||Y.shapeFlag&70)?u(Y.el):k;m(Y,H,se,null,D,U,V,Z,!0)}},F=(v,E,k,D,U,V,Z)=>{if(k!==D){if(k!==Ae)for(const z in k)!ii(z)&&!(z in D)&&s(v,z,k[z],null,Z,E.children,U,V,K);for(const z in D){if(ii(z))continue;const Y=D[z],H=k[z];Y!==H&&z!=="value"&&s(v,z,H,Y,Z,E.children,U,V,K)}"value"in D&&s(v,"value",k.value,D.value)}},B=(v,E,k,D,U,V,Z,z,Y)=>{const H=E.el=v?v.el:o(""),se=E.anchor=v?v.anchor:o("");let{patchFlag:re,dynamicChildren:ae,slotScopeIds:ce}=E;ce&&(z=z?z.concat(ce):ce),v==null?(r(H,k,D),r(se,k,D),T(E.children,k,se,U,V,Z,z,Y)):re>0&&re&64&&ae&&v.dynamicChildren?(M(v.dynamicChildren,ae,k,U,V,Z,z),(E.key!=null||U&&E===U.subTree)&&Bl(v,E,!0)):ie(v,E,k,se,U,V,Z,z,Y)},x=(v,E,k,D,U,V,Z,z,Y)=>{E.slotScopeIds=z,v==null?E.shapeFlag&512?U.ctx.activate(E,k,D,Z,Y):R(E,k,D,U,V,Z,Y):X(v,E,Y)},R=(v,E,k,D,U,V,Z)=>{const z=v.component=zd(v,D,U);if(Gi(v)&&(z.ctx.renderer=pe),Kd(z),z.asyncDep){if(U&&U.registerDep(z,G),!v.el){const Y=z.subTree=Ie(qe);y(null,Y,E,k)}return}G(z,v,E,k,U,V,Z)},X=(v,E,k)=>{const D=E.component=v.component;if(Fm(v,E,k))if(D.asyncDep&&!D.asyncResolved){Q(D,E,k);return}else D.next=E,Rm(D.update),D.update();else E.el=v.el,D.vnode=E},G=(v,E,k,D,U,V,Z)=>{const z=()=>{if(v.isMounted){let{next:se,bu:re,u:ae,parent:ce,vnode:ge}=v,xe=se,Ce;Tn(v,!1),se?(se.el=ge.el,Q(v,se,Z)):se=ge,re&&ur(re),(Ce=se.props&&se.props.onVnodeBeforeUpdate)&&Je(Ce,ce,se,ge),Tn(v,!0);const Be=Ss(v),ft=v.subTree;v.subTree=Be,m(ft,Be,u(ft.el),q(ft),v,U,V),se.el=Be.el,xe===null&&kl(v,Be.el),ae&&ze(ae,U),(Ce=se.props&&se.props.onVnodeUpdated)&&ze(()=>Je(Ce,ce,se,ge),U)}else{let se;const{el:re,props:ae}=E,{bm:ce,m:ge,parent:xe}=v,Ce=Fn(E);if(Tn(v,!1),ce&&ur(ce),!Ce&&(se=ae&&ae.onVnodeBeforeMount)&&Je(se,xe,E),Tn(v,!0),re&&ue){const Be=()=>{v.subTree=Ss(v),ue(re,v.subTree,v,U,null)};Ce?E.type.__asyncLoader().then(()=>!v.isUnmounted&&Be()):Be()}else{const Be=v.subTree=Ss(v);m(null,Be,k,D,v,U,V),E.el=Be.el}if(ge&&ze(ge,U),!Ce&&(se=ae&&ae.onVnodeMounted)){const Be=E;ze(()=>Je(se,xe,Be),U)}(E.shapeFlag&256||xe&&Fn(xe.vnode)&&xe.vnode.shapeFlag&256)&&v.a&&ze(v.a,U),v.isMounted=!0,E=k=D=null}},Y=v.effect=new Bi(z,()=>ha(H),v.scope),H=v.update=()=>Y.run();H.id=v.uid,Tn(v,!0),H()},Q=(v,E,k)=>{E.component=v;const D=v.vnode.props;v.vnode=E,v.next=null,u_(v,E.props,D,k),p_(v,E.children,k),Mr(),Oc(),Lr()},ie=(v,E,k,D,U,V,Z,z,Y=!1)=>{const H=v&&v.children,se=v?v.shapeFlag:0,re=E.children,{patchFlag:ae,shapeFlag:ce}=E;if(ae>0){if(ae&128){te(H,re,k,D,U,V,Z,z,Y);return}else if(ae&256){de(H,re,k,D,U,V,Z,z,Y);return}}ce&8?(se&16&&K(H,U,V),re!==H&&h(k,re)):se&16?ce&16?te(H,re,k,D,U,V,Z,z,Y):K(H,U,V,!0):(se&8&&h(k,""),ce&16&&T(re,k,D,U,V,Z,z,Y))},de=(v,E,k,D,U,V,Z,z,Y)=>{v=v||cr,E=E||cr;const H=v.length,se=E.length,re=Math.min(H,se);let ae;for(ae=0;ae<re;ae++){const ce=E[ae]=Y?tn(E[ae]):nt(E[ae]);m(v[ae],ce,k,null,U,V,Z,z,Y)}H>se?K(v,U,V,!0,!1,re):T(E,k,D,U,V,Z,z,Y,re)},te=(v,E,k,D,U,V,Z,z,Y)=>{let H=0;const se=E.length;let re=v.length-1,ae=se-1;for(;H<=re&&H<=ae;){const ce=v[H],ge=E[H]=Y?tn(E[H]):nt(E[H]);if(Et(ce,ge))m(ce,ge,k,null,U,V,Z,z,Y);else break;H++}for(;H<=re&&H<=ae;){const ce=v[re],ge=E[ae]=Y?tn(E[ae]):nt(E[ae]);if(Et(ce,ge))m(ce,ge,k,null,U,V,Z,z,Y);else break;re--,ae--}if(H>re){if(H<=ae){const ce=ae+1,ge=ce<se?E[ce].el:D;for(;H<=ae;)m(null,E[H]=Y?tn(E[H]):nt(E[H]),k,ge,U,V,Z,z,Y),H++}}else if(H>ae)for(;H<=re;)fe(v[H],U,V,!0),H++;else{const ce=H,ge=H,xe=new Map;for(H=ge;H<=ae;H++){const et=E[H]=Y?tn(E[H]):nt(E[H]);et.key!=null&&xe.set(et.key,H)}let Ce,Be=0;const ft=ae-ge+1;let er=!1,bc=0;const $r=new Array(ft);for(H=0;H<ft;H++)$r[H]=0;for(H=ce;H<=re;H++){const et=v[H];if(Be>=ft){fe(et,U,V,!0);continue}let bt;if(et.key!=null)bt=xe.get(et.key);else for(Ce=ge;Ce<=ae;Ce++)if($r[Ce-ge]===0&&Et(et,E[Ce])){bt=Ce;break}bt===void 0?fe(et,U,V,!0):($r[bt-ge]=H+1,bt>=bc?bc=bt:er=!0,m(et,E[bt],k,null,U,V,Z,z,Y),Be++)}const wc=er?v_($r):cr;for(Ce=wc.length-1,H=ft-1;H>=0;H--){const et=ge+H,bt=E[et],Sc=et+1<se?E[et+1].el:D;$r[H]===0?m(null,bt,k,Sc,U,V,Z,z,Y):er&&(Ce<0||H!==wc[Ce]?he(bt,k,Sc,2):Ce--)}}},he=(v,E,k,D,U=null)=>{const{el:V,type:Z,transition:z,children:Y,shapeFlag:H}=v;if(H&6){he(v.component.subTree,E,k,D);return}if(H&128){v.suspense.move(E,k,D);return}if(H&64){Z.move(v,E,k,pe);return}if(Z===je){r(V,E,k);for(let re=0;re<Y.length;re++)he(Y[re],E,k,D);r(v.anchor,E,k);return}if(Z===Bn){b(v,E,k);return}if(D!==2&&H&1&&z)if(D===0)z.beforeEnter(V),r(V,E,k),ze(()=>z.enter(V),U);else{const{leave:re,delayLeave:ae,afterLeave:ce}=z,ge=()=>r(V,E,k),xe=()=>{re(V,()=>{ge(),ce&&ce()})};ae?ae(V,ge,xe):xe()}else r(V,E,k)},fe=(v,E,k,D=!1,U=!1)=>{const{type:V,props:Z,ref:z,children:Y,dynamicChildren:H,shapeFlag:se,patchFlag:re,dirs:ae}=v;if(z!=null&&Us(z,null,k,v,!0),se&256){E.ctx.deactivate(v);return}const ce=se&1&&ae,ge=!Fn(v);let xe;if(ge&&(xe=Z&&Z.onVnodeBeforeUnmount)&&Je(xe,E,v),se&6)O(v.component,k,D);else{if(se&128){v.suspense.unmount(k,D);return}ce&&wt(v,null,E,"beforeUnmount"),se&64?v.type.remove(v,E,k,U,pe,D):H&&(V!==je||re>0&&re&64)?K(H,E,k,!1,!0):(V===je&&re&384||!U&&se&16)&&K(Y,E,k),D&&be(v)}(ge&&(xe=Z&&Z.onVnodeUnmounted)||ce)&&ze(()=>{xe&&Je(xe,E,v),ce&&wt(v,null,E,"unmounted")},k)},be=v=>{const{type:E,el:k,anchor:D,transition:U}=v;if(E===je){$e(k,D);return}if(E===Bn){S(v);return}const V=()=>{i(k),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(v.shapeFlag&1&&U&&!U.persisted){const{leave:Z,delayLeave:z}=U,Y=()=>Z(k,V);z?z(v.el,V,Y):Y()}else V()},$e=(v,E)=>{let k;for(;v!==E;)k=d(v),i(v),v=k;i(E)},O=(v,E,k)=>{const{bum:D,scope:U,update:V,subTree:Z,um:z}=v;D&&ur(D),U.stop(),V&&(V.active=!1,fe(Z,v,E,k)),z&&ze(z,E),ze(()=>{v.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},K=(v,E,k,D=!1,U=!1,V=0)=>{for(let Z=V;Z<v.length;Z++)fe(v[Z],E,k,D,U)},q=v=>v.shapeFlag&6?q(v.component.subTree):v.shapeFlag&128?v.suspense.next():d(v.anchor||v.el),J=(v,E,k)=>{v==null?E._vnode&&fe(E._vnode,null,null,!0):m(E._vnode||null,v,E,null,null,null,k),Oc(),Fs(),E._vnode=v},pe={p:m,um:fe,m:he,r:be,mt:R,mc:T,pc:ie,pbc:M,n:q,o:t};let Oe,ue;return e&&([Oe,ue]=e(pe)),{render:J,hydrate:Oe,createApp:m_(J,Oe)}}function Tn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Bl(t,e,n=!1){const r=t.children,i=e.children;if(ne(r)&&ne(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=tn(i[s]),o.el=a.el),n||Bl(a,o)),o.type===Hn&&(o.el=a.el)}}function v_(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const y_=t=>t.__isTeleport,ci=t=>t&&(t.disabled||t.disabled===""),jc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Io=(t,e)=>{const n=t&&t.to;return Me(n)?e?e(n):null:n},b_={__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,c){const{mc:h,pc:u,pbc:d,o:{insert:p,querySelector:f,createText:m,createComment:_}}=c,y=ci(e.props);let{shapeFlag:g,children:b,dynamicChildren:S}=e;if(t==null){const P=e.el=m(""),A=e.anchor=m("");p(P,n,r),p(A,n,r);const I=e.target=Io(e.props,f),T=e.targetAnchor=m("");I&&(p(T,I),a=a||jc(I));const L=(M,F)=>{g&16&&h(b,M,F,i,s,a,o,l)};y?L(n,A):I&&L(I,T)}else{e.el=t.el;const P=e.anchor=t.anchor,A=e.target=t.target,I=e.targetAnchor=t.targetAnchor,T=ci(t.props),L=T?n:A,M=T?P:I;if(a=a||jc(A),S?(d(t.dynamicChildren,S,L,i,s,a,o),Bl(t,e,!0)):l||u(t,e,L,M,i,s,a,o,!1),y)T||ls(e,n,P,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=Io(e.props,f);F&&ls(e,F,null,c,0)}else T&&ls(e,A,I,c,1)}$d(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:c,targetAnchor:h,target:u,props:d}=t;if(u&&s(h),(a||!ci(d))&&(s(c),o&16))for(let p=0;p<l.length;p++){const f=l[p];i(f,e,n,!0,!!f.dynamicChildren)}},move:ls,hydrate:w_};function ls(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:h}=t,u=s===2;if(u&&r(a,e,n),(!u||ci(h))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);u&&r(o,e,n)}function w_(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){const h=e.target=Io(e.props,l);if(h){const u=h._lpa||h.firstChild;if(e.shapeFlag&16)if(ci(e.props))e.anchor=c(a(t),e,o(t),n,r,i,s),e.targetAnchor=u;else{e.anchor=a(t);let d=u;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(u,e,h,n,r,i,s)}$d(e)}return e.anchor&&a(e.anchor)}const S_=b_;function $d(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const je=Symbol(void 0),Hn=Symbol(void 0),qe=Symbol(void 0),Bn=Symbol(void 0),hi=[];let Ze=null;function vt(t=!1){hi.push(Ze=t?null:[])}function Gd(){hi.pop(),Ze=hi[hi.length-1]||null}let jn=1;function Oo(t){jn+=t}function Hd(t){return t.dynamicChildren=jn>0?Ze||cr:null,Gd(),jn>0&&Ze&&Ze.push(t),t}function _n(t,e,n,r,i,s){return Hd(_e(t,e,n,r,i,s,!0))}function Ul(t,e,n,r,i){return Hd(Ie(t,e,n,r,i,!0))}function pn(t){return t?t.__v_isVNode===!0:!1}function Et(t,e){return t.type===e.type&&t.key===e.key}function E_(t){}const va="__vInternal",jd=({key:t})=>t??null,Es=({ref:t,ref_key:e,ref_for:n})=>t!=null?Me(t)||We(t)||le(t)?{i:Ve,r:t,k:e,f:!!n}:t:null;function _e(t,e=null,n=null,r=0,i=null,s=t===je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jd(e),ref:e&&Es(e),scopeId:da,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ve};return o?(Gl(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Me(n)?8:16),jn>0&&!a&&Ze&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ze.push(l),l}const Ie=C_;function C_(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Pd)&&(t=qe),pn(t)){const o=Rt(t,e,!0);return n&&Gl(o,n),jn>0&&!s&&Ze&&(o.shapeFlag&6?Ze[Ze.indexOf(t)]=o:Ze.push(o)),o.patchFlag|=-2,o}if(M_(t)&&(t=t.__vccOpts),e){e=Wd(e);let{class:o,style:l}=e;o&&!Me(o)&&(e.class=Or(o)),Pe(l)&&(Sl(l)&&!ne(l)&&(l=Ne({},l)),e.style=Ir(l))}const a=Me(t)?1:dd(t)?128:y_(t)?64:Pe(t)?4:le(t)?2:0;return _e(t,e,n,r,i,a,s,!0)}function Wd(t){return t?Sl(t)||va in t?Ne({},t):t:null}function Rt(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?Hl(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&jd(o),ref:e&&e.ref?n&&i?ne(i)?i.concat(Es(e)):[i,Es(e)]:Es(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rt(t.ssContent),ssFallback:t.ssFallback&&Rt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function $l(t=" ",e=0){return Ie(Hn,null,t,e)}function T_(t,e){const n=Ie(Bn,null,t);return n.staticCount=e,n}function A_(t="",e=!1){return e?(vt(),Ul(qe,null,t)):Ie(qe,null,t)}function nt(t){return t==null||typeof t=="boolean"?Ie(qe):ne(t)?Ie(je,null,t.slice()):typeof t=="object"?tn(t):Ie(Hn,null,String(t))}function tn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rt(t)}function Gl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Gl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(va in e)?e._ctx=Ve:i===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else le(e)?(e={default:e,_ctx:Ve},n=32):(e=String(e),r&64?(n=16,e=[$l(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hl(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Or([e.class,r.class]));else if(i==="style")e.style=Ir([e.style,r.style]);else if(Di(i)){const s=e[i],a=r[i];a&&s!==a&&!(ne(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Je(t,e,n,r=null){st(t,e,7,[n,r])}const P_=Nd();let R_=0;function zd(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||P_,s={uid:R_++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Od(r,i),emitsOptions:ud(r,i),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:r.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=km.bind(null,s),t.ce&&t.ce(s),s}let Ge=null;const vn=()=>Ge||Ve,gn=t=>{Ge=t,t.scope.on()},cn=()=>{Ge&&Ge.scope.off(),Ge=null};function Vd(t){return t.vnode.shapeFlag&4}let Er=!1;function Kd(t,e=!1){Er=e;const{props:n,children:r}=t.vnode,i=Vd(t);h_(t,n,i,e),f_(t,r);const s=i?x_(t,e):void 0;return Er=!1,s}function x_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=El(new Proxy(t.ctx,Po));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Yd(t):null;gn(t),Mr();const s=Bt(r,t,0,[t.props,i]);if(Lr(),cn(),ml(s)){if(s.then(cn,cn),e)return s.then(a=>{Mo(t,a,e)}).catch(a=>{Kn(a,t,0)});t.asyncDep=s}else Mo(t,s,e)}else qd(t,e)}function Mo(t,e,n){le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=Al(e)),qd(t,n)}let $s,Lo;function k_(t){$s=t,Lo=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,i_))}}const I_=()=>!$s;function qd(t,e,n){const r=t.type;if(!t.render){if(!e&&$s&&!r.render){const i=r.template||Nl(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,c=Ne(Ne({isCustomElement:s,delimiters:o},a),l);r.render=$s(i,c)}}t.render=r.render||gt,Lo&&Lo(t)}gn(t),Mr(),s_(t),Lr(),cn()}function O_(t){return new Proxy(t.attrs,{get(e,n){return ot(t,"get","$attrs"),e[n]}})}function Yd(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=O_(t))},slots:t.slots,emit:t.emit,expose:e}}function ya(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Al(El(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in li)return li[n](t)},has(e,n){return n in e||n in li}}))}function Do(t,e=!0){return le(t)?t.displayName||t.name:t.name||e&&t.__name}function M_(t){return le(t)&&"__vccOpts"in t}const rt=(t,e)=>Cm(t,e,Er);function L_(){return null}function D_(){return null}function N_(t){}function F_(t,e){return null}function B_(){return Xd().slots}function U_(){return Xd().attrs}function Xd(){const t=vn();return t.setupContext||(t.setupContext=Yd(t))}function $_(t,e){const n=ne(t)?t.reduce((r,i)=>(r[i]={},r),{}):t;for(const r in e){const i=n[r];i?ne(i)||le(i)?n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(n[r]={default:e[r]})}return n}function G_(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function H_(t){const e=vn();let n=t();return cn(),ml(n)&&(n=n.catch(r=>{throw gn(e),r})),[n,()=>gn(e)]}function ba(t,e,n){const r=arguments.length;return r===2?Pe(e)&&!ne(e)?pn(e)?Ie(t,null,[e]):Ie(t,e):Ie(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pn(n)&&(n=[n]),Ie(t,e,n))}const Jd=Symbol(""),Zd=()=>Tt(Jd);function j_(){}function W_(t,e,n,r){const i=n[r];if(i&&Qd(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function Qd(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(br(n[r],e[r]))return!1;return jn>0&&Ze&&Ze.push(t),!0}const ef="3.2.45",z_={createComponentInstance:zd,setupComponent:Kd,renderComponentRoot:Ss,setCurrentRenderingInstance:Ti,isVNode:pn,normalizeVNode:nt},V_=z_,K_=null,q_=null,Y_="http://www.w3.org/2000/svg",On=typeof document<"u"?document:null,Wc=On&&On.createElement("template"),X_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?On.createElementNS(Y_,t):On.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Wc.innerHTML=r?`<svg>${t}</svg>`:t;const o=Wc.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function J_(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Z_(t,e,n){const r=t.style,i=Me(n);if(n&&!i){for(const s in n)No(r,s,n[s]);if(e&&!Me(e))for(const s in e)n[s]==null&&No(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const zc=/\s*!important$/;function No(t,e,n){if(ne(n))n.forEach(r=>No(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Q_(t,e);zc.test(n)?t.setProperty(ct(r),n.replace(zc,""),"important"):t[r]=n}}const Vc=["Webkit","Moz","ms"],ja={};function Q_(t,e){const n=ja[e];if(n)return n;let r=Qe(e);if(r!=="filter"&&r in t)return ja[e]=r;r=Fi(r);for(let i=0;i<Vc.length;i++){const s=Vc[i]+r;if(s in t)return ja[e]=s}return e}const Kc="http://www.w3.org/1999/xlink";function ev(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Kc,e.slice(6,e.length)):t.setAttributeNS(Kc,e,n);else{const s=xg(e);n==null||s&&!Uu(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function tv(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Uu(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(e)}function Dt(t,e,n,r){t.addEventListener(e,n,r)}function nv(t,e,n,r){t.removeEventListener(e,n,r)}function rv(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=iv(e);if(r){const c=s[e]=ov(r,i);Dt(t,o,c,l)}else a&&(nv(t,o,a,l),s[e]=void 0)}}const qc=/(?:Once|Passive|Capture)$/;function iv(t){let e;if(qc.test(t)){e={};let r;for(;r=t.match(qc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ct(t.slice(2)),e]}let Wa=0;const sv=Promise.resolve(),av=()=>Wa||(sv.then(()=>Wa=0),Wa=Date.now());function ov(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;st(lv(r,n.value),e,5,[r])};return n.value=t,n.attached=av(),n}function lv(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Yc=/^on[a-z]/,cv=(t,e,n,r,i=!1,s,a,o,l)=>{e==="class"?J_(t,r,i):e==="style"?Z_(t,n,r):Di(e)?pl(e)||rv(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hv(t,e,r,i))?tv(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ev(t,e,r,i))};function hv(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Yc.test(e)&&le(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Yc.test(e)&&Me(n)?!1:e in t}function tf(t,e){const n=$i(t);class r extends wa{constructor(s){super(n,s,e)}}return r.def=n,r}const uv=t=>tf(t,_f),dv=typeof HTMLElement<"u"?HTMLElement:class{};class wa extends dv{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ca(()=>{this._connected||(Uo(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:a}=r;let o;if(s&&!ne(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=$t(this._props[l])),(o||(o=Object.create(null)))[Qe(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=ne(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Qe))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Qe(e);this._numberProps&&this._numberProps[r]&&(n=$t(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(ct(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ct(e),n+""):n||this.removeAttribute(ct(e))))}_update(){Uo(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Ie(this._def,Ne({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{r(s,a),ct(s)!==s&&r(ct(s),a)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof wa){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function fv(t="$style"){{const e=vn();if(!e)return Ae;const n=e.type.__cssModules;if(!n)return Ae;const r=n[t];return r||Ae}}function pv(t){const e=vn();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Bo(s,i))},r=()=>{const i=t(e.proxy);Fo(e.subTree,i),n(i)};pd(r),Hi(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),_a(()=>i.disconnect())})}function Fo(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Fo(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Bo(t.el,e);else if(t.type===je)t.children.forEach(n=>Fo(n,e));else if(t.type===Bn){let{el:n,anchor:r}=t;for(;n&&(Bo(n,e),n!==r);)n=n.nextSibling}}function Bo(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const Yt="transition",Gr="animation",jl=(t,{slots:e})=>ba(Ml,rf(t),e);jl.displayName="Transition";const nf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gv=jl.props=Ne({},Ml.props,nf),An=(t,e=[])=>{ne(t)?t.forEach(n=>n(...e)):t&&t(...e)},Xc=t=>t?ne(t)?t.some(e=>e.length>1):t.length>1:!1;function rf(t){const e={};for(const B in t)B in nf||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:h=o,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,f=mv(i),m=f&&f[0],_=f&&f[1],{onBeforeEnter:y,onEnter:g,onEnterCancelled:b,onLeave:S,onLeaveCancelled:P,onBeforeAppear:A=y,onAppear:I=g,onAppearCancelled:T=b}=e,L=(B,x,R)=>{Qt(B,x?h:o),Qt(B,x?c:a),R&&R()},M=(B,x)=>{B._isLeaving=!1,Qt(B,u),Qt(B,p),Qt(B,d),x&&x()},F=B=>(x,R)=>{const X=B?I:g,G=()=>L(x,B,R);An(X,[x,G]),Jc(()=>{Qt(x,B?l:s),Ot(x,B?h:o),Xc(X)||Zc(x,r,m,G)})};return Ne(e,{onBeforeEnter(B){An(y,[B]),Ot(B,s),Ot(B,a)},onBeforeAppear(B){An(A,[B]),Ot(B,l),Ot(B,c)},onEnter:F(!1),onAppear:F(!0),onLeave(B,x){B._isLeaving=!0;const R=()=>M(B,x);Ot(B,u),af(),Ot(B,d),Jc(()=>{B._isLeaving&&(Qt(B,u),Ot(B,p),Xc(S)||Zc(B,r,_,R))}),An(S,[B,R])},onEnterCancelled(B){L(B,!1),An(b,[B])},onAppearCancelled(B){L(B,!0),An(T,[B])},onLeaveCancelled(B){M(B),An(P,[B])}})}function mv(t){if(t==null)return null;if(Pe(t))return[za(t.enter),za(t.leave)];{const e=za(t);return[e,e]}}function za(t){return $t(t)}function Ot(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Qt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Jc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let _v=0;function Zc(t,e,n,r){const i=t._endId=++_v,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=sf(t,e);if(!a)return r();const c=a+"end";let h=0;const u=()=>{t.removeEventListener(c,d),s()},d=p=>{p.target===t&&++h>=l&&u()};setTimeout(()=>{h<l&&u()},o+1),t.addEventListener(c,d)}function sf(t,e){const n=window.getComputedStyle(t),r=f=>(n[f]||"").split(", "),i=r(`${Yt}Delay`),s=r(`${Yt}Duration`),a=Qc(i,s),o=r(`${Gr}Delay`),l=r(`${Gr}Duration`),c=Qc(o,l);let h=null,u=0,d=0;e===Yt?a>0&&(h=Yt,u=a,d=s.length):e===Gr?c>0&&(h=Gr,u=c,d=l.length):(u=Math.max(a,c),h=u>0?a>c?Yt:Gr:null,d=h?h===Yt?s.length:l.length:0);const p=h===Yt&&/\b(transform|all)(,|$)/.test(r(`${Yt}Property`).toString());return{type:h,timeout:u,propCount:d,hasTransform:p}}function Qc(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>eh(n)+eh(t[r])))}function eh(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function af(){return document.body.offsetHeight}const of=new WeakMap,lf=new WeakMap,vv={name:"TransitionGroup",props:Ne({},gv,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=vn(),r=Ol();let i,s;return ga(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Ev(i[0].el,n.vnode.el,a))return;i.forEach(bv),i.forEach(wv);const o=i.filter(Sv);af(),o.forEach(l=>{const c=l.el,h=c.style;Ot(c,a),h.transform=h.webkitTransform=h.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,Qt(c,a))};c.addEventListener("transitionend",u)})}),()=>{const a=ye(t),o=rf(a);let l=a.tag||je;i=s,s=e.default?fa(e.default()):[];for(let c=0;c<s.length;c++){const h=s[c];h.key!=null&&Gn(h,wr(h,o,r,n))}if(i)for(let c=0;c<i.length;c++){const h=i[c];Gn(h,wr(h,o,r,n)),of.set(h,h.el.getBoundingClientRect())}return Ie(l,null,s)}}},yv=vv;function bv(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function wv(t){lf.set(t,t.el.getBoundingClientRect())}function Sv(t){const e=of.get(t),n=lf.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function Ev(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=sf(r);return i.removeChild(r),s}const mn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>ur(e,n):e};function Cv(t){t.target.composing=!0}function th(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gs={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=mn(i);const s=r||i.props&&i.props.type==="number";Dt(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=$t(o)),t._assign(o)}),n&&Dt(t,"change",()=>{t.value=t.value.trim()}),e||(Dt(t,"compositionstart",Cv),Dt(t,"compositionend",th),Dt(t,"change",th))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=mn(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&$t(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},Wl={deep:!0,created(t,e,n){t._assign=mn(n),Dt(t,"change",()=>{const r=t._modelValue,i=Cr(t),s=t.checked,a=t._assign;if(ne(r)){const o=na(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const c=[...r];c.splice(o,1),a(c)}}else if(Vn(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(hf(t,s))})},mounted:nh,beforeUpdate(t,e,n){t._assign=mn(n),nh(t,e,n)}};function nh(t,{value:e,oldValue:n},r){t._modelValue=e,ne(e)?t.checked=na(e,r.props.value)>-1:Vn(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=dn(e,hf(t,!0)))}const zl={created(t,{value:e},n){t.checked=dn(e,n.props.value),t._assign=mn(n),Dt(t,"change",()=>{t._assign(Cr(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=mn(r),e!==n&&(t.checked=dn(e,r.props.value))}},cf={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Vn(e);Dt(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?$t(Cr(a)):Cr(a));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=mn(r)},mounted(t,{value:e}){rh(t,e)},beforeUpdate(t,e,n){t._assign=mn(n)},updated(t,{value:e}){rh(t,e)}};function rh(t,e){const n=t.multiple;if(!(n&&!ne(e)&&!Vn(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],a=Cr(s);if(n)ne(e)?s.selected=na(e,a)>-1:s.selected=e.has(a);else if(dn(Cr(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Cr(t){return"_value"in t?t._value:t.value}function hf(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const uf={created(t,e,n){cs(t,e,n,null,"created")},mounted(t,e,n){cs(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){cs(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){cs(t,e,n,r,"updated")}};function df(t,e){switch(t){case"SELECT":return cf;case"TEXTAREA":return Gs;default:switch(e){case"checkbox":return Wl;case"radio":return zl;default:return Gs}}}function cs(t,e,n,r,i){const a=df(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,r)}function Tv(){Gs.getSSRProps=({value:t})=>({value:t}),zl.getSSRProps=({value:t},e)=>{if(e.props&&dn(e.props.value,t))return{checked:!0}},Wl.getSSRProps=({value:t},e)=>{if(ne(t)){if(e.props&&na(t,e.props.value)>-1)return{checked:!0}}else if(Vn(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},uf.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=df(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Av=["ctrl","shift","alt","meta"],Pv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Av.some(n=>t[`${n}Key`]&&!e.includes(n))},Rv=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=Pv[e[i]];if(s&&s(n,e))return}return t(n,...r)},xv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kv=(t,e)=>n=>{if(!("key"in n))return;const r=ct(n.key);if(e.some(i=>i===r||xv[i]===r))return t(n)},ff={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Hr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Hr(t,!0),r.enter(t)):r.leave(t,()=>{Hr(t,!1)}):Hr(t,e))},beforeUnmount(t,{value:e}){Hr(t,e)}};function Hr(t,e){t.style.display=e?t._vod:"none"}function Iv(){ff.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const pf=Ne({patchProp:cv},X_);let ui,ih=!1;function gf(){return ui||(ui=Fd(pf))}function mf(){return ui=ih?ui:Bd(pf),ih=!0,ui}const Uo=(...t)=>{gf().render(...t)},_f=(...t)=>{mf().hydrate(...t)},Hs=(...t)=>{const e=gf().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=vf(r);if(!i)return;const s=e._component;!le(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},Ov=(...t)=>{const e=mf().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=vf(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function vf(t){return Me(t)?document.querySelector(t):t}let sh=!1;const Mv=()=>{sh||(sh=!0,Tv(),Iv())},Lv=()=>{},Dv=Object.freeze(Object.defineProperty({__proto__:null,compile:Lv,EffectScope:vl,ReactiveEffect:Bi,customRef:bm,effect:jg,effectScope:Bg,getCurrentScope:Ug,isProxy:Sl,isReactive:Dn,isReadonly:$n,isRef:We,isShallow:wi,markRaw:El,onScopeDispose:$g,proxyRefs:Al,reactive:Dr,readonly:wl,ref:ai,shallowReactive:nd,shallowReadonly:gm,shallowRef:rd,stop:Wg,toRaw:ye,toRef:sd,toRefs:wm,triggerRef:_m,unref:Nn,camelize:Qe,capitalize:Fi,normalizeClass:Or,normalizeProps:Pg,normalizeStyle:Ir,toDisplayString:ir,toHandlerKey:si,BaseTransition:Ml,Comment:qe,Fragment:je,KeepAlive:Xm,Static:Bn,Suspense:Um,Teleport:S_,Text:Hn,callWithAsyncErrorHandling:st,callWithErrorHandling:Bt,cloneVNode:Rt,compatUtils:q_,computed:rt,createBlock:Ul,createCommentVNode:A_,createElementBlock:_n,createElementVNode:_e,createHydrationRenderer:Bd,createPropsRestProxy:G_,createRenderer:Fd,createSlots:r_,createStaticVNode:T_,createTextVNode:$l,createVNode:Ie,defineAsyncComponent:qm,defineComponent:$i,defineEmits:D_,defineExpose:N_,defineProps:L_,get devtools(){return sr},getCurrentInstance:vn,getTransitionRawChildren:fa,guardReactiveProps:Wd,h:ba,handleError:Kn,initCustomFormatter:j_,inject:Tt,isMemoSame:Qd,isRuntimeOnly:I_,isVNode:pn,mergeDefaults:$_,mergeProps:Hl,nextTick:ca,onActivated:_d,onBeforeMount:bd,onBeforeUnmount:ma,onBeforeUpdate:wd,onDeactivated:vd,onErrorCaptured:Td,onMounted:Hi,onRenderTracked:Cd,onRenderTriggered:Ed,onServerPrefetch:Sd,onUnmounted:_a,onUpdated:ga,openBlock:vt,popScopeId:Om,provide:oi,pushScopeId:Im,queuePostFlushCb:Rl,registerRuntimeCompiler:k_,renderList:n_,renderSlot:Sr,resolveComponent:Ad,resolveDirective:t_,resolveDynamicComponent:e_,resolveFilter:K_,resolveTransitionHooks:wr,setBlockTracking:Oo,setDevtoolsHook:hd,setTransitionHooks:Gn,ssrContextKey:Jd,ssrUtils:V_,toHandlers:xd,transformVNodeArgs:E_,useAttrs:U_,useSSRContext:Zd,useSlots:B_,useTransitionState:Ol,version:ef,warn:Tm,watch:pr,watchEffect:Wm,watchPostEffect:pd,watchSyncEffect:zm,withAsyncContext:H_,withCtx:xl,withDefaults:F_,withDirectives:Zm,withMemo:W_,withScopeId:Mm,Transition:jl,TransitionGroup:yv,VueElement:wa,createApp:Hs,createSSRApp:Ov,defineCustomElement:tf,defineSSRCustomElement:uv,hydrate:_f,initDirectivesForSSR:Mv,render:Uo,useCssModule:fv,useCssVars:pv,vModelCheckbox:Wl,vModelDynamic:uf,vModelRadio:zl,vModelSelect:cf,vModelText:Gs,vShow:ff,withKeys:kv,withModifiers:Rv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,u=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),r.push(n[h],n[u],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||u==null)throw new Fv;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),u!==64){const f=c<<6&192|u;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bv=function(t){const e=yf(t);return bf.encodeByteArray(e,!0)},js=function(t){return Bv(t).replace(/\./g,"")},wf=function(t){try{return bf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=()=>Uv().__FIREBASE_DEFAULTS__,Gv=()=>{if(typeof process>"u"||typeof{VUE_APP_PASSWORD:"#uwzVR)gBg]sT!nAApm)ZArR-f-Vs%vn",VUE_APP_ID:"tyr-external",VUE_APP_SERVICEID:"60F0B5D1-742D-4B8B-88C6-6F91103D60E1",VUE_APP_IDP:"https://app-aux-identity.azurewebsites.net",VUE_APP_DATA:"https://app-business-intel.azurewebsites.net/Computation/SolarPanelWindLoad"}>"u")return;const t={VUE_APP_PASSWORD:"#uwzVR)gBg]sT!nAApm)ZArR-f-Vs%vn",VUE_APP_ID:"tyr-external",VUE_APP_SERVICEID:"60F0B5D1-742D-4B8B-88C6-6F91103D60E1",VUE_APP_IDP:"https://app-aux-identity.azurewebsites.net",VUE_APP_DATA:"https://app-business-intel.azurewebsites.net/Computation/SolarPanelWindLoad"}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wf(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return $v()||Gv()||Hv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sf=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jT=t=>{const e=Sf(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jv=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},Ef=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),o="";return[js(JSON.stringify(n)),js(JSON.stringify(a)),o].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Vv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qv(){const t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yv(){try{return typeof indexedDB=="object"}catch{return!1}}function Xv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jv,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Zv(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new yn(i,o,r)}}function Zv(t,e){return t.replace(Qv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qv=/\{\$([^}]+)}/g;function ey(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(ah(s)&&ah(a)){if(!Ws(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ah(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ty(t,e){const n=new ny(t,e);return n.subscribe.bind(n)}class ny{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ry(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Va),i.error===void 0&&(i.error=Va),i.complete===void 0&&(i.complete=Va);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ry(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Va(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class Tr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ay(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kn){return this.instances.has(e)}getOptions(e=kn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kn){return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sy(t){return t===kn?void 0:t}function ay(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const ly={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},cy=ke.INFO,hy={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},uy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cf{constructor(e){this.name=e,this._logLevel=cy,this._logHandler=uy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ly[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const dy=(t,e)=>e.some(n=>t instanceof n);let oh,lh;function fy(){return oh||(oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function py(){return lh||(lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tf=new WeakMap,$o=new WeakMap,Af=new WeakMap,Ka=new WeakMap,Kl=new WeakMap;function gy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(hn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Tf.set(n,t)}).catch(()=>{}),Kl.set(e,t),e}function my(t){if($o.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});$o.set(t,e)}let Go={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $o.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Af.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _y(t){Go=t(Go)}function vy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qa(this),e,...n);return Af.set(r,e.sort?e.sort():[e]),hn(r)}:py().includes(t)?function(...e){return t.apply(qa(this),e),hn(Tf.get(this))}:function(...e){return hn(t.apply(qa(this),e))}}function yy(t){return typeof t=="function"?vy(t):(t instanceof IDBTransaction&&my(t),dy(t,fy())?new Proxy(t,Go):t)}function hn(t){if(t instanceof IDBRequest)return gy(t);if(Ka.has(t))return Ka.get(t);const e=yy(t);return e!==t&&(Ka.set(t,e),Kl.set(e,t)),e}const qa=t=>Kl.get(t);function by(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=hn(a);return r&&a.addEventListener("upgradeneeded",l=>{r(hn(a.result),l.oldVersion,l.newVersion,hn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}const wy=["get","getKey","getAll","getAllKeys","count"],Sy=["put","add","delete","clear"],Ya=new Map;function ch(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ya.get(e))return Ya.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wy.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Ya.set(e,s),s}_y(t=>({...t,get:(e,n,r)=>ch(e,n)||t.get(e,n,r),has:(e,n)=>!!ch(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ho="@firebase/app",hh="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new Cf("@firebase/app"),Ty="@firebase/app-compat",Ay="@firebase/analytics-compat",Py="@firebase/analytics",Ry="@firebase/app-check-compat",xy="@firebase/app-check",ky="@firebase/auth",Iy="@firebase/auth-compat",Oy="@firebase/database",My="@firebase/database-compat",Ly="@firebase/functions",Dy="@firebase/functions-compat",Ny="@firebase/installations",Fy="@firebase/installations-compat",By="@firebase/messaging",Uy="@firebase/messaging-compat",$y="@firebase/performance",Gy="@firebase/performance-compat",Hy="@firebase/remote-config",jy="@firebase/remote-config-compat",Wy="@firebase/storage",zy="@firebase/storage-compat",Vy="@firebase/firestore",Ky="@firebase/firestore-compat",qy="firebase",Yy="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]",Xy={[Ho]:"fire-core",[Ty]:"fire-core-compat",[Py]:"fire-analytics",[Ay]:"fire-analytics-compat",[xy]:"fire-app-check",[Ry]:"fire-app-check-compat",[ky]:"fire-auth",[Iy]:"fire-auth-compat",[Oy]:"fire-rtdb",[My]:"fire-rtdb-compat",[Ly]:"fire-fn",[Dy]:"fire-fn-compat",[Ny]:"fire-iid",[Fy]:"fire-iid-compat",[By]:"fire-fcm",[Uy]:"fire-fcm-compat",[$y]:"fire-perf",[Gy]:"fire-perf-compat",[Hy]:"fire-rc",[jy]:"fire-rc-compat",[Wy]:"fire-gcs",[zy]:"fire-gcs-compat",[Vy]:"fire-fst",[Ky]:"fire-fst-compat","fire-js":"fire-js",[qy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Map,Wo=new Map;function Jy(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t){const e=t.name;if(Wo.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;Wo.set(e,t);for(const n of zs.values())Jy(n,t);return!0}function Pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},un=new ji("app","Firebase",Zy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=Yy;function Rf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw un.create("bad-app-name",{appName:String(i)});if(n||(n=jv()),!n)throw un.create("no-options");const s=zs.get(i);if(s){if(Ws(n,s.options)&&Ws(r,s.config))return s;throw un.create("duplicate-app",{appName:i})}const a=new oy(i);for(const l of Wo.values())a.addComponent(l);const o=new Qy(n,r,a);return zs.set(i,o),o}function e0(t=jo){const e=zs.get(t);if(!e&&t===jo)return Rf();if(!e)throw un.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let i=(r=Xy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(o.join(" "));return}Pi(new Tr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firebase-heartbeat-database",n0=1,Ri="firebase-heartbeat-store";let Xa=null;function xf(){return Xa||(Xa=by(t0,n0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ri)}}}).catch(t=>{throw un.create("idb-open",{originalErrorMessage:t.message})})),Xa}async function r0(t){try{return(await xf()).transaction(Ri).objectStore(Ri).get(kf(t))}catch(e){if(e instanceof yn)Wn.warn(e.message);else{const n=un.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function uh(t,e){try{const r=(await xf()).transaction(Ri,"readwrite");return await r.objectStore(Ri).put(e,kf(t)),r.done}catch(n){if(n instanceof yn)Wn.warn(n.message);else{const r=un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(r.message)}}}function kf(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=1024,s0=30*24*60*60*1e3;class a0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=s0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dh(),{heartbeatsToSend:n,unsentEntries:r}=o0(this._heartbeatsCache.heartbeats),i=js(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dh(){return new Date().toISOString().substring(0,10)}function o0(t,e=i0){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),fh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yv()?Xv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await r0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fh(t){return js(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){Pi(new Tr("platform-logger",e=>new Ey(e),"PRIVATE")),Pi(new Tr("heartbeat",e=>new a0(e),"PRIVATE")),gr(Ho,hh,t),gr(Ho,hh,"esm2017"),gr("fire-js","")}c0("");function ql(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function If(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h0=If,Of=new ji("auth","Firebase",If());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Cf("@firebase/auth");function Cs(t,...e){ph.logLevel<=ke.ERROR&&ph.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,...e){throw Yl(t,...e)}function At(t,...e){return Yl(t,...e)}function u0(t,e,n){const r=Object.assign(Object.assign({},h0()),{[e]:n});return new ji("auth","Firebase",r).create(e,{appName:t.name})}function Yl(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Of.create(t,...e)}function oe(t,e,...n){if(!t)throw Yl(e,...n)}function Nt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cs(e),new Error(e)}function Ht(t,e){t||Nt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map;function Ft(t){Ht(t instanceof Function,"Expected a class definition");let e=gh.get(t);return e?(Ht(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gh.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e){const n=Pf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ws(s,e??{}))return i;mt(i,"already-initialized")}return n.initialize({options:e})}function f0(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ft);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p0(){return mh()==="http:"||mh()==="https:"}function mh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p0()||Vv()||"connection"in navigator)?navigator.onLine:!0}function m0(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ht(n>e,"Short delay should be less than long delay!"),this.isMobile=zv()||Kv()}get(){return g0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t,e){Ht(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new zi(3e4,6e4);function Ea(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,n,r,i={}){return Lf(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Wi(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Mf.fetch()(Df(t,t.config.apiHost,n,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Lf(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_0),e);try{const i=new y0(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw hs(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hs(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw hs(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw hs(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw u0(t,h,c);mt(t,h)}}catch(i){if(i instanceof yn)throw i;mt(t,"internal-error",{message:String(i)})}}async function Ca(t,e,n,r,i={}){const s=await Vi(t,e,n,r,i);return"mfaPendingCredential"in s&&mt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Df(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xl(t.config,i):`${t.config.apiScheme}://${i}`}class y0{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(At(this.auth,"network-request-failed")),v0.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hs(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=At(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function w0(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S0(t,e=!1){const n=bn(t),r=await n.getIdToken(e),i=Jl(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:di(Ja(i.auth_time)),issuedAtTime:di(Ja(i.iat)),expirationTime:di(Ja(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ja(t){return Number(t)*1e3}function Jl(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cs("JWT malformed, contained fewer than 3 sections"),null;try{const i=wf(n);return i?JSON.parse(i):(Cs("Failed to decode base64 JWT payload"),null)}catch(i){return Cs("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E0(t){const e=Jl(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&C0(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C0({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xi(t,w0(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?R0(s.providerUserInfo):[],o=P0(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Nf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function A0(t){const e=bn(t);await Vs(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P0(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R0(t){return t.map(e=>{var{providerId:n}=e,r=ql(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(t,e){const n=await Lf(t,{},async()=>{const r=Wi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Df(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Mf.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await x0(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ki;return r&&(oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ki,this.toJSON())}_performRefresh(){return Nt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xi(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S0(this,e)}reload(){return A0(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vs(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xi(this,b0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:S,isAnonymous:P,providerData:A,stsTokenManager:I}=n;oe(b&&I,e,"internal-error");const T=ki.fromJSON(this.name,I);oe(typeof b=="string",e,"internal-error"),Xt(u,e.name),Xt(d,e.name),oe(typeof S=="boolean",e,"internal-error"),oe(typeof P=="boolean",e,"internal-error"),Xt(p,e.name),Xt(f,e.name),Xt(m,e.name),Xt(_,e.name),Xt(y,e.name),Xt(g,e.name);const L=new Un({uid:b,auth:e,email:d,emailVerified:S,displayName:u,isAnonymous:P,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:T,createdAt:y,lastLoginAt:g});return A&&Array.isArray(A)&&(L.providerData=A.map(M=>Object.assign({},M))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new ki;i.updateFromServerResponse(n);const s=new Un({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vs(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ff.type="NONE";const _h=Ff;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e,n){return`firebase:${t}:${e}:${n}`}class mr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ts(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ts("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Un._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mr(Ft(_h),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ft(_h);const a=Ts(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){const u=Un._fromJSON(e,h);c!==s&&(o=u),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mr(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new mr(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($f(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hf(e))return"Blackberry";if(jf(e))return"Webos";if(Zl(e))return"Safari";if((e.includes("chrome/")||Uf(e))&&!e.includes("edge/"))return"Chrome";if(Gf(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bf(t=Ye()){return/firefox\//i.test(t)}function Zl(t=Ye()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uf(t=Ye()){return/crios\//i.test(t)}function $f(t=Ye()){return/iemobile/i.test(t)}function Gf(t=Ye()){return/android/i.test(t)}function Hf(t=Ye()){return/blackberry/i.test(t)}function jf(t=Ye()){return/webos/i.test(t)}function Ta(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k0(t=Ye()){var e;return Ta(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I0(){return qv()&&document.documentMode===10}function Wf(t=Ye()){return Ta(t)||Gf(t)||jf(t)||Hf(t)||/windows phone/i.test(t)||$f(t)}function O0(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e=[]){let n;switch(t){case"Browser":n=vh(Ye());break;case"Worker":n=`${vh(Ye())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yh(this),this.idTokenSubscription=new yh(this),this.beforeStateQueue=new M0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Of,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ft(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vs(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?bn(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ft(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ft(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await mr.create(this,[Ft(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Aa(t){return bn(t)}class yh{constructor(e){this.auth=e,this.observer=null,this.addObserver=ty(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function D0(t,e,n){const r=Aa(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Vf(e),{host:a,port:o}=N0(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||F0()}function Vf(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N0(t){const e=Vf(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bh(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:bh(a)}}}function bh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F0(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nt("not implemented")}_getIdTokenResponse(e){return Nt("not implemented")}_linkToIdToken(e,n){return Nt("not implemented")}_getReauthenticationResolver(e){return Nt("not implemented")}}async function B0(t,e){return Vi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(t,e){return Ca(t,"POST","/v1/accounts:signInWithPassword",Ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",Ea(t,e))}async function G0(t,e){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",Ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ql{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ii(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ii(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return U0(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $0(e,{email:this._email,oobCode:this._password});default:mt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return B0(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return G0(e,{idToken:n,email:this._email,oobCode:this._password});default:mt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t,e){return Ca(t,"POST","/v1/accounts:signInWithIdp",Ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="http://localhost";class zn extends Ql{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ql(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new zn(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return _r(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_r(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_r(e,n)}buildRequest(){const e={requestUri:H0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W0(t){const e=Zr(Qr(t)).link,n=e?Zr(Qr(e)).deep_link_id:null,r=Zr(Qr(t)).deep_link_id;return(r?Zr(Qr(r)).link:null)||r||n||e||t}class ec{constructor(e){var n,r,i,s,a,o;const l=Zr(Qr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,u=j0((i=l.mode)!==null&&i!==void 0?i:null);oe(c&&h&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=W0(e);try{return new ec(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(e,n){return Ii._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ec.parseLink(n);return oe(r,"argument-error"),Ii._fromEmailAndCode(e,r.code,r.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Kf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Ki{constructor(){super("facebook.com")}static credential(e){return zn._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rn.credentialFromTaggedObject(e)}static credentialFromError(e){return rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rn.credential(e.oauthAccessToken)}catch{return null}}}rn.FACEBOOK_SIGN_IN_METHOD="facebook.com";rn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zn._fromParams({providerId:sn.PROVIDER_ID,signInMethod:sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sn.credentialFromTaggedObject(e)}static credentialFromError(e){return sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sn.credential(n,r)}catch{return null}}}sn.GOOGLE_SIGN_IN_METHOD="google.com";sn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Ki{constructor(){super("github.com")}static credential(e){return zn._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return an.credential(e.oauthAccessToken)}catch{return null}}}an.GITHUB_SIGN_IN_METHOD="github.com";an.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Ki{constructor(){super("twitter.com")}static credential(e,n){return zn._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return on.credentialFromTaggedObject(e)}static credentialFromError(e){return on.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return on.credential(n,r)}catch{return null}}}on.TWITTER_SIGN_IN_METHOD="twitter.com";on.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Un._fromIdTokenResponse(e,r,i),a=wh(r);return new Ar({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wh(r);return new Ar({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ks.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ks(e,n,r,i)}}function qf(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ks._fromErrorAndOperation(t,s,e,r):s})}async function z0(t,e,n=!1){const r=await xi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ar._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await xi(t,qf(r,i,e,t),n);oe(s.idToken,r,"internal-error");const a=Jl(s.idToken);oe(a,r,"internal-error");const{sub:o}=a;return oe(t.uid===o,r,"user-mismatch"),Ar._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t,e,n=!1){const r="signIn",i=await qf(t,r,e),s=await Ar._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function K0(t,e){return Yf(Aa(t),e)}function zT(t,e,n){return K0(bn(t),Nr.credential(e,n))}function q0(t,e,n,r){return bn(t).onIdTokenChanged(e,n,r)}function Y0(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function X0(t){return bn(t).signOut()}const qs="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qs,"1"),this.storage.removeItem(qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){const t=Ye();return Zl(t)||Ta(t)}const Z0=1e3,Q0=10;class Jf extends Xf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=J0()&&O0(),this.fallbackToPolling=Wf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);I0()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q0):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jf.type="LOCAL";const eb=Jf;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Xf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zf.type="SESSION";const Qf=Zf;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await tb(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=tc("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(u){const d=u;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return window}function rb(t){Pt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){return typeof Pt().WorkerGlobalScope<"u"&&typeof Pt().importScripts=="function"}async function ib(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ab(){return ep()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="firebaseLocalStorageDb",ob=1,Ys="firebaseLocalStorage",np="fbase_key";class qi{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ra(t,e){return t.transaction([Ys],e?"readwrite":"readonly").objectStore(Ys)}function lb(){const t=indexedDB.deleteDatabase(tp);return new qi(t).toPromise()}function Vo(){const t=indexedDB.open(tp,ob);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ys,{keyPath:np})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ys)?e(r):(r.close(),await lb(),e(await Vo()))})})}async function Sh(t,e,n){const r=Ra(t,!0).put({[np]:e,value:n});return new qi(r).toPromise()}async function cb(t,e){const n=Ra(t,!1).get(e),r=await new qi(n).toPromise();return r===void 0?null:r.value}function Eh(t,e){const n=Ra(t,!0).delete(e);return new qi(n).toPromise()}const hb=800,ub=3;class rp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vo(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ub)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ep()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pa._getInstance(ab()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ib(),!this.activeServiceWorker)return;this.sender=new nb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vo();return await Sh(e,qs,"1"),await Eh(e,qs),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sh(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cb(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Eh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ra(i,!1).getAll();return new qi(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rp.type="LOCAL";const db=rp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function pb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=At("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fb().appendChild(r)})}function gb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new zi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e){return e?Ft(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _r(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _r(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _r(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _b(t){return Yf(t.auth,new nc(t),t.bypassAuthState)}function vb(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),V0(n,new nc(t),t.bypassAuthState)}async function yb(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),z0(n,new nc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _b;case"linkViaPopup":case"linkViaRedirect":return yb;case"reauthViaPopup":case"reauthViaRedirect":return vb;default:mt(this.auth,"internal-error")}}resolve(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new zi(2e3,1e4);class or extends ip{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,or.currentPopupAction&&or.currentPopupAction.cancel(),or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Ht(this.filter.length===1,"Popup operations only handle one event");const e=tc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(At(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(At(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(At(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,bb.get())};e()}}or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="pendingRedirect",As=new Map;class Sb extends ip{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=As.get(this.auth._key());if(!e){try{const r=await Eb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}As.set(this.auth._key(),e)}return this.bypassAuthState||As.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Eb(t,e){const n=Ab(e),r=Tb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Cb(t,e){As.set(t._key(),e)}function Tb(t){return Ft(t._redirectPersistence)}function Ab(t){return Ts(wb,t.config.apiKey,t.name)}async function Pb(t,e,n=!1){const r=Aa(t),i=mb(r,e),a=await new Sb(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=10*60*1e3;class xb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sp(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(At(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ch(e))}saveEventToCache(e){this.cachedEventUids.add(Ch(e)),this.lastProcessedEventTime=Date.now()}}function Ch(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sp({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sp(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mb=/^https?/;async function Lb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ib(t);for(const n of e)try{if(Db(n))return}catch{}mt(t,"unauthorized-domain")}function Db(t){const e=zo(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Mb.test(n))return!1;if(Ob.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new zi(3e4,6e4);function Th(){const t=Pt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fb(t){return new Promise((e,n)=>{var r,i,s;function a(){Th(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Th(),n(At(t,"network-request-failed"))},timeout:Nb.get()})}if(!((i=(r=Pt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pt().gapi)===null||s===void 0)&&s.load)a();else{const o=gb("iframefcb");return Pt()[o]=()=>{gapi.load?a():n(At(t,"network-request-failed"))},pb(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Ps=null,e})}let Ps=null;function Bb(t){return Ps=Ps||Fb(t),Ps}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new zi(5e3,15e3),$b="__/auth/iframe",Gb="emulator/auth/iframe",Hb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wb(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xl(e,Gb):`https://${t.config.authDomain}/${$b}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},i=jb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wi(r).slice(1)}`}async function zb(t){const e=await Bb(t),n=Pt().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Wb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=At(t,"network-request-failed"),o=Pt().setTimeout(()=>{s(a)},Ub.get());function l(){Pt().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kb=500,qb=600,Yb="_blank",Xb="http://localhost";class Ah{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jb(t,e,n,r=Kb,i=qb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Vb),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ye().toLowerCase();n&&(o=Uf(c)?Yb:n),Bf(c)&&(e=e||Xb,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,f])=>`${d}${p}=${f},`,"");if(k0(c)&&o!=="_self")return Zb(e||"",o),new Ah(null);const u=window.open(e||"",o,h);oe(u,t,"popup-blocked");try{u.focus()}catch{}return new Ah(u)}function Zb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__/auth/handler",ew="emulator/auth/handler";function Ph(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(e instanceof Kf){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ey(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))a[l]=c}if(e instanceof Ki){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const l of Object.keys(o))o[l]===void 0&&delete o[l];return`${tw(t)}?${Wi(o).slice(1)}`}function tw({config:t}){return t.emulator?Xl(t,ew):`https://${t.authDomain}/${Qb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="webStorageSupport";class nw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qf,this._completeRedirectFn=Pb,this._overrideRedirectResult=Cb}async _openPopup(e,n,r,i){var s;Ht((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=Ph(e,n,r,zo(),i);return Jb(e,a,tc())}async _openRedirect(e,n,r,i){return await this._originValidation(e),rb(Ph(e,n,r,zo(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ht(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zb(e),r=new xb(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Za,{type:Za},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Za];a!==void 0&&n(!!a),mt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wf()||Zl()||Ta()}}const rw=nw;var Rh="@firebase/auth",xh="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function aw(t){Pi(new Tr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((o,l)=>{oe(s&&!s.includes(":"),"invalid-api-key",{appName:o.name}),oe(!(a!=null&&a.includes(":")),"argument-error",{appName:o.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zf(t)},h=new L0(o,l,c);return f0(h,n),h})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new Tr("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new iw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(Rh,xh,sw(t)),gr(Rh,xh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=5*60,lw=Ef("authIdTokenMaxAge")||ow;let kh=null;const cw=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lw)return;const i=n==null?void 0:n.token;kh!==i&&(kh=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hw(t=e0()){const e=Pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d0(t,{popupRedirectResolver:rw,persistence:[db,eb,Qf]}),r=Ef("authTokenSyncURL");if(r){const s=cw(r);Y0(n,s,()=>s(n.currentUser)),q0(n,a=>s(a))}const i=Sf("auth");return i&&D0(n,`http://${i}`),n}aw("Browser");/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ar=typeof window<"u";function uw(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ee=Object.assign;function Qa(t,e){const n={};for(const r in e){const i=e[r];n[r]=_t(i)?i.map(t):t(i)}return n}const fi=()=>{},_t=Array.isArray,dw=/\/$/,fw=t=>t.replace(dw,"");function eo(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=_w(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function pw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ih(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gw(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Pr(e.matched[r],n.matched[i])&&ap(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Pr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ap(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mw(t[n],e[n]))return!1;return!0}function mw(t,e){return _t(t)?Oh(t,e):_t(e)?Oh(e,t):t===e}function Oh(t,e){return _t(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _w(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Oi;(function(t){t.pop="pop",t.push="push"})(Oi||(Oi={}));var pi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(pi||(pi={}));function vw(t){if(!t)if(ar){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fw(t)}const yw=/^[^#]+#/;function bw(t,e){return t.replace(yw,"#")+e}function ww(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const xa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Sw(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=ww(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Mh(t,e){return(history.state?history.state.position-e:-1)+t}const Ko=new Map;function Ew(t,e){Ko.set(t,e)}function Cw(t){const e=Ko.get(t);return Ko.delete(t),e}let Tw=()=>location.protocol+"//"+location.host;function op(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),Ih(l,"")}return Ih(n,t)+r+i}function Aw(t,e,n,r){let i=[],s=[],a=null;const o=({state:d})=>{const p=op(t,location),f=n.value,m=e.value;let _=0;if(d){if(n.value=p,e.value=d,a&&a===f){a=null;return}_=m?d.position-m.position:0}else r(p);i.forEach(y=>{y(n.value,f,{delta:_,type:Oi.pop,direction:_?_>0?pi.forward:pi.back:pi.unknown})})};function l(){a=n.value}function c(d){i.push(d);const p=()=>{const f=i.indexOf(d);f>-1&&i.splice(f,1)};return s.push(p),p}function h(){const{history:d}=window;d.state&&d.replaceState(Ee({},d.state,{scroll:xa()}),"")}function u(){for(const d of s)d();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:c,destroy:u}}function Lh(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?xa():null}}function Pw(t){const{history:e,location:n}=window,r={value:op(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const u=t.indexOf("#"),d=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+l:Tw()+t+l;try{e[h?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[h?"replace":"assign"](d)}}function a(l,c){const h=Ee({},e.state,Lh(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,h,!0),r.value=l}function o(l,c){const h=Ee({},i.value,e.state,{forward:l,scroll:xa()});s(h.current,h,!0);const u=Ee({},Lh(r.value,l,null),{position:h.position+1},c);s(l,u,!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function Rw(t){t=vw(t);const e=Pw(t),n=Aw(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Ee({location:"",base:t,go:r,createHref:bw.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function xw(t){return typeof t=="string"||t&&typeof t=="object"}function lp(t){return typeof t=="string"||typeof t=="symbol"}const Jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cp=Symbol("");var Dh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Dh||(Dh={}));function Rr(t,e){return Ee(new Error,{type:t,[cp]:!0},e)}function It(t,e){return t instanceof Error&&cp in t&&(e==null||!!(t.type&e))}const Nh="[^/]+?",kw={sensitive:!1,strict:!1,start:!0,end:!0},Iw=/[.+*?^${}()[\]/\\]/g;function Ow(t,e){const n=Ee({},kw,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const d=c[u];let p=40+(n.sensitive?.25:0);if(d.type===0)u||(i+="/"),i+=d.value.replace(Iw,"\\$&"),p+=40;else if(d.type===1){const{value:f,repeatable:m,optional:_,regexp:y}=d;s.push({name:f,repeatable:m,optional:_});const g=y||Nh;if(g!==Nh){p+=10;try{new RegExp(`(${g})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${f}" (${g}): `+S.message)}}let b=m?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;u||(b=_&&c.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,p+=20,_&&(p+=-8),m&&(p+=-20),g===".*"&&(p+=-50)}h.push(p)}r.push(h)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(c){const h=c.match(a),u={};if(!h)return null;for(let d=1;d<h.length;d++){const p=h[d]||"",f=s[d-1];u[f.name]=p&&f.repeatable?p.split("/"):p}return u}function l(c){let h="",u=!1;for(const d of t){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const p of d)if(p.type===0)h+=p.value;else if(p.type===1){const{value:f,repeatable:m,optional:_}=p,y=f in c?c[f]:"";if(_t(y)&&!m)throw new Error(`Provided param "${f}" is an array but it is not repeatable (* or + modifiers)`);const g=_t(y)?y.join("/"):y;if(!g)if(_)d.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${f}"`);h+=g}}return h||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function Mw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Lw(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Mw(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Fh(r))return 1;if(Fh(i))return-1}return i.length-r.length}function Fh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dw={type:0,value:""},Nw=/[a-zA-Z0-9_]/;function Fw(t){if(!t)return[[]];if(t==="/")return[[Dw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,c="",h="";function u(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),a()):l===":"?(u(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Nw.test(l)?d():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),a(),i}function Bw(t,e,n){const r=Ow(Fw(t.path),n),i=Ee(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Uw(t,e){const n=[],r=new Map;e=$h({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,u,d){const p=!d,f=$w(h);f.aliasOf=d&&d.record;const m=$h(e,h),_=[f];if("alias"in h){const b=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of b)_.push(Ee({},f,{components:d?d.record.components:f.components,path:S,aliasOf:d?d.record:f}))}let y,g;for(const b of _){const{path:S}=b;if(u&&S[0]!=="/"){const P=u.record.path,A=P[P.length-1]==="/"?"":"/";b.path=u.record.path+(S&&A+S)}if(y=Bw(b,u,m),d?d.alias.push(y):(g=g||y,g!==y&&g.alias.push(y),p&&h.name&&!Uh(y)&&a(h.name)),f.children){const P=f.children;for(let A=0;A<P.length;A++)s(P[A],y,d&&d.children[A])}d=d||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return g?()=>{a(g)}:fi}function a(h){if(lp(h)){const u=r.get(h);u&&(r.delete(h),n.splice(n.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=n.indexOf(h);u>-1&&(n.splice(u,1),h.record.name&&r.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return n}function l(h){let u=0;for(;u<n.length&&Lw(h,n[u])>=0&&(h.record.path!==n[u].record.path||!hp(h,n[u]));)u++;n.splice(u,0,h),h.record.name&&!Uh(h)&&r.set(h.record.name,h)}function c(h,u){let d,p={},f,m;if("name"in h&&h.name){if(d=r.get(h.name),!d)throw Rr(1,{location:h});m=d.record.name,p=Ee(Bh(u.params,d.keys.filter(g=>!g.optional).map(g=>g.name)),h.params&&Bh(h.params,d.keys.map(g=>g.name))),f=d.stringify(p)}else if("path"in h)f=h.path,d=n.find(g=>g.re.test(f)),d&&(p=d.parse(f),m=d.record.name);else{if(d=u.name?r.get(u.name):n.find(g=>g.re.test(u.path)),!d)throw Rr(1,{location:h,currentLocation:u});m=d.record.name,p=Ee({},u.params,h.params),f=d.stringify(p)}const _=[];let y=d;for(;y;)_.unshift(y.record),y=y.parent;return{name:m,path:f,params:p,matched:_,meta:Hw(_)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:i}}function Bh(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function $w(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Gw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Gw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Uh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Hw(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function $h(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function hp(t,e){return e.children.some(n=>n===t||hp(t,n))}const up=/#/g,jw=/&/g,Ww=/\//g,zw=/=/g,Vw=/\?/g,dp=/\+/g,Kw=/%5B/g,qw=/%5D/g,fp=/%5E/g,Yw=/%60/g,pp=/%7B/g,Xw=/%7C/g,gp=/%7D/g,Jw=/%20/g;function rc(t){return encodeURI(""+t).replace(Xw,"|").replace(Kw,"[").replace(qw,"]")}function Zw(t){return rc(t).replace(pp,"{").replace(gp,"}").replace(fp,"^")}function qo(t){return rc(t).replace(dp,"%2B").replace(Jw,"+").replace(up,"%23").replace(jw,"%26").replace(Yw,"`").replace(pp,"{").replace(gp,"}").replace(fp,"^")}function Qw(t){return qo(t).replace(zw,"%3D")}function eS(t){return rc(t).replace(up,"%23").replace(Vw,"%3F")}function tS(t){return t==null?"":eS(t).replace(Ww,"%2F")}function Xs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function nS(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(dp," "),a=s.indexOf("="),o=Xs(a<0?s:s.slice(0,a)),l=a<0?null:Xs(s.slice(a+1));if(o in e){let c=e[o];_t(c)||(c=e[o]=[c]),c.push(l)}else e[o]=l}return e}function Gh(t){let e="";for(let n in t){const r=t[n];if(n=Qw(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(_t(r)?r.map(s=>s&&qo(s)):[r&&qo(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function rS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=_t(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const iS=Symbol(""),Hh=Symbol(""),ic=Symbol(""),mp=Symbol(""),Yo=Symbol("");function jr(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function nn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,o)=>{const l=u=>{u===!1?o(Rr(4,{from:n,to:e})):u instanceof Error?o(u):xw(u)?o(Rr(2,{from:e,to:u})):(s&&r.enterCallbacks[i]===s&&typeof u=="function"&&s.push(u),a())},c=t.call(r&&r.instances[i],e,n,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(u=>o(u))})}function to(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let o=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(sS(o)){const c=(o.__vccOpts||o)[e];c&&i.push(nn(c,n,r,s,a))}else{let l=o();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const h=uw(c)?c.default:c;s.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&nn(d,n,r,s,a)()}))}}return i}function sS(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function jh(t){const e=Tt(ic),n=Tt(mp),r=rt(()=>e.resolve(Nn(t.to))),i=rt(()=>{const{matched:l}=r.value,{length:c}=l,h=l[c-1],u=n.matched;if(!h||!u.length)return-1;const d=u.findIndex(Pr.bind(null,h));if(d>-1)return d;const p=Wh(l[c-2]);return c>1&&Wh(h)===p&&u[u.length-1].path!==p?u.findIndex(Pr.bind(null,l[c-2])):d}),s=rt(()=>i.value>-1&&cS(n.params,r.value.params)),a=rt(()=>i.value>-1&&i.value===n.matched.length-1&&ap(n.params,r.value.params));function o(l={}){return lS(l)?e[Nn(t.replace)?"replace":"push"](Nn(t.to)).catch(fi):Promise.resolve()}return{route:r,href:rt(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}const aS=$i({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jh,setup(t,{slots:e}){const n=Dr(jh(t)),{options:r}=Tt(ic),i=rt(()=>({[zh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:ba("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),oS=aS;function lS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function cS(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!_t(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function Wh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zh=(t,e,n)=>t??e??n,hS=$i({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Tt(Yo),i=rt(()=>t.route||r.value),s=Tt(Hh,0),a=rt(()=>{let c=Nn(s);const{matched:h}=i.value;let u;for(;(u=h[c])&&!u.components;)c++;return c}),o=rt(()=>i.value.matched[a.value]);oi(Hh,rt(()=>a.value+1)),oi(iS,o),oi(Yo,i);const l=ai();return pr(()=>[l.value,o.value,t.name],([c,h,u],[d,p,f])=>{h&&(h.instances[u]=c,p&&p!==h&&c&&c===d&&(h.leaveGuards.size||(h.leaveGuards=p.leaveGuards),h.updateGuards.size||(h.updateGuards=p.updateGuards))),c&&h&&(!p||!Pr(h,p)||!d)&&(h.enterCallbacks[u]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,h=t.name,u=o.value,d=u&&u.components[h];if(!d)return Vh(n.default,{Component:d,route:c});const p=u.props[h],f=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=ba(d,Ee({},f,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[h]=null)},ref:l}));return Vh(n.default,{Component:_,route:c})||_}}});function Vh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uS=hS;function dS(t){const e=Uw(t.routes,t),n=t.parseQuery||nS,r=t.stringifyQuery||Gh,i=t.history,s=jr(),a=jr(),o=jr(),l=rd(Jt);let c=Jt;ar&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Qa.bind(null,O=>""+O),u=Qa.bind(null,tS),d=Qa.bind(null,Xs);function p(O,K){let q,J;return lp(O)?(q=e.getRecordMatcher(O),J=K):J=O,e.addRoute(J,q)}function f(O){const K=e.getRecordMatcher(O);K&&e.removeRoute(K)}function m(){return e.getRoutes().map(O=>O.record)}function _(O){return!!e.getRecordMatcher(O)}function y(O,K){if(K=Ee({},K||l.value),typeof O=="string"){const v=eo(n,O,K.path),E=e.resolve({path:v.path},K),k=i.createHref(v.fullPath);return Ee(v,E,{params:d(E.params),hash:Xs(v.hash),redirectedFrom:void 0,href:k})}let q;if("path"in O)q=Ee({},O,{path:eo(n,O.path,K.path).path});else{const v=Ee({},O.params);for(const E in v)v[E]==null&&delete v[E];q=Ee({},O,{params:u(O.params)}),K.params=u(K.params)}const J=e.resolve(q,K),pe=O.hash||"";J.params=h(d(J.params));const Oe=pw(r,Ee({},O,{hash:Zw(pe),path:J.path})),ue=i.createHref(Oe);return Ee({fullPath:Oe,hash:pe,query:r===Gh?rS(O.query):O.query||{}},J,{redirectedFrom:void 0,href:ue})}function g(O){return typeof O=="string"?eo(n,O,l.value.path):Ee({},O)}function b(O,K){if(c!==O)return Rr(8,{from:K,to:O})}function S(O){return I(O)}function P(O){return S(Ee(g(O),{replace:!0}))}function A(O){const K=O.matched[O.matched.length-1];if(K&&K.redirect){const{redirect:q}=K;let J=typeof q=="function"?q(O):q;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=g(J):{path:J},J.params={}),Ee({query:O.query,hash:O.hash,params:"path"in J?{}:O.params},J)}}function I(O,K){const q=c=y(O),J=l.value,pe=O.state,Oe=O.force,ue=O.replace===!0,v=A(q);if(v)return I(Ee(g(v),{state:typeof v=="object"?Ee({},pe,v.state):pe,force:Oe,replace:ue}),K||q);const E=q;E.redirectedFrom=K;let k;return!Oe&&gw(r,J,q)&&(k=Rr(16,{to:E,from:J}),te(J,J,!0,!1)),(k?Promise.resolve(k):L(E,J)).catch(D=>It(D)?It(D,2)?D:de(D):Q(D,E,J)).then(D=>{if(D){if(It(D,2))return I(Ee({replace:ue},g(D.to),{state:typeof D.to=="object"?Ee({},pe,D.to.state):pe,force:Oe}),K||E)}else D=F(E,J,!0,ue,pe);return M(E,J,D),D})}function T(O,K){const q=b(O,K);return q?Promise.reject(q):Promise.resolve()}function L(O,K){let q;const[J,pe,Oe]=fS(O,K);q=to(J.reverse(),"beforeRouteLeave",O,K);for(const v of J)v.leaveGuards.forEach(E=>{q.push(nn(E,O,K))});const ue=T.bind(null,O,K);return q.push(ue),tr(q).then(()=>{q=[];for(const v of s.list())q.push(nn(v,O,K));return q.push(ue),tr(q)}).then(()=>{q=to(pe,"beforeRouteUpdate",O,K);for(const v of pe)v.updateGuards.forEach(E=>{q.push(nn(E,O,K))});return q.push(ue),tr(q)}).then(()=>{q=[];for(const v of O.matched)if(v.beforeEnter&&!K.matched.includes(v))if(_t(v.beforeEnter))for(const E of v.beforeEnter)q.push(nn(E,O,K));else q.push(nn(v.beforeEnter,O,K));return q.push(ue),tr(q)}).then(()=>(O.matched.forEach(v=>v.enterCallbacks={}),q=to(Oe,"beforeRouteEnter",O,K),q.push(ue),tr(q))).then(()=>{q=[];for(const v of a.list())q.push(nn(v,O,K));return q.push(ue),tr(q)}).catch(v=>It(v,8)?v:Promise.reject(v))}function M(O,K,q){for(const J of o.list())J(O,K,q)}function F(O,K,q,J,pe){const Oe=b(O,K);if(Oe)return Oe;const ue=K===Jt,v=ar?history.state:{};q&&(J||ue?i.replace(O.fullPath,Ee({scroll:ue&&v&&v.scroll},pe)):i.push(O.fullPath,pe)),l.value=O,te(O,K,q,ue),de()}let B;function x(){B||(B=i.listen((O,K,q)=>{if(!$e.listening)return;const J=y(O),pe=A(J);if(pe){I(Ee(pe,{replace:!0}),J).catch(fi);return}c=J;const Oe=l.value;ar&&Ew(Mh(Oe.fullPath,q.delta),xa()),L(J,Oe).catch(ue=>It(ue,12)?ue:It(ue,2)?(I(ue.to,J).then(v=>{It(v,20)&&!q.delta&&q.type===Oi.pop&&i.go(-1,!1)}).catch(fi),Promise.reject()):(q.delta&&i.go(-q.delta,!1),Q(ue,J,Oe))).then(ue=>{ue=ue||F(J,Oe,!1),ue&&(q.delta&&!It(ue,8)?i.go(-q.delta,!1):q.type===Oi.pop&&It(ue,20)&&i.go(-1,!1)),M(J,Oe,ue)}).catch(fi)}))}let R=jr(),X=jr(),G;function Q(O,K,q){de(O);const J=X.list();return J.length?J.forEach(pe=>pe(O,K,q)):console.error(O),Promise.reject(O)}function ie(){return G&&l.value!==Jt?Promise.resolve():new Promise((O,K)=>{R.add([O,K])})}function de(O){return G||(G=!O,x(),R.list().forEach(([K,q])=>O?q(O):K()),R.reset()),O}function te(O,K,q,J){const{scrollBehavior:pe}=t;if(!ar||!pe)return Promise.resolve();const Oe=!q&&Cw(Mh(O.fullPath,0))||(J||!q)&&history.state&&history.state.scroll||null;return ca().then(()=>pe(O,K,Oe)).then(ue=>ue&&Sw(ue)).catch(ue=>Q(ue,O,K))}const he=O=>i.go(O);let fe;const be=new Set,$e={currentRoute:l,listening:!0,addRoute:p,removeRoute:f,hasRoute:_,getRoutes:m,resolve:y,options:t,push:S,replace:P,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:X.add,isReady:ie,install(O){const K=this;O.component("RouterLink",oS),O.component("RouterView",uS),O.config.globalProperties.$router=K,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Nn(l)}),ar&&!fe&&l.value===Jt&&(fe=!0,S(i.location).catch(pe=>{}));const q={};for(const pe in Jt)q[pe]=rt(()=>l.value[pe]);O.provide(ic,K),O.provide(mp,Dr(q)),O.provide(Yo,l);const J=O.unmount;be.add(O),O.unmount=function(){be.delete(O),be.size<1&&(c=Jt,B&&B(),B=null,l.value=Jt,fe=!1,G=!1),J()}}};return $e}function tr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function fS(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(c=>Pr(c,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(c=>Pr(c,l))||i.push(l))}return[n,r,i]}const qn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},pS={data(){return{langIsSe:!0,menuMobile:!1,loggedInUser:!0,userId:""}},methods:{valueSIgnIn(t){this.loggedInUser=!0,this.userId=t},signOutUser(){const t=hw();X0(t).then(()=>{this.loggedInUser=!1,this.userId=""}).catch(e=>{alert(e)})}}},gS=_e("footer",null,[_e("div",{class:"copy-right"})],-1);function mS(t,e,n,r,i,s){const a=Ad("RouterView");return vt(),_n(je,null,[Ie(a,{langIsSe:i.langIsSe,loggedInUser:i.loggedInUser,userId:i.userId,onIsSignedIn:s.valueSIgnIn},null,8,["langIsSe","loggedInUser","userId","onIsSignedIn"]),gS],64)}const _S=qn(pS,[["render",mS]]),vS="modulepreload",yS=function(t){return"/swemountnewstyle/"+t},Kh={},Pn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=yS(s),s in Kh)return;Kh[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const u=i[h];if(u.href===s&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":vS,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},bS="/swemountnewstyle/assets/swemountvideo-e9c05396.mp4",wS="/swemountnewstyle/img/swemount9.jpg",SS="/swemountnewstyle/img/swemount18.jpg",ES="/swemountnewstyle/img/swemount19.jpg",CS="/swemountnewstyle/img/swemount20.jpg",TS={props:{langIsSe:Boolean},data(){return{screenwidthHere:window.innerWidth,en:["Welcome to Swemount! We are a company specializing in the sale and installation of solar cell systems and parts. Our team of trained professionals is dedicated to providing top-quality products and services to help our customers save energy and reduce their carbon footprint. Whether you are a homeowner looking to switch to solar power or a business owner interested in incorporating renewable energy into your operations, we have the expertise and resources to help you reach your goals. Contact us today to learn more about how we can support your transition to solar energy!",`With Swemounts' systems, you are sure to get a stable and secure installation of your solar panels.

By using the innovative material Zinc/Magnesium ZM310, you get products with excellent corrosion resistance and the ability to mount in exposed locations. The systems have undergone careful calculations and testing to withstand tough weather conditions such as strong winds and heavy snow loads.

Swemounts' free software for project design and calculation makes it easy to plan and execute your solar panel installation project.

With Swemounts' systems, the installation becomes easy and efficient. You get a few and easy-to-use components, as well as fast delivery directly to the installation site. Swemount offers various solutions for varying needs.

Swemount also cares about the environment. The products are manufactured using an energy-efficient machine park and work towards becoming climate-neutral.

Choose Swemount and get a reliable and sustainable solution for mounting solar panels.`],se:["Swemount erbjuder innovativa och enkla lösningar av hög kvalitet för montering av solcellspaneler. Vi erbjuder stålprodukter med den optimala ytbehandlingen för våra svenska klimat. Vi lämnar 30 års garanti på samtliga av våra standard produkter för underkonstruktioner.",`Med Swemounts system är du säker på att få en stabil och säker installation av dina solceller. 

Genom att använda det innovativa materialet Zink/Magnesium ZM310 får du produkter med utmärkt korrosionsbeständighet och möjlighet att montera på utsatta ställen.
Systemen har genomgått noggranna beräkningar och tester för att klara tuffa väderförhållanden såsom hård vind och tung snöbelastning.

Swemounts gratis programvara för projektutformning och beräkning blir det enkelt att planera och genomföra ditt solcellsmontageprojekt.

Med Swemounts system blir montaget enkelt och effektivt. 
Du får få och lättanvända detaljer, samt snabb leverans direkt till montageplatsen. 
Swemount erbjuder olika lösningar för varierande behov

Swemount tänker också på miljön. Produkterna tillverkas med hjälp av en energisnål maskinpark och jobbar för att bli klimatneutrala. 

Välj Swemount och få en pålitlig och hållbar lösning för montage av solceller.`]}},methods:{}},AS={class:"video-container"},PS={style:{"max-width":"1200px",margin:"auto"}},RS={class:"head-text"},xS=_e("h1",{class:""},"Swemount",-1),kS=_e("p",{class:"white"}," Swemount erbjuder innovativa och enkla lösningar med hög kvalitet för montering av solcellspaneler. Alla våra system är utvecklade i Sverige, med fokus på varje detalj. Registrera dig och ta del av vår kalkylator för snö & vindlastberäkningar, eller kontakta oss för en skräddarsydd offert.",-1),IS={class:"a-button",href:"/contact",style:{}},OS=_e("video",{class:"bg-video",src:bS,muted:"",autoplay:"",loop:""},null,-1),MS={class:"home-article1"},LS={style:{display:"flex","align-items":"center","max-width":"1200px"}},DS={class:"p-text"},NS={class:"yellow h2-home"},FS={class:"lines-included white"},BS=_e("img",{class:"img-home",src:wS,alt:""},null,-1),US=_e("div",{class:"home-article2",style:{"max-width":"1200px"}},[_e("div",{class:"news-part",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[_e("div",null,[_e("img",{src:SS,alt:""})]),_e("iframe",{class:"video-present",src:"https://www.youtube.com/embed/iUtYNfyG18M?&loop=1&playlist=iUtYNfyG18M",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""}),_e("div",null,[_e("img",{src:ES,alt:""})])])],-1),$S={class:"home-article3"},GS={style:{display:"flex","align-items":"center","max-width":"1200px"}},HS=_e("img",{class:"img-home",src:CS,alt:""},null,-1),jS={class:"p-text"},WS={class:"white h2-home"},zS={class:"lines-included"};function VS(t,e,n,r,i,s){return vt(),_n("main",null,[_e("div",AS,[_e("div",PS,[_e("div",RS,[xS,kS,_e("a",IS,ir(n.langIsSe?"Kontakta oss":"Contact us"),1)])]),OS]),_e("div",MS,[_e("div",LS,[_e("div",DS,[_e("h2",NS,ir(n.langIsSe?"Swemount, vem är vi?":"Swemount, who are we?"),1),_e("p",FS,ir(n.langIsSe?i.se[0]:i.en[0]),1)]),BS])]),US,_e("div",$S,[_e("div",GS,[HS,_e("div",jS,[_e("h2",WS,ir(n.langIsSe?"Varför ska du välja swemounts fästsystem ?":"Why should you choose Swemounts mounting systems?"),1),_e("p",zS,ir(n.langIsSe?i.se[1]:i.en[1]),1)])])])])}const KS=qn(TS,[["render",VS]]),_p=dS({history:Rw("/swemountnewstyle/"),routes:[{path:"/",name:"home",component:KS,redirect:"/calculator"},{path:"/products",name:"products",component:()=>Pn(()=>import("./productsView-0cd52919.js"),["assets/productsView-0cd52919.js","assets/productsinfo-d87bcb69.js"])},{path:"/calculator",name:"calculator",component:()=>Pn(()=>import("./calculator-fd14b622.js").then(t=>t.c),["assets/calculator-fd14b622.js","assets/history-6250e703.js","assets/swemount15-40c2f5c0.js","assets/history-e2c58ac8.css","assets/calculator-0622ce64.css"])},{path:"/about",name:"about",component:()=>Pn(()=>import("./AboutView-dd787c82.js"),["assets/AboutView-dd787c82.js","assets/swemount15-40c2f5c0.js","assets/SingleProduct-e3b0c442.css"])},{path:"/contact",name:"contact",component:()=>Pn(()=>import("./supportView-c3e46870.js"),[])},{path:"/logInOut",name:"logInOut",component:()=>Pn(()=>import("./AboutView-dd787c82.js"),["assets/AboutView-dd787c82.js","assets/swemount15-40c2f5c0.js","assets/SingleProduct-e3b0c442.css"])},{path:"/products/:id",name:"SingleProduct",component:()=>Pn(()=>import("./SingleProduct-1b5b2c57.js"),["assets/SingleProduct-1b5b2c57.js","assets/productsinfo-d87bcb69.js","assets/SingleProduct-e3b0c442.css"])},{path:"/history",name:"history",component:()=>Pn(()=>import("./history-6250e703.js").then(t=>t.h),["assets/history-6250e703.js","assets/swemount15-40c2f5c0.js","assets/history-e2c58ac8.css"])}]});var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Xo={},XS={get exports(){return Xo},set exports(t){Xo=t}};const JS=vp(Dv);var ZS=Math.PI/180;function QS(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const vr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ee={_global:vr,version:"8.4.2",isBrowser:QS(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle(t){return ee.angleDeg?t*ZS:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ee.DD.isDragging},isDragReady(){return!!ee.DD.node},releaseCanvasOnDestroy:!0,document:vr.document,_injectGlobal(t){vr.Konva=t}},De=t=>{ee[t.prototype.getClassName()]=t};ee._injectGlobal(ee);class it{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new it(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,a=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}multiply(e){var n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],a=this.m[5],o=e*i-n*r;let l={x:s,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){var c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=o/c,l.skewX=(e*r+n*i)/o,l.skewY=0}else if(r!=0||i!=0){var h=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/h):-Math.acos(r/h)),l.scaleX=o/h,l.scaleY=h,l.skewX=0,l.skewY=(e*r+n*i)/o}return l.rotation=C._getRotation(l.rotation),l}}var eE="[object Array]",tE="[object Number]",nE="[object String]",rE="[object Boolean]",iE=Math.PI/180,sE=180/Math.PI,no="#",aE="",oE="0",lE="Konva warning: ",qh="Konva error: ",cE="rgb(",ro={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},hE=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,us=[];const uE=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},C={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===eE},_isNumber(t){return Object.prototype.toString.call(t)===tE&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===nE},_isBoolean(t){return Object.prototype.toString.call(t)===rE},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){us.push(t),us.length===1&&uE(function(){const e=us;us=[],e.forEach(function(n){n()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=C.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(no,aE);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=oE+t;return no+t},getRGB(t){var e;return t in ro?(e=ro[t],{r:e[0],g:e[1],b:e[2]}):t[0]===no?this._hexToRgb(t.substring(1)):t.substr(0,4)===cE?(e=hE.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",C._namedColorToRBA(t)||C._hex3ColorToRGBA(t)||C._hex4ColorToRGBA(t)||C._hex6ColorToRGBA(t)||C._hex8ColorToRGBA(t)||C._rgbColorToRGBA(t)||C._rgbaColorToRGBA(t)||C._hslColorToRGBA(t)},_namedColorToRBA(t){var e=ro[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let a,o,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?a=s*(1+i):a=s+i-s*i;const c=2*s-a,h=[0,0,0];for(let u=0;u<3;u++)o=r+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?l=c+(a-c)*6*o:2*o<1?l=a:3*o<2?l=c+(a-c)*(2/3-o)*6:l=c,h[u]=l*255;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*iE},radToDeg(t){return t*sE},_degToRad(t){return C.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),C.degToRad(t)},_radToDeg(t){return C.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),C.radToDeg(t)},_getRotation(t){return ee.angleDeg?C.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(qh+t)},error(t){console.error(qh+t)},warn(t){ee.showWarnings&&console.warn(lE+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){var a,o,l,c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)a=t,o=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{var h=((i-t)*(n-t)+(s-e)*(r-e))/c;h<0?(a=t,o=e,l=(t-i)*(t-i)+(e-s)*(e-s)):h>1?(a=n,o=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(a=t+h*(n-t),o=e+h*(r-e),l=(a-i)*(a-i)+(o-s)*(o-s))}return[a,o,l]},_getProjectionToLine(t,e,n){var r=C.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(s,a){if(!(!n&&a===e.length-1)){var o=e[(a+1)%e.length],l=C._getProjectionToSegment(s.x,s.y,o.x,o.y,t.x,t.y),c=l[0],h=l[1],u=l[2];u<i&&(r.x=c,r.y=h,i=u)}}),r},_prepareArrayForTween(t,e,n){var r,i=[],s=[];if(t.length>e.length){var a=e;e=t,t=a}for(r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)s.push({x:e[r],y:e[r+1]});var o=[];return s.forEach(function(l){var c=C._getProjectionToLine(l,i,n);o.push(c.x),o.push(c.y)}),o},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||C._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(C._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){ee.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=0,s=0,a=0,o=0;typeof r=="number"?i=s=a=o=Math.min(r,e/2,n/2):(i=Math.min(r[0]||0,e/2,n/2),s=Math.min(r[1]||0,e/2,n/2),o=Math.min(r[2]||0,e/2,n/2),a=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i,0),t.lineTo(e-s,0),t.arc(e-s,s,s,Math.PI*3/2,0,!1),t.lineTo(e,n-o),t.arc(e-o,n-o,o,0,Math.PI/2,!1),t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}};function wn(t){return C._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||C._isBoolean(t)?t:Object.prototype.toString.call(t)}function yp(t){return t>255?255:t<0?0:Math.round(t)}function W(){if(ee.isUnminified)return function(t,e){return C._isNumber(t)||C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function sc(t){if(ee.isUnminified)return function(e,n){let r=C._isNumber(e),i=C._isArray(e)&&e.length==t;return!r&&!i&&C.warn(wn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function ac(){if(ee.isUnminified)return function(t,e){var n=C._isNumber(t),r=t==="auto";return n||r||C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Fr(){if(ee.isUnminified)return function(t,e){return C._isString(t)||C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function bp(){if(ee.isUnminified)return function(t,e){const n=C._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function dE(){if(ee.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(C._isArray(t)?t.forEach(function(r){C._isNumber(r)||C.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function yt(){if(ee.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||C.warn(wn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function fE(t){if(ee.isUnminified)return function(e,n){return e==null||C.isObject(e)||C.warn(wn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}var Wr="get",zr="set";const w={addGetterSetter(t,e,n,r,i){w.addGetter(t,e,n),w.addSetter(t,e,r,i),w.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var r=Wr+C._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){var i=zr+C._capitalize(e);t.prototype[i]||w.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){var i=zr+C._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){var s=n.length,a=C._capitalize,o=Wr+a(e),l=zr+a(e),c,h;t.prototype[o]=function(){var d={};for(c=0;c<s;c++)h=n[c],d[h]=this.getAttr(e+a(h));return d};var u=fE(n);t.prototype[l]=function(d){var p=this.attrs[e],f;r&&(d=r.call(this,d)),u&&u.call(this,d,e);for(f in d)d.hasOwnProperty(f)&&this._setAttr(e+a(f),d[f]);return d||n.forEach(m=>{this._setAttr(e+a(m),void 0)}),this._fireChangeEvent(e,p,d),i&&i.call(this),this},w.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=C._capitalize(e),r=zr+n,i=Wr+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){C.error("Adding deprecated "+e);var i=Wr+C._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){C.error(s);var a=this.attrs[e];return a===void 0?n:a},w.addSetter(t,e,r,function(){C.error(s)}),w.addOverloadedGetterSetter(t,e)},backCompat(t,e){C.each(e,function(n,r){var i=t.prototype[r],s=Wr+C._capitalize(n),a=zr+C._capitalize(n);function o(){i.apply(this,arguments),C.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=o,t.prototype[s]=o,t.prototype[a]=o})},afterSetFilter(){this._filterUpToDate=!1}};function pE(t){var e=[],n=t.length,r=C,i,s;for(i=0;i<n;i++)s=t[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s);return e}var Yh=",",gE="(",mE=")",_E="([",vE="])",yE=";",bE="()",wE="=",Xh=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],SE=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const EE=100;class ka{constructor(e){this.canvas=e,ee.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var r=this.traceArr,i=r.length,s="",a,o,l,c;for(a=0;a<i;a++)o=r[a],l=o.method,l?(c=o.args,s+=l,e?s+=bE:C._isArray(c[0])?s+=_E+c.join(Yh)+vE:(n&&(c=c.map(h=>typeof h=="number"?Math.floor(h):h)),s+=gE+c.join(Yh)+mE)):(s+=o.property,e||(s+=wE+o.val)),s+=yE;return s}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,r;n.push(e),r=n.length,r>=EE&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){var n=e.getLineCap();n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){var n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,a){this._context.arc(e,n,r,i,s,a)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,a){this._context.bezierCurveTo(e,n,r,i,s,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,a){return this._context.createRadialGradient(e,n,r,i,s,a)}drawImage(e,n,r,i,s,a,o,l,c){var h=arguments,u=this._context;h.length===3?u.drawImage(e,n,r):h.length===5?u.drawImage(e,n,r,i,s):h.length===9&&u.drawImage(e,n,r,i,s,a,o,l,c)}ellipse(e,n,r,i,s,a,o,l){this._context.ellipse(e,n,r,i,s,a,o,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,a){this._context.setTransform(e,n,r,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,a){this._context.transform(e,n,r,i,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=Xh.length,r=this.setAttr,i,s,a=function(o){var l=e[o],c;e[o]=function(){return s=pE(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(i=0;i<n;i++)a(Xh[i]);e.setAttr=function(){r.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}SE.forEach(function(t){Object.defineProperty(ka.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class CE extends ka{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){var n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){var n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}var i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}var s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}var a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=e.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i,s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),h=l.x*c,u=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*u)}}class TE extends ka{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var n=e.getStrokeScaleEnabled();if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),s=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}var ds;function AE(){if(ds)return ds;var t=C.createCanvasElement(),e=t.getContext("2d");return ds=function(){var n=ee._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),C.releaseCanvas(t),ds}class Ia{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},r=n.pixelRatio||ee.pixelRatio||AE();this.pixelRatio=r,this._canvas=C.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return C.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}w.addGetterSetter(Ia,"pixelRatio",void 0,W());class yr extends Ia{constructor(e={width:0,height:0}){super(e),this.context=new CE(this),this.setSize(e.width,e.height)}}class oc extends Ia{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new TE(this),this.setSize(e.width,e.height)}}const we={get isDragging(){var t=!1;return we._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return we._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];we._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=C._getFirstPointerId(t));const a=s._changedPointerPositions.find(c=>c.id===n.pointerId);if(a){if(n.dragStatus!=="dragging"){var o=i.dragDistance(),l=Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y));if(l<o||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];we._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(we.justDragged=!0,ee._mouseListenClick=!1,ee._touchListenClick=!1,ee._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof ee.Stage&&n.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){we._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&we._dragElements.delete(n)})}};ee.isBrowser&&(window.addEventListener("mouseup",we._endDragBefore,!0),window.addEventListener("touchend",we._endDragBefore,!0),window.addEventListener("mousemove",we._drag),window.addEventListener("touchmove",we._drag),window.addEventListener("mouseup",we._endDragAfter,!1),window.addEventListener("touchend",we._endDragAfter,!1));var Rs="absoluteOpacity",fs="allEventListeners",Mt="absoluteTransform",Jh="absoluteScale",Rn="canvas",PE="Change",RE="children",xE="konva",Jo="listening",Zh="mouseenter",Qh="mouseleave",eu="set",tu="Shape",xs=" ",nu="stage",en="transform",kE="Stage",Zo="visible",IE=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(xs);let OE=1;class j{constructor(e){this._id=OE++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===en||e===Mt)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var r=this._cache.get(e),i=e===en||e===Mt,s=r===void 0||i&&r.dirty===!0;return s&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(xs);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Rn)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Mt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Rn)){const{scene:e,filter:n,hit:r}=this._cache.get(Rn);C.releaseCanvas(e,n,r),this._cache.delete(Rn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,h=n.drawBorder||!1,u=n.hitCanvasPixelRatio||1;if(!i||!s){C.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=c*2+1,s+=c*2+1,o-=c,l-=c;var d=new yr({pixelRatio:a,width:i,height:s}),p=new yr({pixelRatio:a,width:0,height:0}),f=new oc({pixelRatio:u,width:i,height:s}),m=d.getContext(),_=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete(Rn),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(d.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1),m.save(),_.save(),m.translate(-o,-l),_.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Rs),this._clearSelfAndDescendantCache(Jh),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,m.restore(),_.restore(),h&&(m.save(),m.beginPath(),m.rect(0,0,i,s),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(Rn,{scene:d,filter:p,hit:f,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Rn)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i,s,a,o,l=this.getAbsoluteTransform(n);return r.forEach(function(c){var h=l.point(c);i===void 0&&(i=a=h.x,s=o=h.y),i=Math.min(i,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),{x:i,y:s,width:a-i,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){var h=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){C.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(u){C.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(fs),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(xs),i=r.length,s,a,o,l,c;for(s=0;s<i;s++)a=r[s],o=a.split("."),l=o[0],c=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:n});return this}off(e,n){var r=(e||"").split(xs),i=r.length,s,a,o,l,c,h;if(this._cache&&this._cache.delete(fs),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(o=r[s],l=o.split("."),c=l[0],h=l[1],c)this.eventListeners[c]&&this._off(c,h,n);else for(a in this.eventListeners)this._off(a,h,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var i=this;this.on(e,function(s){for(var a=s.target.findAncestors(n,!0,i),o=0;o<a.length;o++)s=C.cloneObject(s),s.currentTarget=a[o],r.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),we._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Mt),this._clearSelfAndDescendantCache(Rs),this._clearSelfAndDescendantCache(Jh),this._clearSelfAndDescendantCache(nu),this._clearSelfAndDescendantCache(Zo),this._clearSelfAndDescendantCache(Jo)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+C._capitalize(e);return C._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)n!==RE&&(r=eu+C._capitalize(n),C._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Jo,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Zo,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;we._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});var s=!n&&!ee.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,r=0,i,s,a,o;function l(c){for(i=[],s=c.length,a=0;a<s;a++)o=c[a],r++,o.nodeType!==tu&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&l(i)}return n.nodeType!==kE&&l(n.getStage().getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(en),this._clearSelfAndDescendantCache(Mt)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new it,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(en);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(en),this._clearSelfAndDescendantCache(Mt),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){var r=[],i=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,a=0;a<s;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return C.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return C.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return C.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return C.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return C.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&C.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Rs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),r,i,s,a,o;e.attrs={};for(r in n)i=n[r],o=C.isObject(i)&&!C._isPlainObject(i)&&!C._isArray(i),!o&&(s=typeof this[r]=="function"&&this[r],delete n[r],a=s?s.call(this):null,n[r]=i,a!==i&&(e.attrs[r]=i));return e.className=this.getClassName(),C._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var i=[];n&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],C.isValidSelector(s)||(C.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),C.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),C.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(nu,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Mt,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new it,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?n.multiply(i.getTransform()):s==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;n=this._cache.get(Mt)||new it,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-a,s-o)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(en,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(en)||new it;r.reset();var i=this.x(),s=this.y(),a=ee.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),a!==0&&r.rotate(a),(c!==0||h!==0)&&r.skew(c,h),(o!==1||l!==1)&&r.scale(o,l),(u!==0||d!==0)&&r.translate(-1*u,-1*d),r.dirty=!1,r}clone(e){var n=C.cloneObject(this.attrs),r,i,s,a,o;for(r in e)n[r]=e[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,a=0;a<s;a++)o=i[a],o.name.indexOf(xE)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new yr({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),l=o.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(o),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,C._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)})}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ee.dragDistance}_off(e,n,r){var i=this.eventListeners[e],s,a,o;for(s=0;s<i.length;s++)if(a=i[s].name,o=i[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===o)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+PE,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this[eu+C._capitalize(e)];return C._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(ee.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var r=this.attrs[e];r===n&&!C.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===tu&&(n.target=this);var i=(e===Zh||e===Qh)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(e,n);var s=(e===Zh||e===Qh)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(fs);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const s=i.eventListeners[r],a=n[r]||[];n[r]=s.concat(a)}i=Object.getPrototypeOf(i)}this._cache.set(fs,n)}return n[e]}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(n)||r._changedPointerPositions[0]||i;we._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){we._dragElements.has(this._id)||this._createDragElement(e);const r=we._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:C.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const n=we._dragElements.get(this._id);n&&(n.dragStatus="stopped"),we._endDragBefore(e),we._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=we._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,r=!n||ee.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;we._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=we._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&we._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return C.haveIntersection(r,this.getClientRect())}static create(e,n){return C._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var r=j.prototype.getClassName.call(e),i=e.children,s,a,o;n&&(e.attrs.container=n),ee[r]||(C.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=ee[r];if(s=new l(e.attrs),i)for(a=i.length,o=0;o<a;o++)s.add(j._createNode(i[o]));return s}}j.prototype.nodeType="Node";j.prototype._attrsAffectingSize=[];j.prototype.eventListeners={};j.prototype.on.call(j.prototype,IE,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(en),this._clearSelfAndDescendantCache(Mt)});j.prototype.on.call(j.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Zo)});j.prototype.on.call(j.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Jo)});j.prototype.on.call(j.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Rs)});const Re=w.addGetterSetter;Re(j,"zIndex");Re(j,"absolutePosition");Re(j,"position");Re(j,"x",0,W());Re(j,"y",0,W());Re(j,"globalCompositeOperation","source-over",Fr());Re(j,"opacity",1,W());Re(j,"name","",Fr());Re(j,"id","",Fr());Re(j,"rotation",0,W());w.addComponentsGetterSetter(j,"scale",["x","y"]);Re(j,"scaleX",1,W());Re(j,"scaleY",1,W());w.addComponentsGetterSetter(j,"skew",["x","y"]);Re(j,"skewX",0,W());Re(j,"skewY",0,W());w.addComponentsGetterSetter(j,"offset",["x","y"]);Re(j,"offsetX",0,W());Re(j,"offsetY",0,W());Re(j,"dragDistance",null,W());Re(j,"width",0,W());Re(j,"height",0,W());Re(j,"listening",!0,yt());Re(j,"preventDefault",!0,yt());Re(j,"filters",null,function(t){return this._filterUpToDate=!1,t});Re(j,"visible",!0,yt());Re(j,"transformsEnabled","all",Fr());Re(j,"size");Re(j,"dragBoundFunc");Re(j,"draggable",!1,yt());w.backCompat(j,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class at extends j{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){var e=j.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=j.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){s.save();var c=this.getAbsoluteTransform(n).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.hit;if(o){s.save();var l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r){var i,s=n&&n.getContext(),a=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),c=a&&o||l;const h=r===this;if(c){s.save();var u=this.getAbsoluteTransform(r),d=u.getMatrix();if(s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),s.beginPath(),l)l.call(this,s,this);else{var p=this.clipX(),f=this.clipY();s.rect(p,f,a,o)}s.clip(),d=u.copy().invert().getMatrix(),s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(_){_[e](n,r)}),m&&s.restore(),c&&s.restore()}getClientRect(e){var n;e=e||{};var r=e.skipTransform,i=e.relativeTo,s,a,o,l,c={x:1/0,y:1/0,width:0,height:0},h=this;(n=this.children)===null||n===void 0||n.forEach(function(m){if(m.visible()){var _=m.getClientRect({relativeTo:h,skipShadow:e.skipShadow,skipStroke:e.skipStroke});_.width===0&&_.height===0||(s===void 0?(s=_.x,a=_.y,o=_.x+_.width,l=_.y+_.height):(s=Math.min(s,_.x),a=Math.min(a,_.y),o=Math.max(o,_.x+_.width),l=Math.max(l,_.y+_.height)))}});for(var u=this.find("Shape"),d=!1,p=0;p<u.length;p++){var f=u[p];if(f._isVisible(this)){d=!0;break}}return d&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}w.addComponentsGetterSetter(at,"clip",["x","y","width","height"]);w.addGetterSetter(at,"clipX",void 0,W());w.addGetterSetter(at,"clipY",void 0,W());w.addGetterSetter(at,"clipWidth",void 0,W());w.addGetterSetter(at,"clipHeight",void 0,W());w.addGetterSetter(at,"clipFunc");const Mi=new Map,wp=ee._global.PointerEvent!==void 0;function io(t){return Mi.get(t)}function lc(t){return{evt:t,pointerId:t.pointerId}}function Sp(t,e){return Mi.get(t)===e}function Ep(t,e){gi(t),e.getStage()&&(Mi.set(t,e),wp&&e._fire("gotpointercapture",lc(new PointerEvent("gotpointercapture"))))}function gi(t,e){const n=Mi.get(t);if(!n)return;const r=n.getStage();r&&r.content,Mi.delete(t),wp&&n._fire("lostpointercapture",lc(new PointerEvent("lostpointercapture")))}var ME="Stage",LE="string",ru="px",DE="mouseout",Cp="mouseleave",Tp="mouseover",Ap="mouseenter",Pp="mousemove",Rp="mousedown",xp="mouseup",ei="pointermove",ti="pointerdown",lr="pointerup",ni="pointercancel",NE="lostpointercapture",ps="pointerout",gs="pointerleave",ms="pointerover",_s="pointerenter",Qo="contextmenu",kp="touchstart",Ip="touchend",Op="touchmove",Mp="touchcancel",el="wheel",FE=5,BE=[[Ap,"_pointerenter"],[Rp,"_pointerdown"],[Pp,"_pointermove"],[xp,"_pointerup"],[Cp,"_pointerleave"],[kp,"_pointerdown"],[Op,"_pointermove"],[Ip,"_pointerup"],[Mp,"_pointercancel"],[Tp,"_pointerover"],[el,"_wheel"],[Qo,"_contextmenu"],[ti,"_pointerdown"],[ei,"_pointermove"],[lr,"_pointerup"],[ni,"_pointercancel"],[NE,"_lostpointercapture"]];const so={mouse:{[ps]:DE,[gs]:Cp,[ms]:Tp,[_s]:Ap,[ei]:Pp,[ti]:Rp,[lr]:xp,[ni]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ps]:"touchout",[gs]:"touchleave",[ms]:"touchover",[_s]:"touchenter",[ei]:Op,[ti]:kp,[lr]:Ip,[ni]:Mp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ps]:ps,[gs]:gs,[ms]:ms,[_s]:_s,[ei]:ei,[ti]:ti,[lr]:lr,[ni]:ni,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ri=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",nr=t=>{const e=ri(t);if(e==="pointer")return ee.pointerEventsEnabled&&so.pointer;if(e==="touch")return so.touch;if(e==="mouse")return so.mouse};function iu(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&C.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const UE="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",ks=[];class Oa extends at{constructor(e){super(iu(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),ks.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{iu(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||C.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===LE){if(e.charAt(0)==="."){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var r;e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,n=e.length,r;for(r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),at.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&C._isInDocument(e)&&this.container().removeChild(e);var n=ks.indexOf(this);return n>-1&&ks.splice(n,1),C.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(C.warn(UE),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new yr({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(s.isVisible()){var a=s._toKonvaCanvas(e);r.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var n=this.children,r=n.length,i=r-1,s;for(s=i;s>=0;s--){const a=n[s].getIntersection(e);if(a)return a}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+ru,this.content.style.height=n+ru),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var i=this.children.length;return i>FE&&C.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ee.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Sp(e,this)}setPointerCapture(e){Ep(e,this)}releaseCapture(e){gi(e)}getLayers(){return this.children}_bindContentEvents(){ee.isBrowser&&BE.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=nr(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=nr(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=nr(e.type),r=ri(e.type);if(n){this.setPointersPositions(e);var i=this._getTargetShape(r),s=!we.isDragging||ee.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=nr(e.type),r=ri(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var a=this.getIntersection(s);if(we.justDragged=!1,ee["_"+r+"ListenClick"]=!0,!(a&&a.isListening()))return;ee.capturePointerEventsEnabled&&a.setPointerCapture(s.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=nr(e.type),r=ri(e.type);if(!n)return;we.isDragging&&we.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!we.isDragging||ee.hitOnDragEnabled;if(!i)return;var s={};let a=!1;var o=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const c=io(l.id)||this.getIntersection(l),h=l.id,u={evt:e,pointerId:h};var d=o!==c;if(d&&o&&(o._fireAndBubble(n.pointerout,Object.assign({},u),c),o._fireAndBubble(n.pointerleave,Object.assign({},u),c)),c){if(s[c._id])return;s[c._id]=!0}c&&c.isListening()?(a=!0,d&&(c._fireAndBubble(n.pointerover,Object.assign({},u),o),c._fireAndBubble(n.pointerenter,Object.assign({},u),o),this[r+"targetShape"]=c),c._fireAndBubble(n.pointermove,Object.assign({},u))):o&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=nr(e.type),r=ri(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach(l=>{const c=io(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),a[c._id])return;a[c._id]=!0}const h=l.id,u={evt:e,pointerId:h};let d=!1;ee["_"+r+"InDblClickWindow"]?(d=!0,clearTimeout(this[r+"DblTimeout"])):we.justDragged||(ee["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){ee["_"+r+"InDblClickWindow"]=!1},ee.dblClickWindow),c&&c.isListening()?(o=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,Object.assign({},u)),ee["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,Object.assign({},u)),d&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,Object.assign({},u)))):(this[r+"ClickEndShape"]=null,ee["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:h}),d&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:h}))}),o||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ee["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Qo,{evt:e}):this._fire(Qo,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(el,{evt:e}):this._fire(el,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=io(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(lr,lc(e)),gi(e.pointerId)}_lostpointercapture(e){gi(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:C._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:C._getFirstPointerId(e)}])}_setPointerPosition(e){C.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new yr({width:this.width(),height:this.height()}),this.bufferHitCanvas=new oc({pixelRatio:1,width:this.width(),height:this.height()}),!!ee.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return C.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Oa.prototype.nodeType=ME;De(Oa);w.addGetterSetter(Oa,"container");var Lp="hasShadow",Dp="shadowRGBA",Np="patternImage",Fp="linearGradient",Bp="radialGradient";let vs;function ao(){return vs||(vs=C.createCanvasElement().getContext("2d"),vs)}const mi={};function $E(t){t.fill()}function GE(t){t.stroke()}function HE(t){t.fill()}function jE(t){t.stroke()}function WE(){this._clearCache(Lp)}function zE(){this._clearCache(Dp)}function VE(){this._clearCache(Np)}function KE(){this._clearCache(Fp)}function qE(){this._clearCache(Bp)}class $ extends j{constructor(e){super(e);let n;for(;n=C.getRandomColor(),!(n&&!(n in mi)););this.colorKey=n,mi[n]=this}getContext(){return C.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return C.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Lp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Np,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=ao();const n=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new it;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(ee.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(Fp,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=ao(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}_getRadialGradient(){return this._getCache(Bp,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=ao(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}getShadowRGBA(){return this._getCache(Dp,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=C.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var n=this.getStage(),r=n.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,i[3]>0}destroy(){return j.prototype.destroy.call(this),delete mi[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&s&&a)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&o&&l)}setStrokeHitEnabled(e){C.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,r=e.relativeTo,i=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+a,l=i.height+a,c=!e.skipShadow&&this.hasShadow(),h=c?this.shadowOffsetX():0,u=c?this.shadowOffsetY():0,d=o+Math.abs(h),p=l+Math.abs(u),f=c&&this.shadowBlur()||0,m=d+f*2,_=p+f*2,y={width:m,height:_,x:-(a/2+f)+Math.min(h,0)+i.x,y:-(a/2+f)+Math.min(u,0)+i.y};return n?y:this._transformedRect(y,r)}drawScene(e,n){var r=this.getLayer(),i=e||r.getCanvas(),s=i.getContext(),a=this._getCanvasCache(),o=this.getSceneFunc(),l=this.hasShadow(),c,h,u,d=i.isCache,p=n===this;if(!this.isVisible()&&!p)return this;if(a){s.save();var f=this.getAbsoluteTransform(n).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),this._useBufferCanvas()&&!d){c=this.getStage(),h=c.bufferCanvas,u=h.getContext(),u.clear(),u.save(),u._applyLineJoin(this);var m=this.getAbsoluteTransform(n).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),o.call(this,u,this),u.restore();var _=h.pixelRatio;l&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(h._canvas,0,0,h.width/_,h.height/_)}else{if(s._applyLineJoin(this),!p){var m=this.getAbsoluteTransform(n).getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}l&&s._applyShadow(this),o.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),s=e||i.hitCanvas,a=s&&s.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||C.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){a.save();var h=this.getAbsoluteTransform(n).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),!(this===n)){var d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),a=i.getWidth(),o=i.getHeight(),l,c,h,u,d,p;s.clear(),s.drawImage(r._canvas,0,0,a,o);try{for(l=s.getImageData(0,0,a,o),c=l.data,h=c.length,u=C._hexToRgb(this.colorKey),d=0;d<h;d+=4)p=c[d+3],p>e?(c[d]=u.r,c[d+1]=u.g,c[d+2]=u.b,c[d+3]=255):c[d+3]=0;s.putImageData(l,0,0)}catch(f){C.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(e){return Sp(e,this)}setPointerCapture(e){Ep(e,this)}releaseCapture(e){gi(e)}}$.prototype._fillFunc=$E;$.prototype._strokeFunc=GE;$.prototype._fillFuncHit=HE;$.prototype._strokeFuncHit=jE;$.prototype._centroid=!1;$.prototype.nodeType="Shape";De($);$.prototype.eventListeners={};$.prototype.on.call($.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",WE);$.prototype.on.call($.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",zE);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",VE);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",KE);$.prototype.on.call($.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",qE);w.addGetterSetter($,"stroke",void 0,bp());w.addGetterSetter($,"strokeWidth",2,W());w.addGetterSetter($,"fillAfterStrokeEnabled",!1);w.addGetterSetter($,"hitStrokeWidth","auto",ac());w.addGetterSetter($,"strokeHitEnabled",!0,yt());w.addGetterSetter($,"perfectDrawEnabled",!0,yt());w.addGetterSetter($,"shadowForStrokeEnabled",!0,yt());w.addGetterSetter($,"lineJoin");w.addGetterSetter($,"lineCap");w.addGetterSetter($,"sceneFunc");w.addGetterSetter($,"hitFunc");w.addGetterSetter($,"dash");w.addGetterSetter($,"dashOffset",0,W());w.addGetterSetter($,"shadowColor",void 0,Fr());w.addGetterSetter($,"shadowBlur",0,W());w.addGetterSetter($,"shadowOpacity",1,W());w.addComponentsGetterSetter($,"shadowOffset",["x","y"]);w.addGetterSetter($,"shadowOffsetX",0,W());w.addGetterSetter($,"shadowOffsetY",0,W());w.addGetterSetter($,"fillPatternImage");w.addGetterSetter($,"fill",void 0,bp());w.addGetterSetter($,"fillPatternX",0,W());w.addGetterSetter($,"fillPatternY",0,W());w.addGetterSetter($,"fillLinearGradientColorStops");w.addGetterSetter($,"strokeLinearGradientColorStops");w.addGetterSetter($,"fillRadialGradientStartRadius",0);w.addGetterSetter($,"fillRadialGradientEndRadius",0);w.addGetterSetter($,"fillRadialGradientColorStops");w.addGetterSetter($,"fillPatternRepeat","repeat");w.addGetterSetter($,"fillEnabled",!0);w.addGetterSetter($,"strokeEnabled",!0);w.addGetterSetter($,"shadowEnabled",!0);w.addGetterSetter($,"dashEnabled",!0);w.addGetterSetter($,"strokeScaleEnabled",!0);w.addGetterSetter($,"fillPriority","color");w.addComponentsGetterSetter($,"fillPatternOffset",["x","y"]);w.addGetterSetter($,"fillPatternOffsetX",0,W());w.addGetterSetter($,"fillPatternOffsetY",0,W());w.addComponentsGetterSetter($,"fillPatternScale",["x","y"]);w.addGetterSetter($,"fillPatternScaleX",1,W());w.addGetterSetter($,"fillPatternScaleY",1,W());w.addComponentsGetterSetter($,"fillLinearGradientStartPoint",["x","y"]);w.addComponentsGetterSetter($,"strokeLinearGradientStartPoint",["x","y"]);w.addGetterSetter($,"fillLinearGradientStartPointX",0);w.addGetterSetter($,"strokeLinearGradientStartPointX",0);w.addGetterSetter($,"fillLinearGradientStartPointY",0);w.addGetterSetter($,"strokeLinearGradientStartPointY",0);w.addComponentsGetterSetter($,"fillLinearGradientEndPoint",["x","y"]);w.addComponentsGetterSetter($,"strokeLinearGradientEndPoint",["x","y"]);w.addGetterSetter($,"fillLinearGradientEndPointX",0);w.addGetterSetter($,"strokeLinearGradientEndPointX",0);w.addGetterSetter($,"fillLinearGradientEndPointY",0);w.addGetterSetter($,"strokeLinearGradientEndPointY",0);w.addComponentsGetterSetter($,"fillRadialGradientStartPoint",["x","y"]);w.addGetterSetter($,"fillRadialGradientStartPointX",0);w.addGetterSetter($,"fillRadialGradientStartPointY",0);w.addComponentsGetterSetter($,"fillRadialGradientEndPoint",["x","y"]);w.addGetterSetter($,"fillRadialGradientEndPointX",0);w.addGetterSetter($,"fillRadialGradientEndPointY",0);w.addGetterSetter($,"fillPatternRotation",0);w.backCompat($,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var YE="#",XE="beforeDraw",JE="draw",Up=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],ZE=Up.length;class Yn extends at{constructor(e){super(e),this.canvas=new yr,this.hitCanvas=new oc({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){j.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=j.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(j.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(j.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return j.prototype.remove.call(this),e&&e.parentNode&&C._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&C.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),j.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){C.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){C.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,C.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<ZE;i++){const s=Up[i],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=C._rgbToHex(r[0],r[1],r[2]),a=mi[YE+s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(XE,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),at.prototype.drawScene.call(this,i,n),this._fire(JE,{node:this}),this}drawHit(e,n){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),at.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){C.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return C.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return C.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Yn.prototype.nodeType="Layer";De(Yn);w.addGetterSetter(Yn,"imageSmoothingEnabled",!0);w.addGetterSetter(Yn,"clearBeforeDraw",!0);w.addGetterSetter(Yn,"hitGraphEnabled",!0,yt());class cc extends Yn{constructor(e){super(e),this.listening(!1),C.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}cc.prototype.nodeType="FastLayer";De(cc);class xr extends at{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&C.throw("You may only add groups and shapes to groups.")}}xr.prototype.nodeType="Group";De(xr);var oo=function(){return vr.performance&&vr.performance.now?function(){return vr.performance.now()}:function(){return new Date().getTime()}}();class ht{constructor(e,n){this.id=ht.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:oo(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,r=n.length,i;for(i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=ht,n=e.animations,r=n.length,i;for(i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=oo(),ht._addAnimation(this),this}stop(){return ht._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,r=this.animations,i=r.length,s;for(s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){var e={},n=this.animations,r,i,s,a,o,l,c,h,u;for(a=0;a<n.length;a++)if(r=n[a],i=r.layers,s=r.func,r._updateFrameObject(oo()),l=i.length,s?u=s.call(r,r.frame)!==!1:u=!0,!!u)for(o=0;o<l;o++)c=i[o],c._id!==void 0&&(e[c._id]=c);for(h in e)e.hasOwnProperty(h)&&e[h].batchDraw()}static _animationLoop(){var e=ht;e.animations.length?(e._runFrames(),C.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,C.requestAnimFrame(this._animationLoop))}}ht.animations=[];ht.animIdCounter=0;ht.animRunning=!1;var QE={node:1,duration:1,easing:1,onFinish:1,yoyo:1},eC=1,su=2,au=3,tC=0,ou=["fill","stroke","shadowColor"];class nC{constructor(e,n,r,i,s,a,o){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=su,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=au,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===su?this.setTime(e):this.state===au&&this.setTime(this.duration-e)}pause(){this.state=eC,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Fe{constructor(e){var n=this,r=e.node,i=r._id,s,a=e.easing||_i.Linear,o=!!e.yoyo,l;typeof e.duration>"u"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=r,this._id=tC++;var c=r.getLayer()||(r instanceof ee.Stage?r.getLayers():null);c||C.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ht(function(){n.tween.onEnterFrame()},c),this.tween=new nC(l,function(h){n._tweenFunc(h)},a,0,1,s*1e3,o),this._addListeners(),Fe.attrs[i]||(Fe.attrs[i]={}),Fe.attrs[i][this._id]||(Fe.attrs[i][this._id]={}),Fe.tweens[i]||(Fe.tweens[i]={});for(l in e)QE[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){var r=this.node,i=r._id,s,a,o,l,c,h,u,d;if(o=Fe.tweens[i][e],o&&delete Fe.attrs[i][o][e],s=r.getAttr(e),C._isArray(n))if(a=[],c=Math.max(n.length,s.length),e==="points"&&n.length!==s.length&&(n.length>s.length?(u=s,s=C._prepareArrayForTween(s,n,r.closed())):(h=n,n=C._prepareArrayForTween(n,s,r.closed()))),e.indexOf("fill")===0)for(l=0;l<c;l++)if(l%2===0)a.push(n[l]-s[l]);else{var p=C.colorToRGBA(s[l]);d=C.colorToRGBA(n[l]),s[l]=p,a.push({r:d.r-p.r,g:d.g-p.g,b:d.b-p.b,a:d.a-p.a})}else for(l=0;l<c;l++)a.push(n[l]-s[l]);else ou.indexOf(e)!==-1?(s=C.colorToRGBA(s),d=C.colorToRGBA(n),a={r:d.r-s.r,g:d.g-s.g,b:d.b-s.b,a:d.a-s.a}):a=n-s;Fe.attrs[i][this._id][e]={start:s,diff:a,end:n,trueEnd:h,trueStart:u},Fe.tweens[i][e]=this._id}_tweenFunc(e){var n=this.node,r=Fe.attrs[n._id][this._id],i,s,a,o,l,c,h,u;for(i in r){if(s=r[i],a=s.start,o=s.diff,u=s.end,C._isArray(a))if(l=[],h=Math.max(a.length,u.length),i.indexOf("fill")===0)for(c=0;c<h;c++)c%2===0?l.push((a[c]||0)+o[c]*e):l.push("rgba("+Math.round(a[c].r+o[c].r*e)+","+Math.round(a[c].g+o[c].g*e)+","+Math.round(a[c].b+o[c].b*e)+","+(a[c].a+o[c].a*e)+")");else for(c=0;c<h;c++)l.push((a[c]||0)+o[c]*e);else ou.indexOf(i)!==-1?l="rgba("+Math.round(a.r+o.r*e)+","+Math.round(a.g+o.g*e)+","+Math.round(a.b+o.b*e)+","+(a.a+o.a*e)+")":l=a+o*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,n=Fe.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,n=Fe.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,n=this._id,r=Fe.tweens[e],i;this.pause();for(i in r)delete Fe.tweens[e][i];delete Fe.attrs[e][n]}}Fe.attrs={};Fe.tweens={};j.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Fe(t);n.play()};const _i={BackEaseIn(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-_i.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?_i.BounceEaseIn(t*2,0,n,r)*.5+e:_i.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},lu=C._assign(ee,{Util:C,Transform:it,Node:j,Container:at,Stage:Oa,stages:ks,Layer:Yn,FastLayer:cc,Group:xr,DD:we,Shape:$,shapes:mi,Animation:ht,Tween:Fe,Easings:_i,Context:ka,Canvas:Ia});class Wt extends ${_sceneFunc(e){var n=ee.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=ee.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),h=a*n,u=o*(o>0?e:n),d=l*(l>0?n:e);return{x:c,y:r?-1*d:u,width:h-c,height:d-u}}}Wt.prototype._centroid=!0;Wt.prototype.className="Arc";Wt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];De(Wt);w.addGetterSetter(Wt,"innerRadius",0,W());w.addGetterSetter(Wt,"outerRadius",0,W());w.addGetterSetter(Wt,"angle",0,W());w.addGetterSetter(Wt,"clockwise",!1,yt());function tl(t,e,n,r,i,s,a){var o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=a*o/(o+l),h=a*l/(o+l),u=n-c*(i-t),d=r-c*(s-e),p=n+h*(i-t),f=r+h*(s-e);return[u,d,p,f]}function cu(t,e){var n=t.length,r=[],i,s;for(i=2;i<n-2;i+=2)s=tl(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(s[0])&&(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]));return r}class zt extends ${constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),r=n.length,i=this.tension(),s=this.closed(),a=this.bezier(),o,l,c;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,c=s?0:4,s||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);c<l-2;)e.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);s||e.quadraticCurveTo(o[l-2],o[l-1],n[r-2],n[r-1])}else if(a)for(c=2;c<r;)e.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<r;c+=2)e.lineTo(n[c],n[c+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():cu(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),i=tl(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=tl(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=cu(e,r),o=[i[2],i[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],r=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);return{x:n,y:i,width:r-n,height:s-i}}}zt.prototype.className="Line";zt.prototype._attrsAffectingSize=["points","bezier","tension"];De(zt);w.addGetterSetter(zt,"closed",!1);w.addGetterSetter(zt,"bezier",!1);w.addGetterSetter(zt,"tension",0,W());w.addGetterSetter(zt,"points",[],dE());class Te extends ${constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Te.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Te.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,i=0;i<n.length;i++){var s=n[i].command,a=n[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],l=a[1],c=a[2],h=a[3],u=a[4],d=a[5],p=a[6],f=a[7],m=c>h?c:h,_=c>h?1:c/h,y=c>h?h/c:1;e.translate(o,l),e.rotate(p),e.scale(_,y),e.arc(0,0,m,u,u+d,1-f),e.scale(1/_,1/y),e.rotate(-p),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var h=c.points[4],u=c.points[5],d=c.points[4]+u,p=Math.PI/180;if(Math.abs(h-d)<p&&(p=Math.abs(h-d)),u<0)for(let f=h-p;f>d;f-=p){const m=Te.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(m.x,m.y)}else for(let f=h+p;f<d;f+=p){const m=Te.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(m.x,m.y)}}else if(c.command==="C")for(let f=0;f<=1;f+=.01){const m=Te.getPointOnCubicBezier(f,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(m.x,m.y)}else e=e.concat(c.points)});for(var n=e[0],r=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(o)||(i=Math.min(i,o),s=Math.max(s,o));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var s=this.dataArray[r],a=s.points;switch(s.command){case"L":return Te.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return Te.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Te.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],l=a[1],c=a[2],h=a[3],u=a[4],d=a[5],p=a[6];return u+=d*e/s.pathLength,Te.getPointOnEllipticalArc(o,l,c,h,u,p)}return null}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPointOnLine(e,n,r,i,s,a,o){a===void 0&&(a=n),o===void 0&&(o=r);var l=(s-r)/(i-n+1e-8),c=Math.sqrt(e*e/(1+l*l));i<n&&(c*=-1);var h=l*c,u;if(i===n)u={x:a,y:o+h};else if((o-r)/(a-n+1e-8)===l)u={x:a+c,y:o+h};else{var d,p,f=this.getLineLength(n,r,i,s),m=(a-n)*(i-n)+(o-r)*(s-r);m=m/(f*f),d=n+m*(i-n),p=r+m*(s-r);var _=this.getLineLength(a,o,d,p),y=Math.sqrt(e*e-_*_);c=Math.sqrt(y*y/(1+l*l)),i<n&&(c*=-1),h=l*c,u={x:d+c,y:p+h}}return u}static getPointOnCubicBezier(e,n,r,i,s,a,o,l,c){function h(_){return _*_*_}function u(_){return 3*_*_*(1-_)}function d(_){return 3*_*(1-_)*(1-_)}function p(_){return(1-_)*(1-_)*(1-_)}var f=l*h(e)+a*u(e)+i*d(e)+n*p(e),m=c*h(e)+o*u(e)+s*d(e)+r*p(e);return{x:f,y:m}}static getPointOnQuadraticBezier(e,n,r,i,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function h(p){return(1-p)*(1-p)}var u=a*l(e)+i*c(e)+n*h(e),d=o*l(e)+s*c(e)+r*h(e);return{x:u,y:d}}static getPointOnEllipticalArc(e,n,r,i,s,a){var o=Math.cos(a),l=Math.sin(a),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var s=n.split("|"),a=[],o=[],l=0,c=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u;for(i=1;i<s.length;i++){var d=s[i],p=d.charAt(0);for(d=d.slice(1),o.length=0;u=h.exec(d);)o.push(u[0]);for(var f=[],m=0,_=o.length;m<_;m++){if(o[m]==="00"){f.push(0,0);continue}var y=parseFloat(o[m]);isNaN(y)?f.push(0):f.push(y)}for(;f.length>0&&!isNaN(f[0]);){var g=null,b=[],S=l,P=c,A,I,T,L,M,F,B,x,R,X;switch(p){case"l":l+=f.shift(),c+=f.shift(),g="L",b.push(l,c);break;case"L":l=f.shift(),c=f.shift(),b.push(l,c);break;case"m":var G=f.shift(),Q=f.shift();if(l+=G,c+=Q,g="M",a.length>2&&a[a.length-1].command==="z"){for(var ie=a.length-2;ie>=0;ie--)if(a[ie].command==="M"){l=a[ie].points[0]+G,c=a[ie].points[1]+Q;break}}b.push(l,c),p="l";break;case"M":l=f.shift(),c=f.shift(),g="M",b.push(l,c),p="L";break;case"h":l+=f.shift(),g="L",b.push(l,c);break;case"H":l=f.shift(),g="L",b.push(l,c);break;case"v":c+=f.shift(),g="L",b.push(l,c);break;case"V":c=f.shift(),g="L",b.push(l,c);break;case"C":b.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),b.push(l,c);break;case"c":b.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="C",b.push(l,c);break;case"S":I=l,T=c,A=a[a.length-1],A.command==="C"&&(I=l+(l-A.points[2]),T=c+(c-A.points[3])),b.push(I,T,f.shift(),f.shift()),l=f.shift(),c=f.shift(),g="C",b.push(l,c);break;case"s":I=l,T=c,A=a[a.length-1],A.command==="C"&&(I=l+(l-A.points[2]),T=c+(c-A.points[3])),b.push(I,T,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="C",b.push(l,c);break;case"Q":b.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),b.push(l,c);break;case"q":b.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="Q",b.push(l,c);break;case"T":I=l,T=c,A=a[a.length-1],A.command==="Q"&&(I=l+(l-A.points[0]),T=c+(c-A.points[1])),l=f.shift(),c=f.shift(),g="Q",b.push(I,T,l,c);break;case"t":I=l,T=c,A=a[a.length-1],A.command==="Q"&&(I=l+(l-A.points[0]),T=c+(c-A.points[1])),l+=f.shift(),c+=f.shift(),g="Q",b.push(I,T,l,c);break;case"A":L=f.shift(),M=f.shift(),F=f.shift(),B=f.shift(),x=f.shift(),R=l,X=c,l=f.shift(),c=f.shift(),g="A",b=this.convertEndpointToCenterParameterization(R,X,l,c,B,x,L,M,F);break;case"a":L=f.shift(),M=f.shift(),F=f.shift(),B=f.shift(),x=f.shift(),R=l,X=c,l+=f.shift(),c+=f.shift(),g="A",b=this.convertEndpointToCenterParameterization(R,X,l,c,B,x,L,M,F);break}a.push({command:g||p,points:b,start:{x:S,y:P},pathLength:this.calcLength(S,P,g||p,b)})}(p==="z"||p==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,n,r,i){var s,a,o,l,c=Te;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":for(s=0,a=c.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=c.getPointOnCubicBezier(l,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"Q":for(s=0,a=c.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=c.getPointOnQuadraticBezier(l,e,n,i[0],i[1],i[2],i[3]),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"A":s=0;var h=i[4],u=i[5],d=i[4]+u,p=Math.PI/180;if(Math.abs(h-d)<p&&(p=Math.abs(h-d)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),u<0)for(l=h-p;l>d;l-=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=h+p;l<d;l+=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,a,o,l,c){var h=c*(Math.PI/180),u=Math.cos(h)*(e-r)/2+Math.sin(h)*(n-i)/2,d=-1*Math.sin(h)*(e-r)/2+Math.cos(h)*(n-i)/2,p=u*u/(o*o)+d*d/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));var f=Math.sqrt((o*o*(l*l)-o*o*(d*d)-l*l*(u*u))/(o*o*(d*d)+l*l*(u*u)));s===a&&(f*=-1),isNaN(f)&&(f=0);var m=f*o*d/l,_=f*-l*u/o,y=(e+r)/2+Math.cos(h)*m-Math.sin(h)*_,g=(n+i)/2+Math.sin(h)*m+Math.cos(h)*_,b=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},S=function(M,F){return(M[0]*F[0]+M[1]*F[1])/(b(M)*b(F))},P=function(M,F){return(M[0]*F[1]<M[1]*F[0]?-1:1)*Math.acos(S(M,F))},A=P([1,0],[(u-m)/o,(d-_)/l]),I=[(u-m)/o,(d-_)/l],T=[(-1*u-m)/o,(-1*d-_)/l],L=P(I,T);return S(I,T)<=-1&&(L=Math.PI),S(I,T)>=1&&(L=0),a===0&&L>0&&(L=L-2*Math.PI),a===1&&L<0&&(L=L+2*Math.PI),[y,g,o,l,A,L,h,a]}}Te.prototype.className="Path";Te.prototype._attrsAffectingSize=["data"];De(Te);w.addGetterSetter(Te,"data");class Xn extends zt{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var a=this.pointerLength(),o=r.length,l,c;if(s){const d=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],p=Te.calcLength(i[i.length-4],i[i.length-3],"C",d),f=Te.getPointOnQuadraticBezier(Math.min(1,1-a/p),d[0],d[1],d[2],d[3],d[4],d[5]);l=r[o-2]-f.x,c=r[o-1]-f.y}else l=r[o-2]-r[o-4],c=r[o-1]-r[o-3];var h=(Math.atan2(c,l)+n)%n,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-a,u/2),e.lineTo(-a,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,u/2),e.lineTo(-a,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}Xn.prototype.className="Arrow";De(Xn);w.addGetterSetter(Xn,"pointerLength",10,W());w.addGetterSetter(Xn,"pointerWidth",10,W());w.addGetterSetter(Xn,"pointerAtBeginning",!1);w.addGetterSetter(Xn,"pointerAtEnding",!0);let Br=class extends ${_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Br.prototype._centroid=!0;Br.prototype.className="Circle";Br.prototype._attrsAffectingSize=["radius"];De(Br);w.addGetterSetter(Br,"radius",0,W());class Sn extends ${_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Sn.prototype.className="Ellipse";Sn.prototype._centroid=!0;Sn.prototype._attrsAffectingSize=["radiusX","radiusY"];De(Sn);w.addComponentsGetterSetter(Sn,"radius",["x","y"]);w.addGetterSetter(Sn,"radiusX",0,W());w.addGetterSetter(Sn,"radiusY",0,W());class dt extends ${constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,r]:a=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?C.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){var n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?C.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){var i=C.createImageElement();i.onload=function(){var s=new dt({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}dt.prototype.className="Image";De(dt);w.addGetterSetter(dt,"cornerRadius",0,sc(4));w.addGetterSetter(dt,"image");w.addComponentsGetterSetter(dt,"crop",["x","y","width","height"]);w.addGetterSetter(dt,"cropX",0,W());w.addGetterSetter(dt,"cropY",0,W());w.addGetterSetter(dt,"cropWidth",0,W());w.addGetterSetter(dt,"cropHeight",0,W());var $p=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],rC="Change.konva",iC="none",nl="up",rl="right",il="down",sl="left",sC=$p.length;class hc extends xr{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,r,i=function(){n._sync()};for(r=0;r<sC;r++)e.on($p[r]+rC,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),r,i,s,a,o,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case nl:o=r/2,l=-1*c;break;case rl:o=r+a,l=i/2;break;case il:o=r/2,l=i+c;break;case sl:o=-1*a,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*o,y:-1*l})}}}hc.prototype.className="Label";De(hc);class Jn extends ${_sceneFunc(e){var n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,h=0,u=0;typeof o=="number"?l=c=h=u=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),c=Math.min(o[1]||0,n/2,r/2),u=Math.min(o[2]||0,n/2,r/2),h=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===nl&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===rl&&(e.lineTo(n,(r-a)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-u),e.arc(n-u,r-u,u,0,Math.PI/2,!1),i===il&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-s)/2,r)),e.lineTo(h,r),e.arc(h,r-h,h,Math.PI/2,Math.PI,!1),i===sl&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===nl?(n-=i,o+=i):s===il?o+=i:s===sl?(e-=r*1.5,a+=r):s===rl&&(a+=r*1.5),{x:e,y:n,width:a,height:o}}}Jn.prototype.className="Tag";De(Jn);w.addGetterSetter(Jn,"pointerDirection",iC);w.addGetterSetter(Jn,"pointerWidth",0,W());w.addGetterSetter(Jn,"pointerHeight",0,W());w.addGetterSetter(Jn,"cornerRadius",0,sc(4));class Yi extends ${_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?C.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}Yi.prototype.className="Rect";De(Yi);w.addGetterSetter(Yi,"cornerRadius",0,sc(4));class Zn extends ${_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Zn.prototype.className="RegularPolygon";Zn.prototype._centroid=!0;Zn.prototype._attrsAffectingSize=["radius"];De(Zn);w.addGetterSetter(Zn,"radius",0,W());w.addGetterSetter(Zn,"sides",0,W());var hu=Math.PI*2;class Qn extends ${_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,hu,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),hu,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Qn.prototype.className="Ring";Qn.prototype._centroid=!0;Qn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];De(Qn);w.addGetterSetter(Qn,"innerRadius",0,W());w.addGetterSetter(Qn,"outerRadius",0,W());class xt extends ${constructor(e){super(e),this._updated=!0,this.anim=new ht(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+0],l=s[i+1],c=s[i+2],h=s[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,h),e.closePath(),e.fillStrokeShape(this)),u)if(a){var d=a[n],p=r*2;e.drawImage(u,o,l,c,h,d[p+0],d[p+1],c,h)}else e.drawImage(u,o,l,c,h,0,0,c,h)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+2],l=s[i+3];if(e.beginPath(),a){var c=a[n],h=r*2;e.rect(c[h+0],c[h+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}xt.prototype.className="Sprite";De(xt);w.addGetterSetter(xt,"animation");w.addGetterSetter(xt,"animations");w.addGetterSetter(xt,"frameOffsets");w.addGetterSetter(xt,"image");w.addGetterSetter(xt,"frameIndex",0,W());w.addGetterSetter(xt,"frameRate",17,W());w.backCompat(xt,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class En extends ${_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<i*2;s++){var a=s%2===0?r:n,o=a*Math.sin(s*Math.PI/i),l=-1*a*Math.cos(s*Math.PI/i);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}En.prototype.className="Star";En.prototype._centroid=!0;En.prototype._attrsAffectingSize=["innerRadius","outerRadius"];De(En);w.addGetterSetter(En,"numPoints",5,W());w.addGetterSetter(En,"innerRadius",0,W());w.addGetterSetter(En,"outerRadius",0,W());function Gp(t){return Array.from(t)}var rr="auto",aC="center",Vr="justify",oC="Change.konva",lC="2d",uu="-",Hp="left",cC="text",hC="Text",uC="top",dC="bottom",du="middle",jp="normal",fC="px ",ys=" ",pC="right",gC="word",mC="char",fu="none",lo="…",Wp=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],_C=Wp.length;function vC(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var bs;function co(){return bs||(bs=C.createCanvasElement().getContext(lC),bs)}function yC(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function bC(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function wC(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Le extends ${constructor(e){super(wC(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<_C;n++)this.on(Wp[n]+oC,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=0,c=this.align(),h=this.getWidth(),u=this.letterSpacing(),d=this.fill(),p=this.textDecoration(),f=p.indexOf("underline")!==-1,m=p.indexOf("line-through")!==-1,_,y=0,y=a/2,g=0,b=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",du),e.setAttr("textAlign",Hp),o===du?l=(this.getHeight()-r*a-i*2)/2:o===dC&&(l=this.getHeight()-r*a-i*2),e.translate(i,l+i),_=0;_<r;_++){var g=0,b=0,S=n[_],P=S.text,A=S.width,I=S.lastInParagraph,T,L,M;if(e.save(),c===pC?g+=h-A-i*2:c===aC&&(g+=(h-A-i*2)/2),f){e.save(),e.beginPath(),e.moveTo(g,y+b+Math.round(s/2)),T=P.split(" ").length-1,L=T===0,M=c===Vr&&!I?h-i*2:A,e.lineTo(g+Math.round(M),y+b+Math.round(s/2)),e.lineWidth=s/15;const G=this._getLinearGradient();e.strokeStyle=G||d,e.stroke(),e.restore()}if(m){e.save(),e.beginPath(),e.moveTo(g,y+b),T=P.split(" ").length-1,L=T===0,M=c===Vr&&I&&!L?h-i*2:A,e.lineTo(g+Math.round(M),y+b),e.lineWidth=s/15;const G=this._getLinearGradient();e.strokeStyle=G||d,e.stroke(),e.restore()}if(u!==0||c===Vr){T=P.split(" ").length-1;for(var F=Gp(P),B=0;B<F.length;B++){var x=F[B];x===" "&&!I&&c===Vr&&(g+=(h-i*2-A)/T),this._partialTextX=g,this._partialTextY=y+b,this._partialText=x,e.fillStrokeShape(this),g+=this.measureSize(x).width+u}}else this._partialTextX=g,this._partialTextY=y+b,this._partialText=P,e.fillStrokeShape(this);e.restore(),r>1&&(y+=a)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=C._isString(e)?e:e==null?"":e+"";return this._setAttr(cC,n),this}getWidth(){var e=this.attrs.width===rr||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===rr||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return C.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=co(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(e),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+ys+this.fontVariant()+ys+(this.fontSize()+fC)+vC(this.fontFamily())}_addTextLine(e){this.align()===Vr&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return co().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==rr&&s!==void 0,l=a!==rr&&a!==void 0,c=this.padding(),h=s-c*2,u=a-c*2,d=0,p=this.wrap(),f=p!==fu,m=p!==mC&&f,_=this.ellipsis();this.textArr=[],co().font=this._getContextFont();for(var y=_?this._getTextWidth(lo):0,g=0,b=e.length;g<b;++g){var S=e[g],P=this._getTextWidth(S);if(o&&P>h)for(;S.length>0;){for(var A=0,I=S.length,T="",L=0;A<I;){var M=A+I>>>1,F=S.slice(0,M+1),B=this._getTextWidth(F)+y;B<=h?(A=M+1,T=F,L=B):I=M}if(T){if(m){var x,R=S[T.length],X=R===ys||R===uu;X&&L<=h?x=T.length:x=Math.max(T.lastIndexOf(ys),T.lastIndexOf(uu))+1,x>0&&(A=x,T=T.slice(0,A),L=this._getTextWidth(T))}T=T.trimRight(),this._addTextLine(T),r=Math.max(r,L),d+=i;var G=this._shouldHandleEllipsis(d);if(G){this._tryToAddEllipsisToLastLine();break}if(S=S.slice(A),S=S.trimLeft(),S.length>0&&(P=this._getTextWidth(S),P<=h)){this._addTextLine(S),d+=i,r=Math.max(r,P);break}}else break}else this._addTextLine(S),d+=i,r=Math.max(r,P),this._shouldHandleEllipsis(d)&&g<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&d+i>u)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==rr&&i!==void 0,a=this.padding(),o=i-a*2,l=this.wrap(),c=l!==fu;return!c||s&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==rr&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(!(!a||!s)){if(n){var o=this._getTextWidth(a.text+lo)<i;o||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+lo)}}getStrokeScaleEnabled(){return!0}}Le.prototype._fillFunc=yC;Le.prototype._strokeFunc=bC;Le.prototype.className=hC;Le.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];De(Le);w.overWriteSetter(Le,"width",ac());w.overWriteSetter(Le,"height",ac());w.addGetterSetter(Le,"fontFamily","Arial");w.addGetterSetter(Le,"fontSize",12,W());w.addGetterSetter(Le,"fontStyle",jp);w.addGetterSetter(Le,"fontVariant",jp);w.addGetterSetter(Le,"padding",0,W());w.addGetterSetter(Le,"align",Hp);w.addGetterSetter(Le,"verticalAlign",uC);w.addGetterSetter(Le,"lineHeight",1,W());w.addGetterSetter(Le,"wrap",gC);w.addGetterSetter(Le,"ellipsis",!1,yt());w.addGetterSetter(Le,"letterSpacing",0,W());w.addGetterSetter(Le,"text","",Fr());w.addGetterSetter(Le,"textDecoration","");var SC="",zp="normal";function Vp(t){t.fillText(this.partialText,0,0)}function Kp(t){t.strokeText(this.partialText,0,0)}class He extends ${constructor(e){super(e),this.dummyCanvas=C.createCanvasElement(),this.dataArray=[],this.dataArray=Te.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Te.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(var a=0;a<s.length;a++){e.save();var o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var s=n[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return C.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Le.prototype.setText.call(this,e)}_getContextFont(){return Le.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var o=0,l=0;l<e.dataArray.length;l++)e.dataArray[l].pathLength>0&&(o+=e.dataArray[l].pathLength);var c=0;i==="center"&&(c=Math.max(0,o/2-a/2)),i==="right"&&(c=Math.max(0,o-a));for(var h=Gp(this.text()),u=this.text().split(" ").length-1,d,p,f,m=-1,_=0,y=function(){_=0;for(var B=e.dataArray,x=m+1;x<B.length;x++){if(B[x].pathLength>0)return m=x,B[x];B[x].command==="M"&&(d={x:B[x].points[0],y:B[x].points[1]})}return{}},g=function(B){var x=e._getTextSize(B).width+r;B===" "&&i==="justify"&&(x+=(o-a)/u);var R=0,X=0;for(p=void 0;Math.abs(x-R)/x>.01&&X<20;){X++;for(var G=R;f===void 0;)f=y(),f&&G+f.pathLength<x&&(G+=f.pathLength,f=void 0);if(Object.keys(f).length===0||d===void 0)return;var Q=!1;switch(f.command){case"L":Te.getLineLength(d.x,d.y,f.points[0],f.points[1])>x?p=Te.getPointOnLine(x,d.x,d.y,f.points[0],f.points[1],d.x,d.y):f=void 0;break;case"A":var ie=f.points[4],de=f.points[5],te=f.points[4]+de;_===0?_=ie+1e-8:x>R?_+=Math.PI/180*de/Math.abs(de):_-=Math.PI/360*de/Math.abs(de),(de<0&&_<te||de>=0&&_>te)&&(_=te,Q=!0),p=Te.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,f.points[6]);break;case"C":_===0?x>f.pathLength?_=1e-8:_=x/f.pathLength:x>R?_+=(x-R)/f.pathLength/2:_=Math.max(_-(R-x)/f.pathLength/2,0),_>1&&(_=1,Q=!0),p=Te.getPointOnCubicBezier(_,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":_===0?_=x/f.pathLength:x>R?_+=(x-R)/f.pathLength:_-=(R-x)/f.pathLength,_>1&&(_=1,Q=!0),p=Te.getPointOnQuadraticBezier(_,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3]);break}p!==void 0&&(R=Te.getLineLength(d.x,d.y,p.x,p.y)),Q&&(Q=!1,f=void 0)}},b="C",S=e._getTextSize(b).width+r,P=c/S-1,A=0;A<P&&(g(b),!(d===void 0||p===void 0));A++)d=p;for(var I=0;I<h.length&&(g(h[I]),!(d===void 0||p===void 0));I++){var T=Te.getLineLength(d.x,d.y,p.x,p.y),L=0;if(s)try{L=s(h[I-1],h[I])*this.fontSize()}catch{L=0}d.x+=L,p.x+=L,this.textWidth+=L;var M=Te.getPointOnLine(L+T/2,d.x,d.y,p.x,p.y),F=Math.atan2(p.y-d.y,p.x-d.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:h[I],rotation:F,p0:d,p1:p}),d=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});for(var n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);var c=this.fontSize();return{x:n-c/2,y:i-c/2,width:r-n+c,height:s-i+c}}destroy(){return C.releaseCanvas(this.dummyCanvas),super.destroy()}}He.prototype._fillFunc=Vp;He.prototype._strokeFunc=Kp;He.prototype._fillFuncHit=Vp;He.prototype._strokeFuncHit=Kp;He.prototype.className="TextPath";He.prototype._attrsAffectingSize=["text","fontSize","data"];De(He);w.addGetterSetter(He,"data");w.addGetterSetter(He,"fontFamily","Arial");w.addGetterSetter(He,"fontSize",12,W());w.addGetterSetter(He,"fontStyle",zp);w.addGetterSetter(He,"align","left");w.addGetterSetter(He,"letterSpacing",0,W());w.addGetterSetter(He,"textBaseline","middle");w.addGetterSetter(He,"fontVariant",zp);w.addGetterSetter(He,"text",SC);w.addGetterSetter(He,"textDecoration",null);w.addGetterSetter(He,"kerningFunc",null);var qp="tr-konva",EC=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${qp}`).join(" "),pu="nodesRect",CC=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],TC={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const AC="ontouchstart"in ee._global;function PC(t,e){if(t==="rotater")return"crosshair";e+=C.degToRad(TC[t]||0);var n=(C.radToDeg(e)%360+360)%360;return C._inRange(n,315+22.5,360)||C._inRange(n,0,22.5)?"ns-resize":C._inRange(n,45-22.5,45+22.5)?"nesw-resize":C._inRange(n,90-22.5,90+22.5)?"ew-resize":C._inRange(n,135-22.5,135+22.5)?"nwse-resize":C._inRange(n,180-22.5,180+22.5)?"ns-resize":C._inRange(n,225-22.5,225+22.5)?"nesw-resize":C._inRange(n,270-22.5,270+22.5)?"ew-resize":C._inRange(n,315-22.5,315+22.5)?"nwse-resize":(C.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var Js=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],gu=1e8;function RC(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Yp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:r,y:i})}function xC(t,e){const n=RC(t);return Yp(t,e,n)}function kC(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=ee.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=s)}return r}class Se extends xr{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(EC,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return C.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return qp+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=r._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(CC.map(a=>a+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,a=i.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(pu),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(pu,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),o=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y;const c=(ee.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return Yp(h,-ee.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-gu,y:-gu,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const h=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var u=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],d=c.getAbsoluteTransform();u.forEach(function(p){var f=d.point(p);n.push(f)})});const r=new it;r.rotate(-ee.getAngle(this.rotation()));var i,s,a,o;n.forEach(function(c){var h=r.point(c);i===void 0&&(i=a=h.x,s=o=h.y),i=Math.min(i,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:a-i,height:o-s,rotation:ee.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Js.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new Yi({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:AC?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=ee.getAngle(this.rotation()),s=PC(e,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new $({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+i*2,this.height()+i*2),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*C._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var n,r,i,s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const h=s.getAbsolutePosition();if(!(c.x===h.x&&c.y===h.y)){if(this._movingAnchorName==="rotater"){var u=this._getNodeRect();n=s.x()-u.width/2,r=-s.y()+u.height/2;let B=Math.atan2(-r,n)+Math.PI/2;u.height<0&&(B-=Math.PI);var d=ee.getAngle(this.rotation());const x=d+B,R=ee.getAngle(this.rotationSnapTolerance()),G=kC(this.rotationSnaps(),x,R)-u.rotation,Q=xC(u,G);this._fitNodesInto(Q,e);return}var p=this.keepRatio()||e.shiftKey,g=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(f.y-s.y(),2));var m=this.findOne(".top-left").x()>f.x?-1:1,_=this.findOne(".top-left").y()>f.y?-1:1;n=i*this.cos*m,r=i*this.sin*_,this.findOne(".top-left").x(f.x-n),this.findOne(".top-left").y(f.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(f.y-s.y(),2));var m=this.findOne(".top-right").x()<f.x?-1:1,_=this.findOne(".top-right").y()>f.y?-1:1;n=i*this.cos*m,r=i*this.sin*_,this.findOne(".top-right").x(f.x+n),this.findOne(".top-right").y(f.y-r)}var y=s.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(s.y()-f.y,2));var m=f.x<s.x()?-1:1,_=s.y()<f.y?-1:1;n=i*this.cos*m,r=i*this.sin*_,s.x(f.x-n),s.y(f.y+r)}y=s.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(s.y()-f.y,2));var m=this.findOne(".bottom-right").x()<f.x?-1:1,_=this.findOne(".bottom-right").y()<f.y?-1:1;n=i*this.cos*m,r=i*this.sin*_,this.findOne(".bottom-right").x(f.x+n),this.findOne(".bottom-right").y(f.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var g=this.centeredScaling()||e.altKey;if(g){var b=this.findOne(".top-left"),S=this.findOne(".bottom-right"),P=b.x(),A=b.y(),I=this.getWidth()-S.x(),T=this.getHeight()-S.y();S.move({x:-P,y:-A}),b.move({x:I,y:T})}var L=this.findOne(".top-left").getAbsolutePosition();n=L.x,r=L.y;var M=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),F=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:M,height:F,rotation:ee.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();const i=1;if(C._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(C._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=this.flipEnabled();var a=new it;if(a.rotate(ee.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const u=a.point({x:-this.padding()*2,y:0});if(e.x+=u.x,e.y+=u.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,!s){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const u=a.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.width+=this.padding()*2,!s){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const u=a.point({x:0,y:-this.padding()*2});if(e.x+=u.x,e.y+=u.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=this.padding()*2,!s){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const u=a.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=this.padding()*2,!s){this.update();return}}if(this.boundBoxFunc()){const u=this.boundBoxFunc()(r,e);u?e=u:C.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new it;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/o,r.height/o);const c=new it;c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(e.width/o,e.height/o);const h=c.multiply(l.invert());this._nodes.forEach(u=>{var d;const p=u.getParent().getAbsoluteTransform(),f=u.getTransform().copy();f.translate(u.offsetX(),u.offsetY());const m=new it;m.multiply(p.copy().invert()).multiply(h).multiply(p).multiply(f);const _=m.decompose();u.setAttrs(_),this._fire("transform",{evt:n,target:u}),u._fire("transform",{evt:n,target:u}),(d=u.getLayer())===null||d===void 0||d.batchDraw()}),this.rotation(C._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(C._getRotation(n.rotation));var r=n.width,i=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*C._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),xr.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return j.prototype.toObject.call(this)}clone(e){var n=j.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function IC(t){return t instanceof Array||C.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Js.indexOf(e)===-1&&C.warn("Unknown anchor name: "+e+". Available names are: "+Js.join(", "))}),t||[]}Se.prototype.className="Transformer";De(Se);w.addGetterSetter(Se,"enabledAnchors",Js,IC);w.addGetterSetter(Se,"flipEnabled",!0,yt());w.addGetterSetter(Se,"resizeEnabled",!0);w.addGetterSetter(Se,"anchorSize",10,W());w.addGetterSetter(Se,"rotateEnabled",!0);w.addGetterSetter(Se,"rotationSnaps",[]);w.addGetterSetter(Se,"rotateAnchorOffset",50,W());w.addGetterSetter(Se,"rotationSnapTolerance",5,W());w.addGetterSetter(Se,"borderEnabled",!0);w.addGetterSetter(Se,"anchorStroke","rgb(0, 161, 255)");w.addGetterSetter(Se,"anchorStrokeWidth",1,W());w.addGetterSetter(Se,"anchorFill","white");w.addGetterSetter(Se,"anchorCornerRadius",0,W());w.addGetterSetter(Se,"borderStroke","rgb(0, 161, 255)");w.addGetterSetter(Se,"borderStrokeWidth",1,W());w.addGetterSetter(Se,"borderDash");w.addGetterSetter(Se,"keepRatio",!0);w.addGetterSetter(Se,"centeredScaling",!1);w.addGetterSetter(Se,"ignoreStroke",!1);w.addGetterSetter(Se,"padding",0,W());w.addGetterSetter(Se,"node");w.addGetterSetter(Se,"nodes");w.addGetterSetter(Se,"boundBoxFunc");w.addGetterSetter(Se,"anchorDragBoundFunc");w.addGetterSetter(Se,"shouldOverdrawWholeArea",!1);w.addGetterSetter(Se,"useSingleNodeRotation",!0);w.backCompat(Se,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Vt extends ${_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ee.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Vt.prototype.className="Wedge";Vt.prototype._centroid=!0;Vt.prototype._attrsAffectingSize=["radius"];De(Vt);w.addGetterSetter(Vt,"radius",0,W());w.addGetterSetter(Vt,"angle",0,W());w.addGetterSetter(Vt,"clockwise",!1);w.backCompat(Vt,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function mu(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var OC=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],MC=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function LC(t,e){var n=t.data,r=t.width,i=t.height,s,a,o,l,c,h,u,d,p,f,m,_,y,g,b,S,P,A,I,T,L,M,F,B,x=e+e+1,R=r-1,X=i-1,G=e+1,Q=G*(G+1)/2,ie=new mu,de=null,te=ie,he=null,fe=null,be=OC[e],$e=MC[e];for(o=1;o<x;o++)te=te.next=new mu,o===G&&(de=te);for(te.next=ie,u=h=0,a=0;a<i;a++){for(S=P=A=I=d=p=f=m=0,_=G*(T=n[h]),y=G*(L=n[h+1]),g=G*(M=n[h+2]),b=G*(F=n[h+3]),d+=Q*T,p+=Q*L,f+=Q*M,m+=Q*F,te=ie,o=0;o<G;o++)te.r=T,te.g=L,te.b=M,te.a=F,te=te.next;for(o=1;o<G;o++)l=h+((R<o?R:o)<<2),d+=(te.r=T=n[l])*(B=G-o),p+=(te.g=L=n[l+1])*B,f+=(te.b=M=n[l+2])*B,m+=(te.a=F=n[l+3])*B,S+=T,P+=L,A+=M,I+=F,te=te.next;for(he=ie,fe=de,s=0;s<r;s++)n[h+3]=F=m*be>>$e,F!==0?(F=255/F,n[h]=(d*be>>$e)*F,n[h+1]=(p*be>>$e)*F,n[h+2]=(f*be>>$e)*F):n[h]=n[h+1]=n[h+2]=0,d-=_,p-=y,f-=g,m-=b,_-=he.r,y-=he.g,g-=he.b,b-=he.a,l=u+((l=s+e+1)<R?l:R)<<2,S+=he.r=n[l],P+=he.g=n[l+1],A+=he.b=n[l+2],I+=he.a=n[l+3],d+=S,p+=P,f+=A,m+=I,he=he.next,_+=T=fe.r,y+=L=fe.g,g+=M=fe.b,b+=F=fe.a,S-=T,P-=L,A-=M,I-=F,fe=fe.next,h+=4;u+=r}for(s=0;s<r;s++){for(P=A=I=S=p=f=m=d=0,h=s<<2,_=G*(T=n[h]),y=G*(L=n[h+1]),g=G*(M=n[h+2]),b=G*(F=n[h+3]),d+=Q*T,p+=Q*L,f+=Q*M,m+=Q*F,te=ie,o=0;o<G;o++)te.r=T,te.g=L,te.b=M,te.a=F,te=te.next;for(c=r,o=1;o<=e;o++)h=c+s<<2,d+=(te.r=T=n[h])*(B=G-o),p+=(te.g=L=n[h+1])*B,f+=(te.b=M=n[h+2])*B,m+=(te.a=F=n[h+3])*B,S+=T,P+=L,A+=M,I+=F,te=te.next,o<X&&(c+=r);for(h=s,he=ie,fe=de,a=0;a<i;a++)l=h<<2,n[l+3]=F=m*be>>$e,F>0?(F=255/F,n[l]=(d*be>>$e)*F,n[l+1]=(p*be>>$e)*F,n[l+2]=(f*be>>$e)*F):n[l]=n[l+1]=n[l+2]=0,d-=_,p-=y,f-=g,m-=b,_-=he.r,y-=he.g,g-=he.b,b-=he.a,l=s+((l=a+G)<X?l:X)*r<<2,d+=S+=he.r=n[l],p+=P+=he.g=n[l+1],f+=A+=he.b=n[l+2],m+=I+=he.a=n[l+3],he=he.next,_+=T=fe.r,y+=L=fe.g,g+=M=fe.b,b+=F=fe.a,S-=T,P-=L,A-=M,I-=F,fe=fe.next,h+=r}}const DC=function(e){var n=Math.round(this.blurRadius());n>0&&LC(e,n)};w.addGetterSetter(j,"blurRadius",0,W(),w.afterSetFilter);const NC=function(t){var e=this.brightness()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};w.addGetterSetter(j,"brightness",0,W(),w.afterSetFilter);const FC=function(t){var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,s=150,a=150,o;for(o=0;o<r;o+=4)i=n[o],s=n[o+1],a=n[o+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=i,n[o+1]=s,n[o+2]=a};w.addGetterSetter(j,"contrast",0,W(),w.afterSetFilter);const BC=function(t){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,a=0,o=t.data,l=t.width,c=t.height,h=l*4,u=c;switch(r){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:C.error("Unknown emboss direction: "+r)}do{var d=(u-1)*h,p=s;u+p<1&&(p=0),u+p>c&&(p=0);var f=(u-1+p)*l*4,m=l;do{var _=d+(m-1)*4,y=a;m+y<1&&(y=0),m+y>l&&(y=0);var g=f+(m-1+y)*4,b=o[_]-o[g],S=o[_+1]-o[g+1],P=o[_+2]-o[g+2],A=b,I=A>0?A:-A,T=S>0?S:-S,L=P>0?P:-P;if(T>I&&(A=S),L>I&&(A=P),A*=e,i){var M=o[_]+A,F=o[_+1]+A,B=o[_+2]+A;o[_]=M>255?255:M<0?0:M,o[_+1]=F>255?255:F<0?0:F,o[_+2]=B>255?255:B<0?0:B}else{var x=n-A;x<0?x=0:x>255&&(x=255),o[_]=o[_+1]=o[_+2]=x}}while(--m)}while(--u)};w.addGetterSetter(j,"embossStrength",.5,W(),w.afterSetFilter);w.addGetterSetter(j,"embossWhiteLevel",.5,W(),w.afterSetFilter);w.addGetterSetter(j,"embossDirection","top-left",null,w.afterSetFilter);w.addGetterSetter(j,"embossBlend",!1,null,w.afterSetFilter);function ho(t,e,n,r,i){var s=n-e,a=i-r,o;return s===0?r+a/2:a===0?r:(o=(t-e)/s,o=a*o+r,o)}const UC=function(t){var e=t.data,n=e.length,r=e[0],i=r,s,a=e[1],o=a,l,c=e[2],h=c,u,d,p=this.enhance();if(p!==0){for(d=0;d<n;d+=4)s=e[d+0],s<r?r=s:s>i&&(i=s),l=e[d+1],l<a?a=l:l>o&&(o=l),u=e[d+2],u<c?c=u:u>h&&(h=u);i===r&&(i=255,r=0),o===a&&(o=255,a=0),h===c&&(h=255,c=0);var f,m,_,y,g,b,S,P,A;for(p>0?(m=i+p*(255-i),_=r-p*(r-0),g=o+p*(255-o),b=a-p*(a-0),P=h+p*(255-h),A=c-p*(c-0)):(f=(i+r)*.5,m=i+p*(i-f),_=r+p*(r-f),y=(o+a)*.5,g=o+p*(o-y),b=a+p*(a-y),S=(h+c)*.5,P=h+p*(h-S),A=c+p*(c-S)),d=0;d<n;d+=4)e[d+0]=ho(e[d+0],r,i,_,m),e[d+1]=ho(e[d+1],a,o,b,g),e[d+2]=ho(e[d+2],c,h,A,P)}};w.addGetterSetter(j,"enhance",0,W(),w.afterSetFilter);const $C=function(t){var e=t.data,n=e.length,r,i;for(r=0;r<n;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};w.addGetterSetter(j,"hue",0,W(),w.afterSetFilter);w.addGetterSetter(j,"saturation",0,W(),w.afterSetFilter);w.addGetterSetter(j,"luminance",0,W(),w.afterSetFilter);const GC=function(t){var e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o,l=r*i*Math.cos(s*Math.PI/180),c=r*i*Math.sin(s*Math.PI/180),h=.299*r+.701*l+.167*c,u=.587*r-.587*l+.33*c,d=.114*r-.114*l-.497*c,p=.299*r-.299*l-.328*c,f=.587*r+.413*l+.035*c,m=.114*r-.114*l+.293*c,_=.299*r-.3*l+1.25*c,y=.587*r-.586*l-1.05*c,g=.114*r+.886*l-.2*c,b,S,P,A;for(o=0;o<n;o+=4)b=e[o+0],S=e[o+1],P=e[o+2],A=e[o+3],e[o+0]=h*b+u*S+d*P+a,e[o+1]=p*b+f*S+m*P+a,e[o+2]=_*b+y*S+g*P+a,e[o+3]=A},HC=function(t){var e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a,o=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*o+.167*l,h=.587*r-.587*o+.33*l,u=.114*r-.114*o-.497*l,d=.299*r-.299*o-.328*l,p=.587*r+.413*o+.035*l,f=.114*r-.114*o+.293*l,m=.299*r-.3*o+1.25*l,_=.587*r-.586*o-1.05*l,y=.114*r+.886*o-.2*l,g,b,S,P;for(a=0;a<n;a+=4)g=e[a+0],b=e[a+1],S=e[a+2],P=e[a+3],e[a+0]=c*g+h*b+u*S,e[a+1]=d*g+p*b+f*S,e[a+2]=m*g+_*b+y*S,e[a+3]=P};w.addGetterSetter(j,"hue",0,W(),w.afterSetFilter);w.addGetterSetter(j,"saturation",0,W(),w.afterSetFilter);w.addGetterSetter(j,"value",0,W(),w.afterSetFilter);const jC=function(t){var e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};var WC=function(t,e,n){var r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2,c,h,u,d=0,p=0,f=0,m=0,_,y=Math.sqrt(o*o+l*l);h=s-o,u=a-l,_=Math.sqrt(h*h+u*u),y=_>y?_:y;var g=a,b=s,S,P,A=360/b*Math.PI/180,I,T;for(P=0;P<b;P+=1)for(I=Math.sin(P*A),T=Math.cos(P*A),S=0;S<g;S+=1)h=Math.floor(o+y*S/g*T),u=Math.floor(l+y*S/g*I),c=(u*s+h)*4,d=r[c+0],p=r[c+1],f=r[c+2],m=r[c+3],c=(P+S*s)*4,i[c+0]=d,i[c+1]=p,i[c+2]=f,i[c+3]=m},zC=function(t,e,n){var r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2,c,h,u,d,p,f=0,m=0,_=0,y=0,g,b=Math.sqrt(o*o+l*l);h=s-o,u=a-l,g=Math.sqrt(h*h+u*u),b=g>b?g:b;var S=a,P=s,A,I,T=n.polarRotation||0,L,M;for(h=0;h<s;h+=1)for(u=0;u<a;u+=1)d=h-o,p=u-l,A=Math.sqrt(d*d+p*p)*S/b,I=(Math.atan2(p,d)*180/Math.PI+360+T)%360,I=I*P/360,L=Math.floor(I),M=Math.floor(A),c=(M*s+L)*4,f=r[c+0],m=r[c+1],_=r[c+2],y=r[c+3],c=(u*s+h)*4,i[c+0]=f,i[c+1]=m,i[c+2]=_,i[c+3]=y};const VC=function(t){var e=t.width,n=t.height,r,i,s,a,o,l,c,h,u,d,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(f%360)/360);if(!(p<1)){var _=C.createCanvasElement();_.width=e,_.height=n;var y=_.getContext("2d").getImageData(0,0,e,n);C.releaseCanvas(_),WC(t,y,{polarCenterX:e/2,polarCenterY:n/2});for(var g=e/Math.pow(2,p);g<=8;)g=g*2,p-=1;g=Math.ceil(g);var b=g,S=0,P=b,A=1;for(m+g>e&&(S=b,P=0,A=-1),i=0;i<n;i+=1)for(r=S;r!==P;r+=A)s=Math.round(r+m)%e,u=(e*i+s)*4,o=y.data[u+0],l=y.data[u+1],c=y.data[u+2],h=y.data[u+3],d=(e*i+r)*4,y.data[d+0]=o,y.data[d+1]=l,y.data[d+2]=c,y.data[d+3]=h;for(i=0;i<n;i+=1)for(b=Math.floor(g),a=0;a<p;a+=1){for(r=0;r<b+1;r+=1)u=(e*i+r)*4,o=y.data[u+0],l=y.data[u+1],c=y.data[u+2],h=y.data[u+3],d=(e*i+b*2-r-1)*4,y.data[d+0]=o,y.data[d+1]=l,y.data[d+2]=c,y.data[d+3]=h;b*=2}zC(y,t,{polarRotation:0})}};w.addGetterSetter(j,"kaleidoscopePower",2,W(),w.afterSetFilter);w.addGetterSetter(j,"kaleidoscopeAngle",0,W(),w.afterSetFilter);function ws(t,e,n){var r=(n*t.width+e)*4,i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Kr(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function KC(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function qC(t,e){var n=ws(t,0,0),r=ws(t,t.width-1,0),i=ws(t,0,t.height-1),s=ws(t,t.width-1,t.height-1),a=e||10;if(Kr(n,r)<a&&Kr(r,s)<a&&Kr(s,i)<a&&Kr(i,n)<a){for(var o=KC([r,n,s,i]),l=[],c=0;c<t.width*t.height;c++){var h=Kr(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=h<a?0:255}return l}}function YC(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function XC(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var m=p*e+f,_=r[u*i+d];h+=t[m]*_}}a[c]=h===255*8?255:0}return a}function JC(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var m=p*e+f,_=r[u*i+d];h+=t[m]*_}}a[c]=h>=255*4?255:0}return a}function ZC(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var m=p*e+f,_=r[u*i+d];h+=t[m]*_}}a[c]=h}return a}const QC=function(t){var e=this.threshold(),n=qC(t,e);return n&&(n=XC(n,t.width,t.height),n=JC(n,t.width,t.height),n=ZC(n,t.width,t.height),YC(t,n)),t};w.addGetterSetter(j,"threshold",0,W(),w.afterSetFilter);const e1=function(t){var e=this.noise()*255,n=t.data,r=n.length,i=e/2,s;for(s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};w.addGetterSetter(j,"noise",.2,W(),w.afterSetFilter);const t1=function(t){var e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i,s,a,o,l,c,h,u=Math.ceil(n/e),d=Math.ceil(r/e),p,f,m,_,y,g,b,S=t.data;if(e<=0){C.error("pixelSize value can not be <= 0");return}for(y=0;y<u;y+=1)for(g=0;g<d;g+=1){for(o=0,l=0,c=0,h=0,p=y*e,f=p+e,m=g*e,_=m+e,b=0,i=p;i<f;i+=1)if(!(i>=n))for(s=m;s<_;s+=1)s>=r||(a=(n*s+i)*4,o+=S[a+0],l+=S[a+1],c+=S[a+2],h+=S[a+3],b+=1);for(o=o/b,l=l/b,c=c/b,h=h/b,i=p;i<f;i+=1)if(!(i>=n))for(s=m;s<_;s+=1)s>=r||(a=(n*s+i)*4,S[a+0]=o,S[a+1]=l,S[a+2]=c,S[a+3]=h)}};w.addGetterSetter(j,"pixelSize",8,W(),w.afterSetFilter);const n1=function(t){var e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e,s;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};w.addGetterSetter(j,"levels",.5,W(),w.afterSetFilter);const r1=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a,o;for(a=0;a<n;a+=4)o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255,e[a]=o*r,e[a+1]=o*i,e[a+2]=o*s,e[a+3]=e[a+3]};w.addGetterSetter(j,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(j,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(j,"blue",0,yp,w.afterSetFilter);const i1=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha(),o,l;for(o=0;o<n;o+=4)l=1-a,e[o]=r*a+e[o]*l,e[o+1]=i*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l};w.addGetterSetter(j,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(j,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(j,"blue",0,yp,w.afterSetFilter);w.addGetterSetter(j,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const s1=function(t){var e=t.data,n=e.length,r,i,s,a;for(r=0;r<n;r+=4)i=e[r+0],s=e[r+1],a=e[r+2],e[r+0]=Math.min(255,i*.393+s*.769+a*.189),e[r+1]=Math.min(255,i*.349+s*.686+a*.168),e[r+2]=Math.min(255,i*.272+s*.534+a*.131)},a1=function(t){var e=t.data,n=t.width,r=t.height,i=n*4,s=r;do{var a=(s-1)*i,o=n;do{var l=a+(o-1)*4,c=e[l],h=e[l+1],u=e[l+2];c>127&&(c=255-c),h>127&&(h=255-h),u>127&&(u=255-u),e[l]=c,e[l+1]=h,e[l+2]=u}while(--o)}while(--s)},o1=function(t){var e=this.threshold()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<e?0:255};w.addGetterSetter(j,"threshold",.5,W(),w.afterSetFilter);const l1=lu.Util._assign(lu,{Arc:Wt,Arrow:Xn,Circle:Br,Ellipse:Sn,Image:dt,Label:hc,Tag:Jn,Line:zt,Path:Te,Rect:Yi,RegularPolygon:Zn,Ring:Qn,Sprite:xt,Star:En,Text:Le,TextPath:He,Transformer:Se,Wedge:Vt,Filters:{Blur:DC,Brighten:NC,Contrast:FC,Emboss:BC,Enhance:UC,Grayscale:$C,HSL:GC,HSV:HC,Invert:jC,Kaleidoscope:VC,Mask:QC,Noise:e1,Pixelate:t1,Posterize:n1,RGB:r1,RGBA:i1,Sepia:s1,Solarize:a1,Threshold:o1}}),c1=Object.freeze(Object.defineProperty({__proto__:null,default:l1},Symbol.toStringTag,{value:"Module"})),h1=vp(c1);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(r,i){t.exports=i(JS,h1)})(qS,function(n,r){return function(i){var s={};function a(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return i[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=i,a.c=s,a.d=function(o,l,c){a.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:c})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,l){if(l&1&&(o=a(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var h in o)a.d(c,h,function(u){return o[u]}.bind(null,h));return c},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=2)}([function(i,s){i.exports=n},function(i,s){i.exports=r},function(i,s,a){i.exports=a(3)},function(i,s,a){a.r(s);var o=a(0),l=a(1),c=a.n(l);function h(x){if(!c.a.autoDrawEnabled){var R=x.getLayer()||x.getStage();R&&R.batchDraw()}}var u={key:!0,style:!0,elm:!0,isRootInsert:!0},d=".vue-konva-event";function p(x,R,X,G){R===void 0&&(R={}),X===void 0&&(X={});var Q=x.__konvaNode,ie={},de=!1;for(var te in X)if(!u[te]){var he=te.slice(0,2)==="on",fe=X[te]!==R[te];if(he&&fe){var be=te.substr(2).toLowerCase();be.substr(0,7)==="content"&&(be="content"+be.substr(7,1).toUpperCase()+be.substr(8)),Q.off(be+d,X[te])}var $e=!R.hasOwnProperty(te);$e&&Q.setAttr(te,void 0)}for(var O in R)if(!u[O]){var K=O.slice(0,2)==="on",q=X[O]!==R[O];if(K&&q){var J=O.substr(2).toLowerCase();J.substr(0,7)==="content"&&(J="content"+J.substr(7,1).toUpperCase()+J.substr(8)),R[O]&&(Q.off(J+d),Q.on(J+d,R[O]))}!K&&(R[O]!==X[O]||G&&R[O]!==Q.getAttr(O))&&(de=!0,ie[O]=R[O])}de&&(Q.setAttrs(ie),h(Q))}var f="v";function m(x){function R(X){return X.__konvaNode?X:X.parent?R(X.parent):(console.error("vue-konva error: Can not find parent node"),{})}return R(x.parent)}function _(x){if(x!=null&&x.component)return x.component.__konvaNode||_(x.component.subTree)}function y(x){var R=x.el,X=x.component,G=_(x);if(R!=null&&R.tagName&&X&&!G){var Q=R&&R.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+Q+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return G}function g(x){var R=[];return x.children&&x.children.forEach(function(X){!X.component&&Array.isArray(X.children)&&X.children.forEach(function(G){!G.component&&Array.isArray(G.children)?R.push.apply(R,G.children):R.push(G)}),X.component&&R.push(X)}),R}function b(x,R){var X=g(x),G=[];X.forEach(function(ie){var de=y(ie);de&&G.push(de)});var Q=!1;G.forEach(function(ie,de){ie.getZIndex()!==de&&(ie.setZIndex(de),Q=!0)}),Q&&h(R)}function S(){return S=Object.assign||function(x){for(var R=1;R<arguments.length;R++){var X=arguments[R];for(var G in X)Object.prototype.hasOwnProperty.call(X,G)&&(x[G]=X[G])}return x},S.apply(this,arguments)}var P={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(R,X){var G=X.attrs,Q=X.slots,ie=X.expose;X.emits;var de=Object(o.getCurrentInstance)(),te=Object(o.reactive)({}),he=Object(o.ref)(null),fe=new window.Konva.Stage({width:R.config.width,height:R.config.height,container:document.createElement("div")});de.__konvaNode=fe,O();function be(){return de.__konvaNode}function $e(){return de.__konvaNode}function O(){var K=te||{},q=S({},G,R.config);p(de,q,K,R.__useStrictMode),Object.assign(te,q)}return Object(o.onMounted)(function(){he.value.innerHTML="",fe.container(he.value),O()}),Object(o.onUpdated)(function(){O(),b(de.subTree,fe)}),Object(o.onBeforeUnmount)(function(){fe.destroy()}),Object(o.watch)(function(){return R.config},O,{deep:!0}),ie({getStage:$e,getNode:be}),function(){var K;return Object(o.h)("div",{ref:he},(K=Q.default)===null||K===void 0?void 0:K.call(Q))}}};function A(){return A=Object.assign||function(x){for(var R=1;R<arguments.length;R++){var X=arguments[R];for(var G in X)Object.prototype.hasOwnProperty.call(X,G)&&(x[G]=X[G])}return x},A.apply(this,arguments)}var I=".vue-konva-event",T={Group:!0,Layer:!0,FastLayer:!0,Label:!0},L=function(x){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(X,G){var Q=G.attrs,ie=G.slots,de=G.expose,te=Object(o.getCurrentInstance)(),he=Object(o.reactive)({}),fe=window.Konva[x];if(!fe){console.error("vue-konva error: Can not find node "+x);return}var be=new fe;te.__konvaNode=be,te.vnode.__konvaNode=be,K();function $e(){return te.__konvaNode}function O(){return te.__konvaNode}function K(){var J={};for(var pe in te.vnode.props)pe.slice(0,2)==="on"&&(J[pe]=te.vnode.props[pe]);var Oe=he||{},ue=A({},Q,X.config,J);p(te,ue,Oe,X.__useStrictMode),Object.assign(he,ue)}Object(o.onMounted)(function(){var J=m(te).__konvaNode;J.add(be),h(be)}),Object(o.onUnmounted)(function(){h(be),be.destroy(),be.off(I)}),Object(o.onUpdated)(function(){K(),b(te.subTree,be)}),Object(o.watch)(function(){return X.config},K,{deep:!0}),de({getStage:O,getNode:$e});var q=T[x];return q?function(){var J;return Object(o.h)("template",{},(J=ie.default)===null||J===void 0?void 0:J.call(ie))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var M=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],F=[{name:"Stage",component:P}].concat(M.map(function(x){return{name:x,component:L(x)}})),B={install:function(R,X){var G=f;X&&X.prefix&&(G=X.prefix),F.forEach(function(Q){R.component(""+G+Q.name,Q.component)})}};s.default=B}]).default})})(XS);const u1=YS(Xo),_u=t=>{let e=!1,n;return()=>(e||(e=!0,n=t()),n)};class al{static isServer(){return typeof document>"u"}}function d1(t){const e=document.createElement("SCRIPT");if(typeof t!="object")throw new Error("options should  be an object");Array.prototype.isPrototypeOf(t.libraries)&&(t.libraries=t.libraries.join(",")),t.v||(t.v=3.47),t.callback="vueGoogleMapsInit";let r="https://maps.googleapis.com/maps/api/js?"+Object.keys(t).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(t[i])).join("&");return e.setAttribute("src",r),e.setAttribute("async",""),e.setAttribute("defer",""),e}let vu=!1;function f1(t){if(!al.isServer()){if(vu)throw new Error("You already started the loading of google maps");{vu=!0;const e=d1(t);document.head.appendChild(e)}}}const Xp=(t,e,n)=>{for(let r of n){const i=`on${r.charAt(0).toUpperCase()}${r.slice(1)}`.replace(/[-_]+(.)?/g,(s,a)=>a?a.toUpperCase():"");t.$props[i]||t.$attrs[i]?e.addListener(r,s=>{t.$emit(r,s)}):(t.$gmapOptions.autobindAllEvents||t.$attrs[r])&&e.addListener(r,s=>{t.$emit(r,s)})}};function Jp(t,e,n,r=!1){let i=!1;function s(){i||(i=!0,t.$nextTick(()=>{i=!1,n()}))}for(let a of e)t.$watch(a,s,{immediate:r})}class yu{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}function Zs(t,e){return Object.keys(e).reduce((n,r)=>(t[r]!==void 0&&(n[r]=t[r]),n),{})}function uc(t,e,n){for(let r in n){let{twoWay:i,type:s,trackProperties:a,noBind:o}=n[r];if(o)continue;const l="set"+yu.capitalizeFirstLetter(r),c="get"+yu.capitalizeFirstLetter(r),h=r.toLowerCase()+"_changed",u=t[r];if(typeof e[l]>"u")throw new Error(`${l} is not a method of (the Maps object corresponding to) ${t.$options._componentTag}`);s!==Object||!a?t.$watch(r,()=>{const d=t[r];e[l](d)},{immediate:typeof u<"u",deep:s===Object}):Jp(t,a.map(d=>`${r}.${d}`),()=>{e[l](t[r])},t[r]!==void 0),i&&(t.$gmapOptions.autobindAllEvents||t.$attrs[h])&&e.addListener(h,()=>{t.$emit(h,e[c]())})}}const p1={inject:{$mapPromise:{default:"abcdef"}},provide(){return this.$mapPromise.then(t=>{this.$map=t}),{}}};function Cn(t){const{mappedProps:e,name:n,ctr:r,ctrArgs:i,events:s,beforeCreate:a,afterCreate:o,props:l,...c}=t,h=`$${n}Promise`,u=`$${n}Object`;return g1(!(c.props instanceof Array),"`props` should be an object, not Array"),{...typeof GENERATE_DOC<"u"?{$vgmOptions:t}:{},mixins:[p1],props:{...l,...dc(e)},render(){return""},provide(){const d=this.$mapPromise.then(p=>{this.$map=p;const f={...this.options,map:p,...Zs(this,e)};if(delete f.options,a){const m=a.bind(this)(f);if(m instanceof Promise)return m.then(()=>({options:f}))}return{options:f}}).then(({options:p})=>{const f=r();return this[u]=i?new(Function.prototype.bind.call(f,null,...i(p,Zs(this,l||{})))):new f(p),uc(this,this[u],e),Xp(this,this[u],s),o&&o.bind(this)(this[u]),this[u]});return this[h]=d,{[h]:d}},unmounted(){this[u]&&this[u].setMap&&this[u].setMap(null)},...c}}function g1(t,e){if(!t)throw new Error(e)}function dc(t){return Object.entries(t).map(([e,n])=>{const r={};return"type"in n&&(r.type=n.type),"default"in n&&(r.default=n.default),"required"in n&&(r.required=n.required),[e,r]}).reduce((e,[n,r])=>(e[n]=r,e),{})}const m1={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0}},_1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],v1=Cn({mappedProps:m1,props:{deepWatch:{type:Boolean,default:!1}},events:_1,name:"polyline",ctr:()=>google.maps.Polyline,afterCreate(){let t=()=>{};this.$watch("path",e=>{if(e){t(),this.$polylineObject.setPath(e);const n=this.$polylineObject.getPath(),r=[],i=()=>{this.$emit("path_changed",this.$polylineObject.getPath())};r.push([n,n.addListener("insert_at",i)]),r.push([n,n.addListener("remove_at",i)]),r.push([n,n.addListener("set_at",i)]),t=()=>{r.map(([s,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0})}}),y1={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0,noBind:!0},paths:{type:Array,twoWay:!0,noBind:!0}},b1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],w1=Cn({props:{deepWatch:{type:Boolean,default:!1}},events:b1,mappedProps:y1,name:"polygon",ctr:()=>google.maps.Polygon,beforeCreate(t){t.path||delete t.path,t.paths||delete t.paths},afterCreate(t){let e=()=>{};this.$watch("paths",n=>{if(n){e(),t.setPaths(n);const r=()=>{this.$emit("paths_changed",t.getPaths())},i=[],s=t.getPaths();for(let a=0;a<s.getLength();a++){let o=s.getAt(a);i.push([o,o.addListener("insert_at",r)]),i.push([o,o.addListener("remove_at",r)]),i.push([o,o.addListener("set_at",r)])}i.push([s,s.addListener("insert_at",r)]),i.push([s,s.addListener("remove_at",r)]),i.push([s,s.addListener("set_at",r)]),e=()=>{i.map(([a,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",n=>{if(n){e(),t.setPaths(n);const r=t.getPath(),i=[],s=()=>{this.$emit("path_changed",t.getPath())};i.push([r,r.addListener("insert_at",s)]),i.push([r,r.addListener("remove_at",s)]),i.push([r,r.addListener("set_at",s)]),e=()=>{i.map(([a,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0})}}),S1={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},E1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],C1=Cn({mappedProps:S1,name:"circle",ctr:()=>google.maps.Circle,events:E1}),T1={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},A1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],P1=Cn({mappedProps:T1,name:"rectangle",ctr:()=>google.maps.Rectangle,events:A1}),R1={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},options:{type:Object},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}},uo=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],x1=Cn({mappedProps:R1,events:uo,name:"marker",ctr:()=>google.maps.Marker,inject:{$clusterPromise:{default:null}},emits:uo,unmounted(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject,!0):this.$markerObject.setMap(null))},beforeCreate(t){return this.$clusterPromise&&(t.map=null),this.$clusterPromise},afterCreate(t){uo.forEach(e=>{t.addListener(e,n=>{this.$emit(e,n)})}),this.$clusterPromise&&this.$clusterPromise.then(e=>{this.$clusterObject=e,e.addMarker(t)})}});function k1(t,e,n,r,i,s){return vt(),_n("div",{onClick:e[0]||(e[0]=()=>{t.console.log("sdfsd")})},[Sr(t.$slots,"default")])}const I1=qn(x1,[["render",k1]]);var bu=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};function ol(t,e,n,r,i,s){if(i-r<=n)return;const a=r+i>>1;Zp(t,e,a,r,i,s%2),ol(t,e,n,r,a-1,s+1),ol(t,e,n,a+1,i,s+1)}function Zp(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(h-c/2<0?-1:1),f=Math.max(r,Math.floor(n-h*d/c+p)),m=Math.min(i,Math.floor(n+(c-h)*d/c+p));Zp(t,e,n,f,m,s)}const a=e[2*n+s];let o=r,l=i;for(qr(t,e,r,n),e[2*i+s]>a&&qr(t,e,r,i);o<l;){for(qr(t,e,o,l),o++,l--;e[2*o+s]<a;)o++;for(;e[2*l+s]>a;)l--}e[2*r+s]===a?qr(t,e,r,l):(l++,qr(t,e,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function qr(t,e,n,r){fo(t,n,r),fo(e,2*n,2*r),fo(e,2*n+1,2*r+1)}function fo(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function O1(t,e,n,r,i,s,a){const o=[0,t.length-1,0],l=[];let c,h;for(;o.length;){const u=o.pop(),d=o.pop(),p=o.pop();if(d-p<=a){for(let _=p;_<=d;_++)c=e[2*_],h=e[2*_+1],c>=n&&c<=i&&h>=r&&h<=s&&l.push(t[_]);continue}const f=Math.floor((p+d)/2);c=e[2*f],h=e[2*f+1],c>=n&&c<=i&&h>=r&&h<=s&&l.push(t[f]);const m=(u+1)%2;(u===0?n<=c:r<=h)&&(o.push(p),o.push(f-1),o.push(m)),(u===0?i>=c:s>=h)&&(o.push(f+1),o.push(d),o.push(m))}return l}function M1(t,e,n,r,i,s){const a=[0,t.length-1,0],o=[],l=i*i;for(;a.length;){const c=a.pop(),h=a.pop(),u=a.pop();if(h-u<=s){for(let _=u;_<=h;_++)wu(e[2*_],e[2*_+1],n,r)<=l&&o.push(t[_]);continue}const d=Math.floor((u+h)/2),p=e[2*d],f=e[2*d+1];wu(p,f,n,r)<=l&&o.push(t[d]);const m=(c+1)%2;(c===0?n-i<=p:r-i<=f)&&(a.push(u),a.push(d-1),a.push(m)),(c===0?n+i>=p:r+i>=f)&&(a.push(d+1),a.push(h),a.push(m))}return o}function wu(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const L1=t=>t[0],D1=t=>t[1];class Su{constructor(e,n=L1,r=D1,i=64,s=Float64Array){this.nodeSize=i,this.points=e;const a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),l=this.coords=new s(e.length*2);for(let c=0;c<e.length;c++)o[c]=c,l[2*c]=n(e[c]),l[2*c+1]=r(e[c]);ol(o,l,i,0,o.length-1,0)}range(e,n,r,i){return O1(this.ids,this.coords,e,n,r,i,this.nodeSize)}within(e,n,r){return M1(this.ids,this.coords,e,n,r,this.nodeSize)}}const N1={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Qs=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class F1{constructor(e){this.options=vi(Object.create(N1),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:r,maxZoom:i,nodeSize:s}=this.options;n&&console.time("total time");const a=`prepare ${e.length} points`;n&&console.time(a),this.points=e;let o=[];for(let l=0;l<e.length;l++)e[l].geometry&&o.push(U1(e[l],l));this.trees[i+1]=new Su(o,Cu,Tu,s,Float32Array),n&&console.timeEnd(a);for(let l=i;l>=r;l--){const c=+Date.now();o=this._cluster(o,l),this.trees[l]=new Su(o,Cu,Tu,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,o.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const h=this.getClusters([r,i,180,a],n),u=this.getClusters([-180,i,s,a],n);return h.concat(u)}const o=this.trees[this._limitZoom(n)],l=o.range(Is(r),Os(a),Is(s),Os(i)),c=[];for(const h of l){const u=o.points[h];c.push(u.numPoints?Eu(u):this.points[u.index])}return c}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const a=s.points[n];if(!a)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s.within(a.x,a.y,o),c=[];for(const h of l){const u=s.points[h];u.parentId===e&&c.push(u.numPoints?Eu(u):this.points[u.index])}if(c.length===0)throw new Error(i);return c}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,c=(r-l)/s,h=(r+1+l)/s,u={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,h),i.points,n,r,s,u),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,h),i.points,s,r,s,u),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,h),i.points,-1,r,s,u),u.features.length?u:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const a=this.getChildren(n);for(const o of a){const l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_addTileFeatures(e,n,r,i,s,a){for(const o of e){const l=n[o],c=l.numPoints;let h,u,d;if(c)h=Qp(l),u=l.x,d=l.y;else{const m=this.points[l.index];h=m.properties,u=Is(m.geometry.coordinates[0]),d=Os(m.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(u*s-r)),Math.round(this.options.extent*(d*s-i))]],tags:h};let f;c?f=l.id:this.options.generateId?f=l.index:this.points[l.index].id&&(f=this.points[l.index].id),f!==void 0&&(p.id=f),a.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const r=[],{radius:i,extent:s,reduce:a,minPoints:o}=this.options,l=i/(s*Math.pow(2,n));for(let c=0;c<e.length;c++){const h=e[c];if(h.zoom<=n)continue;h.zoom=n;const u=this.trees[n+1],d=u.within(h.x,h.y,l),p=h.numPoints||1;let f=p;for(const m of d){const _=u.points[m];_.zoom>n&&(f+=_.numPoints||1)}if(f>p&&f>=o){let m=h.x*p,_=h.y*p,y=a&&p>1?this._map(h,!0):null;const g=(c<<5)+(n+1)+this.points.length;for(const b of d){const S=u.points[b];if(S.zoom<=n)continue;S.zoom=n;const P=S.numPoints||1;m+=S.x*P,_+=S.y*P,S.parentId=g,a&&(y||(y=this._map(h,!0)),a(y,this._map(S)))}h.parentId=g,r.push(B1(m/f,_/f,g,f,y))}else if(r.push(h),f>1)for(const m of d){const _=u.points[m];_.zoom<=n||(_.zoom=n,r.push(_))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?vi({},e.properties):e.properties;const r=this.points[e.index].properties,i=this.options.map(r);return n&&i===r?vi({},i):i}}function B1(t,e,n,r,i){return{x:Qs(t),y:Qs(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function U1(t,e){const[n,r]=t.geometry.coordinates;return{x:Qs(Is(n)),y:Qs(Os(r)),zoom:1/0,index:e,parentId:-1}}function Eu(t){return{type:"Feature",id:t.id,properties:Qp(t),geometry:{type:"Point",coordinates:[$1(t.x),G1(t.y)]}}}function Qp(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return vi(vi({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function Is(t){return t/360+.5}function Os(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function $1(t){return(t-.5)*360}function G1(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function vi(t,e){for(const n in e)t[n]=e[n];return t}function Cu(t){return t.x}function Tu(t){return t.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function H1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class ll{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,n)=>e.extend(n.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class j1{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return W1(e)}}const W1=t=>t.map(n=>new ll({position:n.getPosition(),markers:[n]}));class z1 extends j1{constructor(e){var{maxZoom:n,radius:r=60}=e,i=H1(e,["maxZoom","radius"]);super({maxZoom:n}),this.superCluster=new F1(Object.assign({maxZoom:this.maxZoom,radius:r},i)),this.state={zoom:null}}calculate(e){let n=!1;if(!bu(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>({type:"Feature",geometry:{type:"Point",coordinates:[s.getPosition().lng(),s.getPosition().lat()]},properties:{marker:s}}));this.superCluster.load(i)}const r={zoom:e.map.getZoom()};return n||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(n=n||!bu(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new ll({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:n,lng:e})});{const i=r.marker;return new ll({markers:[i],position:i.getPosition()})}}}class V1{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class K1{render({count:e,position:n},r){const i=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",s=window.btoa(`
  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:n,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function q1(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class fc{constructor(){q1(fc,google.maps.OverlayView)}}var yi;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(yi||(yi={}));const Y1=(t,e,n)=>{n.fitBounds(e.bounds)};class Au extends fc{constructor({map:e,markers:n=[],algorithm:r=new z1({}),renderer:i=new K1,onClusterClick:s=Y1}){super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,yi.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,yi.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new V1(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,yi.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),r.marker.setMap(n)})}}const po={maxZoom:{type:Number,twoWay:!1},batchSizeIE:{type:Number,twoWay:!1},calculator:{type:Function,twoWay:!1},enableRetinaIcons:{type:Boolean,twoWay:!1},gridSize:{type:Number,twoWay:!1},ignoreHidden:{type:Boolean,twoWay:!1},imageExtension:{type:String,twoWay:!1},imagePath:{type:String,twoWay:!1},imageSizes:{type:Array,twoWay:!1},minimumClusterSize:{type:Number,twoWay:!1},styles:{type:Array,twoWay:!1},zoomOnClick:{type:Boolean,twoWay:!1}},X1=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],J1=Cn({mappedProps:po,events:X1,name:"cluster",ctr:()=>{if(typeof Au>"u"){const t="MarkerClusterer is not installed!";throw console.error(t),new Error(t)}return Au},ctrArgs:({map:t,...e})=>[t,[],e],afterCreate(t){const e=()=>{const n=t.getMarkers();t.clearMarkers(),t.addMarkers(n)};for(let n in po)po[n].twoWay&&this.$on(n.toLowerCase()+"_changed",e)},updated(){this.$clusterObject&&this.$clusterObject.repaint()},beforeUnmount(){this.$children&&this.$children.length&&this.$children.forEach(t=>{t.$clusterObject===this.$clusterObject&&(t.$clusterObject=null)}),this.$clusterObject&&this.$clusterObject.clearMarkers()}});function Z1(t,e,n,r,i,s){return vt(),_n("div",null,[Sr(t.$slots,"default")])}const Q1=qn(J1,[["render",Z1]]),e2={options:{type:Object,required:!1,default(){return{}}},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}},t2=["domready","click","closeclick","content_changed"],n2=Cn({mappedProps:e2,events:t2,name:"infoWindow",ctr:()=>google.maps.InfoWindow,props:{opened:{type:Boolean,default:!0}},inject:{$markerPromise:{default:null}},mounted(){const t=this.$refs.infoWindow;t.parentNode.removeChild(t)},beforeCreate(t){if(t.content=this.$refs.infoWindow,this.$markerPromise)return delete t.position,this.$markerPromise.then(e=>(this.$markerObject=e,e))},emits:["closeclick"],methods:{_openInfoWindow(){this.$infoWindowObject.close(),this.opened?this.$infoWindowObject.open(this.$map,this.$markerObject):this.$emit("closeclick")}},afterCreate(){this._openInfoWindow(),this.$watch("opened",()=>{this._openInfoWindow()})}}),r2={ref:"infoWindow"};function i2(t,e,n,r,i,s){return vt(),_n("div",r2,[Sr(t.$slots,"default")],512)}const s2=qn(n2,[["render",i2]]),a2={props:["resizeBus"],data(){return{_actualResizeBus:null}},created(){typeof this.resizeBus>"u"?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback(){this.resize()},isFunction(t){return t&&{}.toString.call(t)==="[object Function]"},_delayedResizeCallback(){this.$nextTick(()=>this._resizeCallback())}},watch:{resizeBus(t){this.$data._actualResizeBus=t},"$data._actualResizeBus"(t,e){e&&e.$off("resize",this._delayedResizeCallback)}},unmounted(){this.$data._actualResizeBus&&this.isFunction(this.$data._actualResizeBus.$off)&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}};function o2(t){let e=0;t(()=>{e+=1},()=>{e=Math.max(0,e-1)},()=>e===0)}const go={center:{required:!0,twoWay:!0,type:Object,noBind:!0},zoom:{required:!1,twoWay:!0,type:Number,noBind:!0},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},tilt:{twoWay:!0,type:Number},options:{type:Object,default(){return{}}}},Pu=["bounds_changed","click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],l2=["panBy","panTo","panToBounds","fitBounds"].reduce((t,e)=>(t[e]=function(){this.$mapObject&&this.$mapObject[e].apply(this.$mapObject,arguments)},t),{}),c2={resize(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter(){if(!this.$mapObject)return;const t=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(t)},_resizeCallback(){this.resizePreserveCenter()}},h2={mixins:[a2],props:dc({...go,...Pu.reduce((t,e)=>({...t,[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`.replace(/[-_]+(.)?/g,(n,r)=>r?r.toUpperCase():"")]:Function}),{})}),inheritAttrs:!1,provide(){return this.$mapPromise=new Promise((t,e)=>{this.$mapPromiseDeferred={resolve:t,reject:e}}),{$mapPromise:this.$mapPromise}},emits:["center_changed","zoom_changed","bounds_changed"],computed:{finalLat(){return this.center&&typeof this.center.lat=="function"?this.center.lat():this.center.lat},finalLng(){return this.center&&typeof this.center.lng=="function"?this.center.lng():this.center.lng},finalLatLng(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom(t){this.$mapObject&&this.$mapObject.setZoom(t)}},mounted(){return this.$gmapApiPromiseLazy().then(()=>{const t=this.$refs["vue-map"],e={...this.options,...Zs(this,go)};return delete e.options,this.$mapObject=new google.maps.Map(t,e),uc(this,this.$mapObject,go),Xp(this,this.$mapObject,Pu),o2((n,r,i)=>{this.$mapObject.addListener("center_changed",()=>{i()&&this.$emit("center_changed",this.$mapObject.getCenter()),r()}),Jp(this,["finalLat","finalLng"],()=>{n(),this.$mapObject.setCenter(this.finalLatLng)})}),this.$mapObject.addListener("zoom_changed",()=>{this.$emit("zoom_changed",this.$mapObject.getZoom())}),this.$mapObject.addListener("bounds_changed",()=>{this.$emit("bounds_changed",this.$mapObject.getBounds())}),this.$mapPromiseDeferred.resolve(this.$mapObject),this.$mapObject}).catch(t=>{throw t})},methods:{...c2,...l2}},u2={class:"vue-map-hidden"};function d2(t,e,n,r,i,s){return vt(),_n("div",{class:Or(["vue-map-container",t.$attrs.class])},[_e("div",{ref:"vue-map",class:"vue-map",style:Ir(t.$attrs.style?t.$attrs.style:"")},null,4),_e("div",u2,[Sr(t.$slots,"default")]),Sr(t.$slots,"visible")],2)}const f2=qn(h2,[["render",d2]]),p2={options:{type:Object,twoWay:!1,default:()=>{}},data:{type:Array,twoWay:!0}},g2=[],m2=Cn({mappedProps:p2,name:"heatmap",ctr:()=>google.maps.visualization.HeatmapLayer,events:g2}),_2=t=>{const e=t.addEventListener?t.addEventListener:t.attachEvent;function n(r,i){if(r==="keydown"){const s=i;i=function(a){const o=document.getElementsByClassName("pac-item-selected").length>0;if(a.which===13&&!o){const l=document.createEvent("Event");l.keyCode=40,l.which=40,s.apply(t,[l])}s.apply(t,[a])}}e.apply(t,[r,i])}t.addEventListener=n,t.attachEvent=n},mo={bounds:{type:Object},componentRestrictions:{type:Object,noBind:!0},types:{type:Array,default:function(){return[]}}},v2={selectFirstOnEnter:{required:!1,type:Boolean,default:!1},options:{type:Object}},y2={mounted(){this.$gmapApiPromiseLazy().then(()=>{if(this.selectFirstOnEnter&&_2(this.$refs.input),typeof google.maps.places.Autocomplete!="function")throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");const t={...Zs(this,mo),...this.options};this.$autocomplete=new google.maps.places.Autocomplete(this.$refs.input,t),uc(this,this.$autocomplete,mo),this.$watch("componentRestrictions",e=>{e!==void 0&&this.$autocomplete.setComponentRestrictions(e)}),this.$autocomplete.addListener("place_changed",()=>{this.$emit("place_changed",this.$autocomplete.getPlace())})})},props:{...dc(mo),...v2}};function b2(t,e,n,r,i,s){return vt(),_n("input",Hl({ref:"input"},t.$attrs,xd(t.$attrs,!0)),null,16)}const w2=qn(y2,[["render",b2]]);let eg=null;function S2(t,e){e={installComponents:!0,autobindAllEvents:!1,...e},eg=Hs({data:function(){return{gmapApi:null}}});const n=Hs();let r=E2(e);t.mixin({created(){this.$gmapDefaultResizeBus=n,this.$gmapOptions=e,this.$gmapApiPromiseLazy=r}}),t.$gmapDefaultResizeBus=n,t.$gmapApiPromiseLazy=r,e.installComponents&&(t.component("GMapMap",f2),t.component("GMapMarker",I1),t.component("GMapInfoWindow",s2),t.component("GMapCluster",Q1),t.component("GMapPolyline",v1),t.component("GMapPolygon",w1),t.component("GMapCircle",C1),t.component("GMapRectangle",P1),t.component("GMapAutocomplete",w2),t.component("GMapHeatmap",m2))}function E2(t){function e(){return eg.gmapApi={},window.google}if(t.load)return _u(()=>al.isServer()?new Promise(()=>{}).then(e):new Promise((n,r)=>{try{window.vueGoogleMapsInit=n,f1(t.load)}catch(i){r(i)}}).then(e));{const n=new Promise(r=>{al.isServer()||(window.vueGoogleMapsInit=r)}).then(e);return _u(()=>n)}}function tg(t,e){return function(){return t.apply(e,arguments)}}const{toString:C2}=Object.prototype,{getPrototypeOf:pc}=Object,Ma=(t=>e=>{const n=C2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kt=t=>(t=t.toLowerCase(),e=>Ma(e)===t),La=t=>e=>typeof e===t,{isArray:Ur}=Array,Li=La("undefined");function T2(t){return t!==null&&!Li(t)&&t.constructor!==null&&!Li(t.constructor)&&ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ng=kt("ArrayBuffer");function A2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ng(t.buffer),e}const P2=La("string"),ut=La("function"),rg=La("number"),Da=t=>t!==null&&typeof t=="object",R2=t=>t===!0||t===!1,Ms=t=>{if(Ma(t)!=="object")return!1;const e=pc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},x2=kt("Date"),k2=kt("File"),I2=kt("Blob"),O2=kt("FileList"),M2=t=>Da(t)&&ut(t.pipe),L2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ut(t.append)&&((e=Ma(t))==="formdata"||e==="object"&&ut(t.toString)&&t.toString()==="[object FormData]"))},D2=kt("URLSearchParams"),N2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xi(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ur(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function ig(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const sg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ag=t=>!Li(t)&&t!==sg;function cl(){const{caseless:t}=ag(this)&&this||{},e={},n=(r,i)=>{const s=t&&ig(e,i)||i;Ms(e[s])&&Ms(r)?e[s]=cl(e[s],r):Ms(r)?e[s]=cl({},r):Ur(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xi(arguments[r],n);return e}const F2=(t,e,n,{allOwnKeys:r}={})=>(Xi(e,(i,s)=>{n&&ut(i)?t[s]=tg(i,n):t[s]=i},{allOwnKeys:r}),t),B2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),U2=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},$2=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&pc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},G2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},H2=t=>{if(!t)return null;if(Ur(t))return t;let e=t.length;if(!rg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},j2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&pc(Uint8Array)),W2=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},z2=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},V2=kt("HTMLFormElement"),K2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ru=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),q2=kt("RegExp"),og=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xi(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},Y2=t=>{og(t,(e,n)=>{if(ut(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ut(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},X2=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ur(t)?r(t):r(String(t).split(e)),n},J2=()=>{},Z2=(t,e)=>(t=+t,Number.isFinite(t)?t:e),_o="abcdefghijklmnopqrstuvwxyz",xu="0123456789",lg={DIGIT:xu,ALPHA:_o,ALPHA_DIGIT:_o+_o.toUpperCase()+xu},Q2=(t=16,e=lg.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function eT(t){return!!(t&&ut(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tT=t=>{const e=new Array(10),n=(r,i)=>{if(Da(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ur(r)?[]:{};return Xi(r,(a,o)=>{const l=n(a,i+1);!Li(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},nT=kt("AsyncFunction"),rT=t=>t&&(Da(t)||ut(t))&&ut(t.then)&&ut(t.catch),N={isArray:Ur,isArrayBuffer:ng,isBuffer:T2,isFormData:L2,isArrayBufferView:A2,isString:P2,isNumber:rg,isBoolean:R2,isObject:Da,isPlainObject:Ms,isUndefined:Li,isDate:x2,isFile:k2,isBlob:I2,isRegExp:q2,isFunction:ut,isStream:M2,isURLSearchParams:D2,isTypedArray:j2,isFileList:O2,forEach:Xi,merge:cl,extend:F2,trim:N2,stripBOM:B2,inherits:U2,toFlatObject:$2,kindOf:Ma,kindOfTest:kt,endsWith:G2,toArray:H2,forEachEntry:W2,matchAll:z2,isHTMLForm:V2,hasOwnProperty:Ru,hasOwnProp:Ru,reduceDescriptors:og,freezeMethods:Y2,toObjectSet:X2,toCamelCase:K2,noop:J2,toFiniteNumber:Z2,findKey:ig,global:sg,isContextDefined:ag,ALPHABET:lg,generateString:Q2,isSpecCompliantForm:eT,toJSONObject:tT,isAsyncFn:nT,isThenable:rT};function me(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}N.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cg=me.prototype,hg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hg[t]={value:t}});Object.defineProperties(me,hg);Object.defineProperty(cg,"isAxiosError",{value:!0});me.from=(t,e,n,r,i,s)=>{const a=Object.create(cg);return N.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),me.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const iT=null;function hl(t){return N.isPlainObject(t)||N.isArray(t)}function ug(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function ku(t,e,n){return t?t.concat(e).map(function(i,s){return i=ug(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function sT(t){return N.isArray(t)&&!t.some(hl)}const aT=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Na(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!N.isUndefined(_[m])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(N.isDate(f))return f.toISOString();if(!l&&N.isBlob(f))throw new me("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(f)||N.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function h(f,m,_){let y=f;if(f&&!_&&typeof f=="object"){if(N.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(N.isArray(f)&&sT(f)||(N.isFileList(f)||N.endsWith(m,"[]"))&&(y=N.toArray(f)))return m=ug(m),y.forEach(function(b,S){!(N.isUndefined(b)||b===null)&&e.append(a===!0?ku([m],S,s):a===null?m:m+"[]",c(b))}),!1}return hl(f)?!0:(e.append(ku(_,m,s),c(f)),!1)}const u=[],d=Object.assign(aT,{defaultVisitor:h,convertValue:c,isVisitable:hl});function p(f,m){if(!N.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(f),N.forEach(f,function(y,g){(!(N.isUndefined(y)||y===null)&&i.call(e,y,N.isString(g)?g.trim():g,m,d))===!0&&p(y,m?m.concat(g):[g])}),u.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Iu(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function gc(t,e){this._pairs=[],t&&Na(t,this,e)}const dg=gc.prototype;dg.append=function(e,n){this._pairs.push([e,n])};dg.toString=function(e){const n=e?function(r){return e.call(this,r,Iu)}:Iu;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function oT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fg(t,e,n){if(!e)return t;const r=n&&n.encode||oT,i=n&&n.serialize;let s;if(i?s=i(e,n):s=N.isURLSearchParams(e)?e.toString():new gc(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class lT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ou=lT,pg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cT=typeof URLSearchParams<"u"?URLSearchParams:gc,hT=typeof FormData<"u"?FormData:null,uT=typeof Blob<"u"?Blob:null,dT=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),fT=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ct={isBrowser:!0,classes:{URLSearchParams:cT,FormData:hT,Blob:uT},isStandardBrowserEnv:dT,isStandardBrowserWebWorkerEnv:fT,protocols:["http","https","file","blob","url","data"]};function pT(t,e){return Na(t,new Ct.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ct.isNode&&N.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function gT(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mT(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function gg(t){function e(n,r,i,s){let a=n[s++];const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&N.isArray(i)?i.length:a,l?(N.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!N.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&N.isArray(i[a])&&(i[a]=mT(i[a])),!o)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(r,i)=>{e(gT(r),i,n,0)}),n}return null}function _T(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const mc={transitional:pg,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=N.isObject(e);if(s&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i&&i?JSON.stringify(gg(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pT(e,this.formSerializer).toString();if((o=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Na(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),_T(e)):e}],transformResponse:[function(e){const n=this.transitional||mc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&N.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?me.from(o,me.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{mc.headers[t]={}});const _c=mc,vT=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yT=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&vT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Mu=Symbol("internals");function Yr(t){return t&&String(t).trim().toLowerCase()}function Ls(t){return t===!1||t==null?t:N.isArray(t)?t.map(Ls):String(t)}function bT(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const wT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vo(t,e,n,r,i){if(N.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function ST(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ET(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class Fa{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,c){const h=Yr(l);if(!h)throw new Error("header name must be a non-empty string");const u=N.findKey(i,h);(!u||i[u]===void 0||c===!0||c===void 0&&i[u]!==!1)&&(i[u||l]=Ls(o))}const a=(o,l)=>N.forEach(o,(c,h)=>s(c,h,l));return N.isPlainObject(e)||e instanceof this.constructor?a(e,n):N.isString(e)&&(e=e.trim())&&!wT(e)?a(yT(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Yr(e),e){const r=N.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return bT(i);if(N.isFunction(n))return n.call(this,i,r);if(N.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yr(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vo(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Yr(a),a){const o=N.findKey(r,a);o&&(!n||vo(r,r[o],o,n))&&(delete r[o],i=!0)}}return N.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||vo(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return N.forEach(this,(i,s)=>{const a=N.findKey(r,s);if(a){n[a]=Ls(i),delete n[s];return}const o=e?ST(s):String(s).trim();o!==s&&delete n[s],n[o]=Ls(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&N.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Mu]=this[Mu]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Yr(a);r[o]||(ET(i,a),r[o]=!0)}return N.isArray(e)?e.forEach(s):s(e),this}}Fa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Fa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});N.freezeMethods(Fa);const Ut=Fa;function yo(t,e){const n=this||_c,r=e||n,i=Ut.from(r.headers);let s=r.data;return N.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function mg(t){return!!(t&&t.__CANCEL__)}function Ji(t,e,n){me.call(this,t??"canceled",me.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Ji,me,{__CANCEL__:!0});function CT(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const TT=Ct.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,a,o){const l=[];l.push(n+"="+encodeURIComponent(r)),N.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),N.isString(s)&&l.push("path="+s),N.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function AT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PT(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function _g(t,e){return t&&!AT(e)?PT(t,e):e}const RT=Ct.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const o=N.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function xT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kT(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];a||(a=c),n[i]=l,r[i]=c;let u=s,d=0;for(;u!==i;)d+=n[u++],u=u%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=h&&c-h;return p?Math.round(d*1e3/p):void 0}}function Lu(t,e){let n=0;const r=kT(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-n,l=r(o),c=s<=a;n=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&c?(a-s)/l:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const IT=typeof XMLHttpRequest<"u",OT=IT&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ut.from(t.headers).normalize(),a=t.responseType;let o;function l(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}let c;N.isFormData(i)&&(Ct.isStandardBrowserEnv||Ct.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?N.isString(c=s.getContentType())&&s.setContentType(c.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let h=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+m))}const u=_g(t.baseURL,t.url);h.open(t.method.toUpperCase(),fg(u,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function d(){if(!h)return;const f=Ut.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:f,config:t,request:h};CT(function(g){n(g),l()},function(g){r(g),l()},_),h=null}if("onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(d)},h.onabort=function(){h&&(r(new me("Request aborted",me.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||pg;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new me(m,_.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,h)),h=null},Ct.isStandardBrowserEnv){const f=RT(u)&&t.xsrfCookieName&&TT.read(t.xsrfCookieName);f&&s.set(t.xsrfHeaderName,f)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&N.forEach(s.toJSON(),function(m,_){h.setRequestHeader(_,m)}),N.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),a&&a!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Lu(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Lu(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=f=>{h&&(r(!f||f.type?new Ji(null,t,h):f),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const p=xT(u);if(p&&Ct.protocols.indexOf(p)===-1){r(new me("Unsupported protocol "+p+":",me.ERR_BAD_REQUEST,t));return}h.send(i||null)})},ul={http:iT,xhr:OT};N.forEach(ul,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Du=t=>`- ${t}`,MT=t=>N.isFunction(t)||t===null||t===!1,vg={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!MT(n)&&(r=ul[(a=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Du).join(`
`):" "+Du(s[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ul};function bo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ji(null,t)}function Nu(t){return bo(t),t.headers=Ut.from(t.headers),t.data=yo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vg.getAdapter(t.adapter||_c.adapter)(t).then(function(r){return bo(t),r.data=yo.call(t,t.transformResponse,r),r.headers=Ut.from(r.headers),r},function(r){return mg(r)||(bo(t),r&&r.response&&(r.response.data=yo.call(t,t.transformResponse,r.response),r.response.headers=Ut.from(r.response.headers))),Promise.reject(r)})}const Fu=t=>t instanceof Ut?t.toJSON():t;function kr(t,e){e=e||{};const n={};function r(c,h,u){return N.isPlainObject(c)&&N.isPlainObject(h)?N.merge.call({caseless:u},c,h):N.isPlainObject(h)?N.merge({},h):N.isArray(h)?h.slice():h}function i(c,h,u){if(N.isUndefined(h)){if(!N.isUndefined(c))return r(void 0,c,u)}else return r(c,h,u)}function s(c,h){if(!N.isUndefined(h))return r(void 0,h)}function a(c,h){if(N.isUndefined(h)){if(!N.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function o(c,h,u){if(u in e)return r(c,h);if(u in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,h)=>i(Fu(c),Fu(h),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(h){const u=l[h]||i,d=u(t[h],e[h],h);N.isUndefined(d)&&u!==o||(n[h]=d)}),n}const yg="1.6.0",vc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Bu={};vc.transitional=function(e,n,r){function i(s,a){return"[Axios v"+yg+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new me(i(a," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Bu[a]&&(Bu[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function LT(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const dl={assertOptions:LT,validators:vc},Zt=dl.validators;class ea{constructor(e){this.defaults=e,this.interceptors={request:new Ou,response:new Ou}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=kr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&dl.assertOptions(r,{silentJSONParsing:Zt.transitional(Zt.boolean),forcedJSONParsing:Zt.transitional(Zt.boolean),clarifyTimeoutError:Zt.transitional(Zt.boolean)},!1),i!=null&&(N.isFunction(i)?n.paramsSerializer={serialize:i}:dl.assertOptions(i,{encode:Zt.function,serialize:Zt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&N.merge(s.common,s[n.method]);s&&N.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=Ut.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let h,u=0,d;if(!l){const f=[Nu.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,c),d=f.length,h=Promise.resolve(n);u<d;)h=h.then(f[u++],f[u++]);return h}d=o.length;let p=n;for(u=0;u<d;){const f=o[u++],m=o[u++];try{p=f(p)}catch(_){m.call(this,_);break}}try{h=Nu.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,d=c.length;u<d;)h=h.then(c[u++],c[u++]);return h}getUri(e){e=kr(this.defaults,e);const n=_g(e.baseURL,e.url);return fg(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){ea.prototype[e]=function(n,r){return this.request(kr(r||{},{method:e,url:n,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(kr(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ea.prototype[e]=n(),ea.prototype[e+"Form"]=n(!0)});const Ds=ea;class yc{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new Ji(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new yc(function(i){e=i}),cancel:e}}}const DT=yc;function NT(t){return function(n){return t.apply(null,n)}}function FT(t){return N.isObject(t)&&t.isAxiosError===!0}const fl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fl).forEach(([t,e])=>{fl[e]=t});const BT=fl;function bg(t){const e=new Ds(t),n=tg(Ds.prototype.request,e);return N.extend(n,Ds.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return bg(kr(t,i))},n}const Ue=bg(_c);Ue.Axios=Ds;Ue.CanceledError=Ji;Ue.CancelToken=DT;Ue.isCancel=mg;Ue.VERSION=yg;Ue.toFormData=Na;Ue.AxiosError=me;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=NT;Ue.isAxiosError=FT;Ue.mergeConfig=kr;Ue.AxiosHeaders=Ut;Ue.formToJSON=t=>gg(N.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=vg.getAdapter;Ue.HttpStatusCode=BT;Ue.default=Ue;const UT=Ue;var $T="firebase",GT="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr($T,GT,"app");const HT={apiKey:"AIzaSyBrArPrjK2RdAXddP3ZAKVRpagfztXjrwA",authDomain:"swemount-2d137.firebaseapp.com",projectId:"swemount-2d137",storageBucket:"swemount-2d137.appspot.com",messagingSenderId:"401638769719",appId:"1:401638769719:web:0765de6a911bfa41e16bb2",measurementId:"G-CVNKCYMPGH"};Rf(HT);_p.afterEach((t,e)=>{window.scrollTo(0,0)});const Zi=Hs(_S);Zi.use(_p);Zi.use(u1);Zi.config.globalProperties.$http=UT;Zi.use(S2,{load:{key:"AIzaSyAiwsX0pst4lZq1uBA6h1x89yRDZ4tO7TM",libraries:"places"}});Zi.mount("#app");export{WT as $,Wl as A,Dr as B,ca as C,_a as D,rt as E,je as F,pr as G,Rt as H,UT as I,Ir as J,hw as K,zT as L,Rv as M,uf as N,Im as O,Om as P,Pi as Q,Tr as R,gr as S,jl as T,yn as U,bn as V,e0 as W,Pf as X,jT as Y,ke as Z,qn as _,_e as a,Sa as a0,Cf as a1,n_ as b,_n as c,Ul as d,Ie as e,A_ as f,Pn as g,vp as h,qS as i,$i as j,ai as k,Hi as l,ga as m,Or as n,vt as o,ba as p,wd as q,Ad as r,Tt as s,ir as t,oi as u,$l as v,xl as w,Zm as x,Gs as y,cf as z};
